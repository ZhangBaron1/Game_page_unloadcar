window.__require=function t(e,o,n){function i(s,c){if(!o[s]){if(!e[s]){var a=s.split("/");if(a=a[a.length-1],!e[a]){var u="function"==typeof __require&&__require;if(!c&&u)return u(a,!0);if(r)return r(a,!0);throw new Error("Cannot find module '"+s+"'")}s=a}var l=o[s]={exports:{}};e[s][0].call(l.exports,function(t){return i(e[s][1][t]||t)},l,l.exports,t,e,o,n)}return o[s].exports}for(var r="function"==typeof __require&&__require,s=0;s<n.length;s++)i(n[s]);return i}({AD_POSITION:[function(t,e,o){"use strict";cc._RF.push(e,"1ff91vdUjJNfLckiEbdK28z","AD_POSITION"),Object.defineProperty(o,"__esModule",{value:!0}),o.AD_POSITION=void 0,o.AD_POSITION={NONE:0,BANNER:1,FLOAT:2,SIDE:4,CENTER:8,EXPORT:16,BACK:32,MASK:64,RIGHTBANNER:128,LEFTRIGHT:256,EXPORT_FIXED:512,ROTATE:1024,RECOMMEND:2048,HOT:4096,LEFTRIGHTSINGLE:8192,TOP:32768,RECOVER:16384},cc._RF.pop()},{}],ActionControl:[function(t,e,o){"use strict";cc._RF.push(e,"690f7HAhfhHxLJ9Ej9J+9mD","ActionControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../enum/ROLE_ATTACK"),c=t("../framework/utils/FrameworkEvent"),a=cc._decorator,u=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnLeft=null,e.btnRight=null,e.btnJump=null,e.btnAttack1=null,e.btnAttack2=null,e.btnAttack3=null,e}return i(e,t),e.prototype.start=function(){this.btnAttack1.on(cc.Node.EventType.TOUCH_START,this.onAttack1,this),this.btnAttack2.on(cc.Node.EventType.TOUCH_START,this.onAttack2,this),this.btnAttack3.on(cc.Node.EventType.TOUCH_START,this.onAttack3,this),this.btnJump.on(cc.Node.EventType.TOUCH_START,this.onJump,this),this.btnLeft.on(cc.Node.EventType.TOUCH_START,this.onLeft,this),this.btnLeft.on(cc.Node.EventType.TOUCH_END,this.onStop,this),this.btnLeft.on(cc.Node.EventType.TOUCH_MOVE,this.onLeft,this),this.btnLeft.on(cc.Node.EventType.TOUCH_CANCEL,this.onStop,this),this.btnRight.on(cc.Node.EventType.TOUCH_START,this.onRight,this),this.btnRight.on(cc.Node.EventType.TOUCH_END,this.onStop,this),this.btnRight.on(cc.Node.EventType.TOUCH_MOVE,this.onRight,this),this.btnRight.on(cc.Node.EventType.TOUCH_CANCEL,this.onStop,this)},e.prototype.onTouchDown=function(t){this.isCollision(t,this.btnLeft)?this.onLeft():this.isCollision(t,this.btnRight)?this.onRight():this.onStop()},e.prototype.onTouchMove=function(t){this.isCollision(t,this.btnLeft)?this.onLeft():this.isCollision(t,this.btnRight)?this.onRight():this.onStop()},e.prototype.onTouchUp=function(){this.onStop()},e.prototype.isCollision=function(t,e){var o=t.touch.getLocation(),n=this.node.convertToNodeSpaceAR(o);if(n.x>=e.x&&n.x<=e.x+e.width/2){if(n.y>=e.y&&n.y<=e.y+this.node.height/2)return!0;if(n.y<e.y&&n.y>e.y-e.height/2)return!0}if(n.x<e.x&&n.x>e.x-e.width/2){if(n.y>=e.y&&n.y<=e.y+e.height/2)return!0;if(n.y<e.y&&n.y>e.y-e.height/2)return!0}return!1},e.prototype.onLeft=function(){moosnow.event.sendEventImmediately(c.default.ROCKER_MOVE,{x:-1,y:0})},e.prototype.onRight=function(){moosnow.event.sendEventImmediately(c.default.ROCKER_MOVE,{x:1,y:0})},e.prototype.onStop=function(){moosnow.event.sendEventImmediately(c.default.ROCKER_MOVE,{x:0,y:0})},e.prototype.onJump=function(){moosnow.event.sendEventImmediately(c.default.ROCKER_JUMP,{x:1,y:0})},e.prototype.onAttack1=function(){moosnow.event.sendEventImmediately(c.default.ROCKER_ATTACK,{attack:s.ROLE_ATTACK.ATTACK1})},e.prototype.onAttack2=function(){moosnow.event.sendEventImmediately(c.default.ROCKER_ATTACK,{attack:s.ROLE_ATTACK.ATTACK2})},e.prototype.onAttack3=function(){moosnow.event.sendEventImmediately(c.default.ROCKER_ATTACK,{attack:s.ROLE_ATTACK.ATTACK3})},e.prototype.update=function(){},r([l(cc.Node)],e.prototype,"btnLeft",void 0),r([l(cc.Node)],e.prototype,"btnRight",void 0),r([l(cc.Node)],e.prototype,"btnJump",void 0),r([l(cc.Node)],e.prototype,"btnAttack1",void 0),r([l(cc.Node)],e.prototype,"btnAttack2",void 0),r([l(cc.Node)],e.prototype,"btnAttack3",void 0),r([u],e)}(cc.Component);o.default=p,cc._RF.pop()},{"../enum/ROLE_ATTACK":"ROLE_ATTACK","../framework/utils/FrameworkEvent":"FrameworkEvent"}],AppConfig:[function(t,e,o){"use strict";cc._RF.push(e,"5e35fiNgTpPT720Pxf2rArY","AppConfig");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../utils/Common"),s=function(t){function e(){var e=t.call(this)||this;return e.avatarUrl="https://moyun-1257000992.cos.ap-guangzhou.myqcloud.com/avatar/",e.site01=[],e.site02=[],e.site03=[],e.site04=[],e}return i(e,t),e.prototype.addConfig=function(t){for(var e in t)this[e]=t[e]},e.prototype.getKey=function(t,e){void 0===e&&(e=void 0);var o=this[t];return r.default.isEmpty(o)&&(o=e),o},e.resUrl="https://liteplay-1253992229.cos.ap-guangzhou.myqcloud.com/Game/tomato/",e}(t("./BaseModule").default);o.default=s,cc._RF.pop()},{"../utils/Common":"Common","./BaseModule":"BaseModule"}],ArrayUtil:[function(t,e,o){"use strict";cc._RF.push(e,"318a7hxC4hEX61QK69AYWmB","ArrayUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.prototype.shuffle=function(t){for(var e,o,n=t.length,i=n;i--;)i!==(o=Math.floor(Math.random()*n))&&(e=t[i],t[i]=t[o],t[o]=e);return t},t.prototype.indexOf=function(t,e){for(var o=-1,n=0,i=t.length;n<i;n++)if(t[n]==e){o=n;break}return o},t.prototype.replace=function(t,e,o){var n=t[e],i=t[o];t[o]=n,t[e]=i},t.prototype.merge=function(t,e){for(var o=0,n=t.length;o<n;o++)e.push(t[o]);return e},t.clone=function(t){return new Array,t.slice(0)},t.remove=function(t,e){for(var o=0;o<t.length;o++)if(t[o]==e)return t.splice(o,1),void o--},t}();o.default=n,cc._RF.pop()},{}],AudioModule:[function(t,e,o){"use strict";cc._RF.push(e,"755d365qBJHeKetwOxL4m/A","AudioModule");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./BaseModule"),c=cc._decorator,a=c.ccclass,u=c.property,l=function(t){function e(){var e=t.call(this)||this;return e.gameMusic=null,e.btnSound=null,e.menuMusic=null,e.win=null,e.fail=null,e.IS_MUTE="isMute",e.IS_MUTE_MUSIC="isMuteMusic",e.IS_MUTE_SOUND="isMuteSound",e.VOLUME_MUSIC="volumeMusic",e.VOLUME_SOUND="volumeSound",e._volumeMusic=1,e._volumeSound=1,e._isMuteMusic=!1,e._isMuteSound=!1,e._isMute=!1,e.gameCoinTime=0,e.mMusicId=null,e}var o;return i(e,t),o=e,e.prototype.playRespawnEffect=function(t){t&&t()},e.prototype.onEnable=function(){},e.prototype.start=function(){Lite.audio=this,moosnow.audio.btnSound=this.btnSound,this.getSave()},Object.defineProperty(e.prototype,"MusicId",{get:function(){return this.mMusicId},enumerable:!1,configurable:!0}),e.prototype.playGameMusic=function(){var t=cc.audioEngine.getState(this.mMusicId);t!=cc.audioEngine.AudioState.PLAYING&&(t!=cc.audioEngine.AudioState.PAUSED?this.mMusicId=this.playMusic(this.gameMusic):cc.audioEngine.resumeMusic())},e.prototype.playMainMusic=function(){this.mMusicId=this.playMusic(this.menuMusic)},e.prototype.playClickEffect=function(){this.playSound(this.btnSound)},e.prototype.playWin=function(){this.playSound(this.win)},e.prototype.playFail=function(){this.playSound(this.fail)},e.prototype.stopAll=function(){},e.prototype.stopSound=function(t){cc.audioEngine.stop(t)},e.prototype.stopMusic=function(){cc.audioEngine.stopMusic()},e.prototype.pauseMusic=function(){cc.audioEngine.pauseMusic()},e.prototype.resumeMusic=function(){cc.audioEngine.resumeMusic()},e.addAudio=function(t){this.localCache[t.name]=t},e.prototype.playAudio=function(t,e,n,i,r){void 0===e&&(e=!1),void 0===n&&(n=null),void 0===i&&(i=null),void 0===r&&(r=0);var s=null;return this.isMuteSound?s:(o.localCache[t]instanceof cc.AudioClip&&(s=this.playSound(o.localCache[t],e,n,i,r)),s)},e.prototype.playSound=function(t,e,o,n,i){if(void 0===e&&(e=!1),void 0===o&&(o=null),void 0===n&&(n=null),void 0===i&&(i=0),!this.isMute&&!this.isMuteSound){var r=cc.audioEngine.playEffect(t,e);return cc.audioEngine.setFinishCallback(r,function(t){o&&o(t),e||cc.audioEngine.stop(r)}),r}},e.prototype.playMusic=function(t,e,o,n){if(void 0===e&&(e=!0),void 0===o&&(o=null),void 0===n&&(n=0),!this.isMute&&!this.isMuteMusic)return cc.audioEngine.playMusic(t,e)},Object.defineProperty(e.prototype,"volumeMusic",{get:function(){return this._volumeMusic},set:function(t){this._volumeMusic=t,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volumeSound",{get:function(){return this._volumeSound},set:function(t){this._volumeSound=t,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMuteMusic",{get:function(){return this._isMuteMusic},set:function(t){this._isMuteMusic=t,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMuteSound",{get:function(){return this._isMuteSound},set:function(t){this._isMuteSound=t,this.save()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMute",{get:function(){return this._isMute},set:function(t){this._isMute=t,this.save()},enumerable:!1,configurable:!0}),e.prototype.save=function(){moosnow.setting.setBool(this.IS_MUTE,this.isMute),moosnow.setting.setBool(this.IS_MUTE_MUSIC,this.isMuteMusic),moosnow.setting.setBool(this.IS_MUTE_SOUND,this.isMuteSound)},e.prototype.getSave=function(){this.isMute=moosnow.setting.getBool(this.IS_MUTE,!1),this.isMuteMusic=moosnow.setting.getBool(this.IS_MUTE_MUSIC,!0),this.isMuteSound=moosnow.setting.getBool(this.IS_MUTE_SOUND,!0)},e.prototype.onDisable=function(){},e.localCache={},r([u({type:cc.AudioClip})],e.prototype,"gameMusic",void 0),r([u({type:cc.AudioClip})],e.prototype,"btnSound",void 0),r([u({type:cc.AudioClip})],e.prototype,"menuMusic",void 0),r([u({type:cc.AudioClip})],e.prototype,"win",void 0),r([u({type:cc.AudioClip})],e.prototype,"fail",void 0),o=r([a],e)}(s.default);o.default=l,cc._RF.pop()},{"./BaseModule":"BaseModule"}],BUFFER:[function(t,e,o){"use strict";cc._RF.push(e,"f326bSdUo1FAqgqj9zFDkxr","BUFFER"),Object.defineProperty(o,"__esModule",{value:!0}),o.BUFFER=void 0,function(t){t[t.NONE=0]="NONE",t[t.HEAL=1]="HEAL",t[t.QUICKEN=2]="QUICKEN",t[t.ZOOMIN=4]="ZOOMIN",t[t.MAGNET=8]="MAGNET",t[t.UNRIVALLED=16]="UNRIVALLED",t[t.SLOWDOWN=32]="SLOWDOWN",t[t.REDUCEHEALTH=64]="REDUCEHEALTH",t[t.ZOOMOUT=128]="ZOOMOUT",t[t.HITRECOVER=512]="HITRECOVER",t[t.COIN=1024]="COIN"}(o.BUFFER||(o.BUFFER={})),cc._RF.pop()},{}],BaseControl:[function(t,e,o){"use strict";cc._RF.push(e,"66f02BLKYtJCaShAPWVMd8g","BaseControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/entity/EntityLogic"),c=cc._decorator,a=c.ccclass,u=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logo=null,e}return i(e,t),Object.defineProperty(e.prototype,"LogicData",{get:function(){return this.mLogicData},enumerable:!1,configurable:!0}),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.initAnim(e)},e.prototype.initAnim=function(){},e.prototype.refreshImage=function(t){moosnow.nodeHelper.changeSrc(this.logo||this.node,{url:t,width:this.node.width,height:this.node.height})},e.prototype.refreshCollider=function(t){var e=this.node.getComponent(cc.PhysicsCollider);e&&(e instanceof cc.PhysicsBoxCollider?e.size=new cc.Size(t.width,t.height):e instanceof cc.PhysicsCircleCollider?e.radius=t.radius:e instanceof cc.PhysicsPolygonCollider?e.points=t.points:e instanceof cc.PhysicsChainCollider&&(e.points=t.points),e.apply())},e.prototype.refreshOffset=function(t,e){void 0===t&&(t=0),void 0===e&&(e=0);var o=this.node.getComponent(cc.PhysicsCollider);o&&(o instanceof cc.PhysicsBoxCollider?o.offset=cc.v2(t,e):o instanceof cc.PhysicsCircleCollider?o.offset=cc.v2(t,e):o instanceof cc.PhysicsPolygonCollider?o.offset=cc.v2(t,e):o instanceof cc.PhysicsChainCollider&&(o.offset=cc.v2(t,e)),o.apply())},r([u({type:cc.Node,override:!0})],e.prototype,"logo",void 0),r([a],e)}(s.default);o.default=l,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic"}],BaseModule:[function(t,e,o){"use strict";cc._RF.push(e,"32467evvihFDoJEB0n0C/Xm","BaseModule");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=(s.property,function(t){function e(){var e=t.call(this)||this;return e.moduleName="",e}return i(e,t),e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},r([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],BoxBoom:[function(t,e,o){"use strict";cc._RF.push(e,"60eabnPkLhMJ6w8nHCfXmYR","BoxBoom");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/entity/EntityLogic"),c=cc._decorator,a=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){},e.prototype.willShow=function(t){this.node.position=t,this.node.scale=2},e.prototype.onShow=function(){this.getComponent(cc.Animation).play()},e.prototype.onAnimCompleted=function(){Lite.entity.hideEntity(this,null)},r([a],e)}(s.default));o.default=u,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic"}],BoxBroken:[function(t,e,o){"use strict";cc._RF.push(e,"3754fB/ralFlYqIy//6UXD1","BoxBroken");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/entity/EntityLogic"),c=cc._decorator,a=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){},e.prototype.willShow=function(t){this.node.position=t,this.node.scale=2},e.prototype.onShow=function(){this.getComponent(cc.Animation).play()},e.prototype.onAnimCompleted=function(){Lite.entity.hideEntity(this,null)},r([a],e)}(s.default));o.default=u,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic"}],BoxControl:[function(t,e,o){"use strict";cc._RF.push(e,"fb4ddKtdp1O3odxnSTt4XuZ","BoxControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../enum/BoxType"),c=t("../framework/entity/EntityLogic"),a=t("../framework/utils/FrameworkEvent"),u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boxType=s.BoxType.BOX,e.fragile=null,e.isFragile=!1,e.upward=null,e.isUpward=!1,e.isSuckerEnable=!1,e.isGameOver=!1,e.brokenIntensity=250,e}return i(e,t),Object.defineProperty(e.prototype,"BoxBody",{get:function(){return!this.mBoxBody&&this.node&&(this.mBoxBody=this.node.getComponent(cc.RigidBody)),this.mBoxBody},enumerable:!1,configurable:!0}),e.prototype.willShow=function(){moosnow.event.addListener(a.default.GAME_STATE_RESPAWN,this,this.onRespawn)},e.prototype.willHide=function(){moosnow.event.removeListener(a.default.GAME_STATE_RESPAWN,this)},e.prototype.onRespawn=function(){this.isGameOver=!1,this.isSuckerEnable=!1},e.prototype.onShow=function(t){this.setType(cc.RigidBodyType.Static),this.node.position=new cc.Vec2(t.x,t.y),this.node.angle=t.rotation,this.node.opacity=255,t.addWeight?this.node.getComponent(cc.RigidBody).gravityScale=t.addWeight:this.node.getComponent(cc.RigidBody).gravityScale=1,this.setType(cc.RigidBodyType.Dynamic),t.addBrokenIntensity&&(this.brokenIntensity+=t.addBrokenIntensity)},e.prototype.setSuckerEnable=function(t){this.isSuckerEnable=t},e.prototype.setType=function(t){var e=this.node.getComponent(cc.RigidBody);e.type=t,e.linearVelocity=cc.Vec2.ZERO,e.angularVelocity=0},e.prototype.sleepBody=function(t){this.node.getComponent(cc.RigidBody).active=!t},e.prototype.cutRope=function(){},e.prototype.checkBoxSpeed=function(){if(0==this.isSuckerEnable&&this.boxType==s.BoxType.EASYBROKENBIGBOX){var t=this.node.getComponent(cc.RigidBody).linearVelocity;(Math.abs(t.x)>this.brokenIntensity||Math.abs(t.y)>this.brokenIntensity)&&(Lite.entity.showEntity("boxBroken",this.node.parent,{x:this.node.x,y:this.node.y}),this.node.opacity=0,this.isGameOver=!0,moosnow.platform.vibrateLong(),this.scheduleOnce(function(){moosnow.event.sendEventImmediately(a.default.BOX_BROKEN,null)},1))}},e.prototype.onBeginContact=function(t,e,o){o.node.group},e.prototype.onEndContact=function(){},e.prototype.update=function(){0==this.isGameOver&&(this.cutRope(),this.checkBoxSpeed())},r([p({type:cc.Enum(s.BoxType),serializable:!0,displayName:"\u76d2\u5b50\u7c7b\u578b"})],e.prototype,"boxType",void 0),r([p(cc.Node)],e.prototype,"fragile",void 0),r([p],e.prototype,"isFragile",void 0),r([p(cc.Node)],e.prototype,"upward",void 0),r([p],e.prototype,"isUpward",void 0),r([l],e)}(c.default);o.default=h,cc._RF.pop()},{"../enum/BoxType":"BoxType","../framework/entity/EntityLogic":"EntityLogic","../framework/utils/FrameworkEvent":"FrameworkEvent"}],BoxType:[function(t,e,o){"use strict";cc._RF.push(e,"dbd74oVmoxEMLRpocIE1YUL","BoxType"),Object.defineProperty(o,"__esModule",{value:!0}),o.BoxType=void 0,function(t){t[t.BOX=0]="BOX",t[t.LONGBOX=1]="LONGBOX",t[t.CIRCLE=2]="CIRCLE",t[t.BIGBOX=3]="BIGBOX",t[t.UPWARDBOX=4]="UPWARDBOX",t[t.UPWARDBIGBOX=5]="UPWARDBIGBOX",t[t.UPWARDLONGBOX=6]="UPWARDLONGBOX",t[t.EASYBROKENBIGBOX=7]="EASYBROKENBIGBOX"}(o.BoxType||(o.BoxType={})),cc._RF.pop()},{}],BundleMgr:[function(t,e,o){"use strict";cc._RF.push(e,"168aavqUQRMPqAfo27Aq6p8","BundleMgr"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./config/Bundles"),i=t("./utils/Common"),r=function(){this.hasLoadAd=!0,this.loaded=!1,this.callback=[]},s=function(){function t(){}return t.loadBundleOnce=function(t,e,o,n,s){var c=this;void 0===n&&(n="entity"),void 0===s&&(s=!0),this.loadCache[t]?this.loadCache[t].loaded?o(this.loadCache[t].hasLoadAd):this.loadCache[t].callback.push(o):(this.loadCache[t]=new r,this.loadCache[t].callback.push(o),Lite.resource.loadSubEntity(t,function(t){i.default.isFunction(e)&&e(t)},function(){Lite.resource.loadBundleSound(t,null,function(){c.loadCache[t].loaded=!0,c.loadCache[t].callback.forEach(function(e){e(c.loadCache[t].hasLoadAd)}),c.loadCache[t].callback=[]})},n,s))},t.loadAppBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.appbox,e,t,void 0,o)},t.loadBoxBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.boxform,e,t,void 0,o)},t.loadFinishBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.finishform,e,t,void 0,o)},t.loadNativeBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.nativeform,e,t,void 0,o)},t.loadAdBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.ad,e,t,void 0,o)},t.loadHomeBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.homeform,e,t,void 0,o)},t.loadGameBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.gameform,e,t,void 0,o)},t.loadEndBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.endform,e,t,void 0,o)},t.loadMistouchBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.mistouch,e,t,void 0,o)},t.loadTryBundle=function(t,e,o){void 0===o&&(o=!0),this.loadBundleOnce(n.default.tryform,e,t,void 0,o)},t.loadCache={},t}();o.default=s,cc._RF.pop()},{"./config/Bundles":"Bundles","./utils/Common":"Common"}],Bundles:[function(t,e,o){"use strict";cc._RF.push(e,"a24e0CoPQZJJbbVQReGVHhp","Bundles"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.ad="ad",t.homeform="homeform",t.gameform="gameform",t.endform="endform",t.shopform="shopform",t.mistouch="mistouch",t.tryform="tryform",t.nativeform="nativeform",t.finishform="finishform",t.boxform="boxform",t.appbox="appbox",t}();o.default=n,cc._RF.pop()},{}],ButtonEx:[function(t,e,o){"use strict";cc._RF.push(e,"35926TG53ZO0JDRZX+i2pzs","ButtonEx");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.clickQueneItem=void 0;o.clickQueneItem=function(){this.stopPropagation=!0,this.once=!0,this.clicking=!1};var s=cc._decorator,c=s.ccclass,a=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enableEffect=!0,e.enableMusic=!0,e.autoScale=!1,e.autoSwing=!1,e.zoomTime=1,e.scaleMax=1,e.scaleMin=.8,e.enableLogPoint=!1,e.logPointName="",e.mDownEffect=!1,e.mSwingAction=cc.sequence(cc.rotateTo(.3,10),cc.rotateTo(.6,-10),cc.rotateTo(.3,0),cc.scaleTo(.3,.8),cc.scaleTo(.3,1)).repeatForever(),e}return i(e,t),e.prototype.runAnim=function(){this.autoScale?this.autoScaleZoomOut():this.autoSwing&&this.node.runAction(this.mSwingAction)},e.prototype.onEnable=function(){this.runAnim(),this.node.scale=1,this.node.on(cc.Node.EventType.TOUCH_START,this.onMouseDown,this),this.node.on(cc.Node.EventType.TOUCH_END,this.mouseUpEffect,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.mouseUpEffect,this)},e.prototype.onMouseDown=function(){this.mDownEffect||(this.mDownEffect=!0,this.enableMusic&&Lite.audio.playClickEffect(),this.enableEffect&&this.mouseDownEffect())},e.prototype.removeMouseEffect=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.mouseDownEffect,this),this.node.off(cc.Node.EventType.TOUCH_END,this.mouseUpEffect,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.mouseUpEffect,this)},e.prototype.mouseDownEffect=function(){this.node.scale=1,this.node.runAction(cc.sequence(cc.scaleTo(.1,.7,.7),cc.callFunc(function(){},this)))},e.prototype.mouseUpEffect=function(){var t=this;this.runAnim(),this.enableEffect&&(this.node.scale=.7,this.node.runAction(cc.sequence(cc.scaleTo(.1,1,1),cc.callFunc(function(){t.mDownEffect=!1},this))))},e.prototype.autoScaleZoomOut=function(){var t=this;this.node.runAction(cc.sequence(cc.scaleTo(this.zoomTime,this.scaleMin,this.scaleMin),cc.callFunc(function(){t.autoScaleZoomIn()},this)))},e.prototype.autoScaleZoomIn=function(){var t=this;this.node.runAction(cc.sequence(cc.scaleTo(this.zoomTime,this.scaleMax,this.scaleMax),cc.callFunc(function(){t.autoScaleZoomOut()},this)))},e.prototype.onDisable=function(){this.node.stopAllActions(),this.node.scale=1,this.mDownEffect=!1,this.removeMouseEffect()},e.downAnim=function(t){t.scale=1,t.runAction(cc.sequence(cc.scaleTo(.1,.7,.7),cc.callFunc(function(){},this)))},e.upAnim=function(t,e){var o=this;t.stopAllActions(),t.scale=.7,t.runAction(cc.sequence(cc.scaleTo(.1,1,1),cc.callFunc(function(){o.mDowning=!1,e&&e()},this)))},e.getClickQueneItem=function(t){var e=t.getCurrentTarget().uuid;return this.mClickQuene[e]||null},e.setClickQueneItem=function(t,e){var o=t.getCurrentTarget().uuid;this.mClickQuene[o]&&(this.mClickQuene[o].clicking=e)},e.onTouchStart=function(t){var e=this.getClickQueneItem(t);e&&(e.once&&e.clicking||(Lite.audio.playClickEffect(),this.downAnim(e.node),this.mDowning||(this.mDowning=!0)))},e.onTouchEnd=function(t){var e=this,o=this.getClickQueneItem(t);o&&(o.once&&o.clicking||(this.setClickQueneItem(t,!0),console.log("onTouchEnd"),this.upAnim(o.node,function(){o&&o.callback&&o.callback(),e.setClickQueneItem(t,!1)}),o&&o.stopPropagation&&t.stopPropagation()))},e.onTouchCancel=function(t){var e=this,o=this.getClickQueneItem(t);o&&(console.log("onTouchCancel"),this.upAnim(o.node,function(){e.setClickQueneItem(t,!1)}))},e.applyClickAnim=function(t,e,o,n){void 0===o&&(o=!1),void 0===n&&(n=!0),t&&t.uuid?(this.mClickQuene[t.uuid]={node:t,stopPropagation:o,callback:e,once:n,clicking:!1},t.on(this.TOUCH_START,this.onTouchStart,this),t.on(this.TOUCH_END,this.onTouchEnd,this),t.on(this.TOUCH_CANCEL,this.onTouchCancel,this)):console.log("\u7f3a\u5c11\u5bf9\u8c61\uff0c\u65e0\u6cd5\u7ed1\u5b9a\u4e8b\u4ef6")},e.removeClickAnim=function(t){t&&t.uuid&&(this.mClickQuene[t.uuid]=null,delete this.mClickQuene[t.uuid],t.off(this.TOUCH_START,this.onTouchStart,this),t.off(this.TOUCH_END,this.onTouchEnd,this),t.off(this.TOUCH_CANCEL,this.onTouchCancel,this))},e.TOUCH_START=cc.Node.EventType.TOUCH_START,e.TOUCH_END=cc.Node.EventType.TOUCH_END,e.TOUCH_CANCEL=cc.Node.EventType.TOUCH_CANCEL,e.mDowning=!1,e.mClickQuene={},r([a],e.prototype,"enableEffect",void 0),r([a],e.prototype,"enableMusic",void 0),r([a],e.prototype,"autoScale",void 0),r([a],e.prototype,"autoSwing",void 0),r([a],e.prototype,"zoomTime",void 0),r([a],e.prototype,"scaleMax",void 0),r([a],e.prototype,"scaleMin",void 0),r([a],e.prototype,"enableLogPoint",void 0),r([a],e.prototype,"logPointName",void 0),r([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],CameraControl:[function(t,e,o){"use strict";cc._RF.push(e,"0a97e41sKtJL6Cl43MNYdqh","CameraControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/utils/FrameworkEvent"),c=cc._decorator,a=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.mCamera=null,e}return i(e,t),e.prototype.onLoad=function(){var t=this;this.mCamera=this.node.getComponent(cc.Camera),moosnow.event.addListener(s.default.CAMERA_CHANGED,this,function(e){t.node.x=e.x,t.node.y=e.y})},e.prototype.lateUpdate=function(){if(this.mCamera&&Lite.myGame.role&&!(Lite.myGame.role.currentHp<=0)&&Lite.myGame.role.node.active){var t=Lite.myGame.role.node.convertToWorldSpaceAR(cc.Vec2.ZERO),e=this.node.parent.convertToNodeSpaceAR(t),o=this.node.position.clone(),n=cc.misc.lerp(o.x,e.x,.1),i=cc.misc.lerp(o.y,e.y,.1);this.node.x=n,this.node.y=i;var r=e.y/cc.winSize.height;this.mCamera.zoomRatio=1+.5*(.5-r)}},r([a],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../framework/utils/FrameworkEvent":"FrameworkEvent"}],CheckboxEx:[function(t,e,o){"use strict";cc._RF.push(e,"f43ce7XQuFI0ItOD+Q/Yc0B","CheckboxEx");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checked=null,e.unchecked=null,e.text=null,e}return i(e,t),e.prototype.reset=function(t,e){this.checked.active=t,e&&(this.text.string=e)},e.prototype.getChecked=function(){return this.checked.active},e.prototype.start=function(){var t=this;moosnow.form.applyClickAnim(this.unchecked,function(){t.checked.active&&moosnow.http.getAllConfig(function(t){t&&t.checkBoxMistouch>0&&moosnow.platform.showVideo(function(t){t==moosnow.VIDEO_STATUS.END?Lite.data.addVideoSp():t==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})}),t.checked.active=!t.checked.active})},r([a(cc.Node)],e.prototype,"checked",void 0),r([a(cc.Node)],e.prototype,"unchecked",void 0),r([a(cc.Label)],e.prototype,"text",void 0),r([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],Common:[function(t,e,o){"use strict";cc._RF.push(e,"f8b10NknwBFGqyF+RuufBW3","Common"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./FrameworkEvent"),i=function(){function t(){}return t.getRandomArr=function(t,e,o){void 0===o&&(o=0);for(var n=[],i=(e-t)/2,r=0,s=0;s<=e-t;s++){n[s]=1;for(var c=Math.abs(s-i),a=0;a<c;a++)n[s]*=o;r+=n[s]}for(s=0;s<n.length;s++)n[s]=n[s]/r,s-1>=0&&(n[s]=n[s]+n[s-1]);var u=Math.random(),l=0;for(s=0;s<n.length;s++)if(u<=n[s]){l=s;break}return l+t},t.convertSpeedByDelta=function(t,e){return e>167&&(e=16.67),t*(e/1e3)},t.convertRotationByDelta=function(t,e){return e>167&&(e=16.67),t*(e/1e3)},t.titleCase=function(t){var e,o=t.toLowerCase().split(/\s+/);for(e=0;e<o.length;e++)o[e]=o[e].slice(0,1).toUpperCase()+o[e].slice(1);return o.join(" ")},t.numFixed=function(t,e){return parseFloat(parseFloat(t).toFixed(e))},t.parseMoney=function(t){return isNaN(t)?0:parseFloat(parseFloat(t).toFixed(2))},t.formatMoney=function(t){return isNaN(t)&&(t=0),t<9999?parseInt(""+t):t<9999999?parseFloat(""+t/1e3).toFixed(2)+"K":t<9999999999?parseFloat(""+t/1e6).toFixed(2)+"M":t<9999999999999?parseFloat(""+t/1e9).toFixed(2)+"G":t<1e16?parseFloat(""+t/1e12).toFixed(2)+"T":t<1e19?parseFloat(""+t/1e15).toFixed(2)+"P":t<1e22?parseFloat(""+t/1e18).toFixed(2)+"E":parseFloat(""+t/1e21).toFixed(2)+"B"},t.formatDiamond=function(t){return isNaN(t)&&(t=0),t<9999?parseFloat(t).toFixed(0):t<9999999?parseFloat(""+t/1e3).toFixed(0)+"K":parseFloat(""+t/1e6).toFixed(0)+"M"},t.formatAttack=function(t){return isNaN(t)&&(t=0),t<9999?""+t:t<9999999?parseFloat(""+t/1e3).toFixed(0)+"K":t<9999999999?parseFloat(""+t/1e6).toFixed(0)+"M":t<9999999999999?parseFloat(""+t/1e9).toFixed(0)+"G":t<1e16?parseFloat(""+t/1e12).toFixed(0)+"T":t<1e19?parseFloat(""+t/1e15).toFixed(0)+"P":t<1e22?parseFloat(""+t/1e18).toFixed(0)+"E":parseFloat(""+t/1e21).toFixed(0)+"B"},t.objKeySort=function(t){for(var e=Object.keys(t).sort(),o={},n=0;n<e.length;n++)o[e[n]]=t[e[n]];return o},t.isWeChat=function(){return!!window.wx},t.isQQPlay=function(){return!1},t.isObject=function(t){var e=typeof t;return null!==t&&("object"===e||"function"===e)},t.object2Query=function(t){var e=[];for(var o in t)e.push(o+"="+t[o]);return e.join("&")},t.getQueryVariable=function(t){if(window&&window.location&&window.location.search)for(var e=window.location.search.substring(1).split("&"),o=0;o<e.length;o++){var n=e[o].split("=");if(n[0]==t)return n[1]}return!1},t.format=function(){var t=arguments[0];if(void 0===t||null==t||""==t||"undefined"==t)return t;for(var e=1;e<arguments.length;e++){var o=new RegExp("\\{"+(e-1)+"\\}","gm");t=t.replace(o,arguments[e])}return t},t.isFunction=function(t){return"function"==typeof t},t.isEmpty=function(t){if("object"==typeof t){var e;for(e in t)return!1;return!0}return!("number"==typeof t&&0==t||null!=t&&"null"!==t&&"undefined"!==t&&""!==t)},t.dateFtt=function(t,e){var o={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};for(var n in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),o)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?o[n]:("00"+o[n]).substr((""+o[n]).length)));return t},t.formatTime=function(t){var e=t.getFullYear(),o=t.getMonth()+1,n=t.getDate();return t.getHours(),t.getMinutes(),t.getSeconds(),[e,o,n].map(this.formatNumber).join("/")},t.millisecondToDate=function(t){return this.secondToDate(t/1e3)},t.secondToDate=function(t){var e="";if(isNaN(t))e="00:00";else if((t=Math.floor(t))<60&&(e=this.formatNumber(0)+":"+this.formatNumber(t)),t>60&&t<3600){var o=parseInt(""+t/60),n=t-60*o;e=this.formatNumber(o)+":"+this.formatNumber(n)}return e},t.getzf=function(t){return parseInt(""+t)<10?"0"+t:""+t},t.formatNumber=function(t){return(t=t.toString())[1]?t:"0"+t},t.colorRGB2Hex=function(t){var e=t.split(",");return"#"+((1<<24)+(parseInt(e[0].split("(")[1])<<16)+(parseInt(e[1])<<8)+parseInt(e[2].split(")")[0])).toString(16).slice(1)},t.copy=function(t,e){for(var o in t)e[o]=t[o]},t.deepCopy=function(t){var e=Array.isArray(t)?[]:{};if(t&&"object"==typeof t)for(var o in t)t.hasOwnProperty(o)&&(t[o]&&"object"==typeof t[o]?e[o]=this.deepCopy(t[o]):e[o]=t[o]);return e},t.randomNumBoth=function(t,e){var o=e-t,n=Math.random();return t+Math.round(n*o)},t.randomToRatio=function(t,e,o){return this.randomNumBoth(t,e)<=o},t.randName=function(){for(var t=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],e="",o=0;o<8;o++){var n=t[this.randomNumBoth(0,t.length-1)];n&&(e+=n)}return e+this.randomNumBoth(100,999)},t.generateUUID=function(){var t=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var o=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"==e?o:3&o|8).toString(16)})},t.isNumber=function(t){return"number"==typeof t||"[object Number]"==Object.prototype.toString.call(t)},t.isArray=function(t){return"[object Array]"==Object.prototype.toString.call(t)},t.isString=function(t){return"[object String]"===Object.prototype.toString.call(t)},t.popOpenAnim=function(t){var e=this;return new Promise(function(o){t.scale=.8,t.runAction(cc.sequence(cc.scaleTo(.1,1.2,1.2),cc.scaleTo(.1,1,1),cc.callFunc(function(){o()},e)))})},t.popCloseAnim=function(t){var e=this;return new Promise(function(o){t.scale=1,t.runAction(cc.sequence(cc.scaleTo(.1,0,0),cc.callFunc(function(){o()},e)))})},t.addCoin=function(e,o,i){for(var r=this,s=function(){var o=t.randomNumBoth(0,100)/200,n=Lite.entity.showEntity("coin",e,{x:t.randomNumBoth(-100,100),y:t.randomNumBoth(-100,100)});console.log("addCoin",n.node.x,n.node.y,n.node.active),n.node.runAction(cc.sequence(cc.delayTime(o),cc.spawn(cc.moveTo(1,-530,315),cc.fadeOut(1),cc.sequence(cc.scaleTo(.8,1.2,1.2),cc.scaleTo(.8,.8,9.8))),cc.callFunc(function(){Lite.entity.hideEntity(n,null,!0)})))},c=0;c<30;c++)s();var a=setTimeout(function(){Lite.data.addCoin(o),Lite.data.saveCoin(),moosnow.event.sendEventImmediately(n.default.COIN_CHANGED,null),clearTimeout(a),r.isFunction(i)&&i()},2100)},t.subCoin=function(e,o,n,i){for(var r=this,s=function(){var i=t.randomNumBoth(0,100)/200,r=Lite.entity.showEntity("coin",o,{x:e.x+t.randomNumBoth(-50,50),y:e.y+t.randomNumBoth(-50,50)});console.log("addCoin",r.node.x,r.node.y,r.node.active,n.x,n.y),r.node.runAction(cc.sequence(cc.delayTime(i),cc.spawn(cc.moveTo(1,n.x,n.y),cc.fadeOut(1),cc.sequence(cc.scaleTo(.8,1.2,1.2),cc.scaleTo(.8,.8,9.8))),cc.callFunc(function(){Lite.entity.hideEntity(r,null,!0)})))},c=0;c<30;c++)s();var a=setTimeout(function(){clearTimeout(a),r.isFunction(i)&&i()},2100)},t.isRemote=function(t){return-1!=t.indexOf("http")},t.pointInPolygonCollider=function(t,e){var o=t.node.convertToNodeSpaceAR(e),n=[];return t.points.forEach(function(e){n.push(cc.v2(e.x+t.offset.x,e.y+t.offset.y))}),cc.Intersection.pointInPolygon(o,n)},t.isLongScreen=function(){if(cc.sys.isBrowser)return!1;var t=cc.sys.windowPixelResolution;return console.log("\u5c4f\u5e55\u7684\u5bbd\u9ad8\u6bd4\u4e3a",t,t.width/t.height,t.height/t.width),t.width/t.height>2||t.height/t.width>2},t.pointMinDistancePolygon=function(t,e){var o,n=t.node.convertToNodeSpaceAR(e),i=[];t.points.forEach(function(e){i.push(cc.v2(e.x+t.offset.x,e.y+t.offset.y))});for(var r=0;r<i.length;r++){var s=i.length-1==r?i[0]:i[r+1],c=cc.Intersection.pointLineDistance(n,i[r],s,!0);(this.isEmpty(o)||c<o)&&(o=c)}return o},t.getCurrentDay=function(){var t=new Date;return t.getFullYear()+"-"+t.getMonth()+"-"+t.getDate()},t}();o.default=i,cc._RF.pop()},{"./FrameworkEvent":"FrameworkEvent"}],ConfigData:[function(t,e,o){"use strict";cc._RF.push(e,"f1386HytD9EyIBXroe5OUvv","ConfigData");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.ConfigData=void 0;var r=t("../../script/framework/utils/SheetManager"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.init=function(){var t,o=r.SheetManager.getList("ConfigData");for(var n in console.log("ConfigData",o),o)"keys"!=n&&(t=e.get(n)),t&&(this[t.name]=t.value,t=null)},e.get=function(t){return this[t]?this[t]:r.SheetManager.get("ConfigData",t,e)},e}(t("./Sheets").ConfigDataBase);o.ConfigData=s,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],DelayMove:[function(t,e,o){"use strict";cc._RF.push(e,"6f830VbCrtI7LOsqdbHhjnF","DelayMove");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s,c=t("../enum/enum"),a=t("../utils/Common");(function(t){t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.CENTER=8]="CENTER"})(s||(s={}));var u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.moveNode=null,e.distince=-100,e.showBanner=!0,e.moveType=c.DELAY_MOVE_TYPE.NONE,e.horizontal=s.CENTER,e.mMoveNum=0,e.mContinueTime=0,e.mDelayTime=1.5,e.preloadIndex=-1,e}return i(e,t),e.prototype.start=function(){},e.prototype.initCfg=function(){this.mContinueTime=parseFloat(Lite.config.getKey("OffsetBannerContinueTime",0)+""),this.mDelayTime=parseFloat(Lite.config.getKey("OffsetBannerDelayTime",0)+""),this.moveType==c.DELAY_MOVE_TYPE.SKIN?this.mMoveNum=Lite.config.getKey("SkinWudian"):this.moveType==c.DELAY_MOVE_TYPE.END_GAME&&(this.mMoveNum=Lite.config.getKey("RewardOffsetBanner")),3==this.mMoveNum&&(this.mMoveNum=a.default.randomNumBoth(1,2))},e.prototype.onEnable=function(){var t=this;if(this.initCfg(),this.initPosition(),moosnow.platform.hidePrestoreBanner(),console.warn("tempNode runAction this.mMoveNum",this.mMoveNum,"mDelayTime",this.mDelayTime),0==this.mMoveNum)this.moveNode.active=!0,this.moveNode.x=this.pos1.x,this.moveNode.y=this.pos1.y,this.createBanner();else if(1==this.mMoveNum){this.showBanner,this.createDelayBanner(this.mDelayTime),this.moveNode.active=!1;var e=this.createTempNode();this.scheduleOnce(function(){console.log("tempNode runAction"),e.runAction(cc.sequence(cc.moveTo(1.5,cc.v2(t.pos1.x,t.pos1.y)),cc.callFunc(function(){t.moveNode.active=!0,t.removeTemp()})))},this.mDelayTime+this.mContinueTime)}else{this.showBanner,this.moveNode.active=!1;var o=this.createTempNode();o.once(cc.Node.EventType.TOUCH_END,function(){t.createDelayBanner(t.mDelayTime),t.scheduleOnce(function(){o.runAction(cc.sequence(cc.moveTo(1.5,cc.v2(t.pos1.x,t.pos1.y)),cc.callFunc(function(){t.moveNode.active=!0,t.removeTemp()})))},t.mDelayTime+t.mContinueTime)},this)}},e.prototype.createDelayBanner=function(t){void 0===t&&(t=0),this.showBanner&&this.scheduleOnce(this.createBanner,t)},e.prototype.createBanner=function(){this.horizontal==moosnow.BANNER_HORIZONTAL.LEFT?moosnow.platform.showRandomPreStoreBanner(null,moosnow.BANNER_HORIZONTAL.LEFT,moosnow.BANNER_VERTICAL.BOTTOM):this.horizontal==moosnow.BANNER_HORIZONTAL.CENTER?moosnow.platform.showRandomPreStoreBanner(null,moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM):this.horizontal==moosnow.BANNER_HORIZONTAL.RIGHT?moosnow.platform.showRandomPreStoreBanner(null,moosnow.BANNER_HORIZONTAL.RIGHT,moosnow.BANNER_VERTICAL.BOTTOM):console.log(" DelayMove ~ createBanner \u4f4d\u7f6e\u9519\u8bef ",this.horizontal)},e.prototype.initPosition=function(){this.pos1||(this.pos1=this.moveNode.position.clone(),this.pos2=this.pos1.clone().add(new cc.Vec2(0,this.distince))),this.moveNode.active=!1},e.prototype.createTempNode=function(){var t=cc.instantiate(this.moveNode);return t.active=!0,this.moveNode.parent.addChild(t),t.x=this.pos2.x,t.y=this.pos2.y,this.mTempButtom=t,t},e.prototype.removeTemp=function(){this.mTempButtom&&(this.mTempButtom.active=!1,this.mTempButtom.removeFromParent(),this.mTempButtom.destroy())},e.prototype.onDisable=function(){this.removeTemp(),moosnow.platform.hidePrestoreBanner(),this.unschedule(this.createBanner)},r([p({tooltip:"\u79fb\u52a8\u7684\u8282\u70b9",type:cc.Node})],e.prototype,"moveNode",void 0),r([p({tooltip:"Y\u8f74\u79fb\u52a8\u5230\u76ee\u524d\u70b9\u7684\u8ddd\u79bb"})],e.prototype,"distince",void 0),r([p({tooltip:"\u662f\u5426\u663e\u793abanner"})],e.prototype,"showBanner",void 0),r([p({type:cc.Enum(c.DELAY_MOVE_TYPE)})],e.prototype,"moveType",void 0),r([p({type:cc.Enum(s)})],e.prototype,"horizontal",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../enum/enum":"enum","../utils/Common":"Common"}],DelayShow:[function(t,e,o){"use strict";cc._RF.push(e,"6a8b7YCZhxAPa8MuKT925SK","DelayShow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.delayNode=null,e}return i(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){var t=this;this.delayNode.active=!1,moosnow.http.getAllConfig(function(e){var o=e&&!isNaN(e.delayShow)?parseFloat(e.delayShow):0;o>0?(t.delayNode.active=!1,t.scheduleOnce(function(){t.delayNode.active=!0},o)):t.delayNode.active=!0})},r([a(cc.Node)],e.prototype,"delayNode",void 0),r([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],Delay:[function(t,e,o){"use strict";cc._RF.push(e,"efc2baB0I9Af7MyCBRLxWXZ","Delay"),Object.defineProperty(o,"__esModule",{value:!0}),o.Delay=void 0;var n=function(){function t(){}return t.clearAll=function(){},t.delay=function(t){return new Promise(function(e){0!=t?cc.Canvas.instance.scheduleOnce(function(){e(!0)},t):e()})},t.delay1=function(t){return new Promise(function(e){0!=t?setTimeout(function(){e(!0)},t):e()})},t.delayTo=function(t,e){return new Promise(function(o){cc.Canvas.instance.schedule(function(){o(e)},t)})},t}();o.Delay=n,cc._RF.pop()},{}],DoorControl:[function(t,e,o){"use strict";cc._RF.push(e,"99669x4dZ1JnpKowzEbMOND","DoorControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/entity/EntityLogic"),c=t("../framework/utils/FrameworkEvent"),a=cc._decorator,u=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.door=null,e.doorSwitch=null,e.customMoveVec=cc.Vec2.ZERO,e.moveDuration=.5,e}return i(e,t),e.prototype.start=function(){this.mPos=this.node.position},e.prototype.onEnable=function(){this.addListener()},e.prototype.onDisable=function(){this.removeListener()},e.prototype.addListener=function(){var t=this;moosnow.event.addListener(c.default.DOOR_MOVE,this,function(e){e.uuid==t.doorSwitch.uuid&&t.doorMove(e.opened)})},e.prototype.removeListener=function(){moosnow.event.removeListener(c.default.DOOR_MOVE,this)},e.prototype.doorMove=function(t){this.node.stopAllActions(),t?this.node.runAction(cc.moveTo(this.moveDuration,this.customMoveVec)):this.node.runAction(cc.moveTo(this.moveDuration,this.mPos))},r([l(cc.Node)],e.prototype,"door",void 0),r([l(cc.Node)],e.prototype,"doorSwitch",void 0),r([l(cc.Vec2)],e.prototype,"customMoveVec",void 0),r([l],e.prototype,"moveDuration",void 0),r([u],e)}(s.default);o.default=p,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic","../framework/utils/FrameworkEvent":"FrameworkEvent"}],EasterEgg:[function(t,e,o){"use strict";cc._RF.push(e,"89fe325KxlMW43YSpkTKtDn","EasterEgg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.EasterEgg=void 0;var r=t("./Sheets"),s=t("../../script/framework/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:s.SheetManager.get("EasterEgg",t,e)},e.getAll=function(){var t,o=s.SheetManager.getList("EasterEgg"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(r.EasterEggBase);o.EasterEgg=c,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],ElevatorControl:[function(t,e,o){"use strict";cc._RF.push(e,"a71aev7u7tBb5Q0McNmbWyr","ElevatorControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../enum/ElevatorType"),c=t("./SwitchControl"),a=t("../framework/utils/FrameworkEvent"),u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.floor=null,e.doorSwitch=null,e.switchList=[],e.moveDuration=3,e.waiting=5,e.upVec=cc.Vec2.ZERO,e.upFor=null,e.beginUp=!0,e.downVec=cc.Vec2.ZERO,e.downFor=null,e.beginDown=!1,e.elevatorType=s.ElevatorType.SWITCH,e.mIsMoveing=!1,e.mToUp=!0,e.mMoveIndex=0,e.isGameEnd=!1,e}return i(e,t),e.prototype.start=function(){this.mPos=this.node.position},e.prototype.onEnable=function(){this.initElevator(),this.isGameEnd=!1,moosnow.event.addListener(a.default.GAME_STATE_END,this,this.onGameEnd),this.elevatorType!=s.ElevatorType.AUTO||this.doorSwitch||0!=this.switchList.length?this.addListener():this.scheduleOnce(this.moveToUp,this.waiting)},e.prototype.onDisable=function(){this.removeListener()},e.prototype.onRespawn=function(t){t.timeout&&(this.unschedule(this.moveToUp),this.unschedule(this.moveToDown),this.floor.stopAllActions(),this.mIsMoveing=!1)},e.prototype.onGameEnd=function(t){this.isGameEnd||(this.isGameEnd=!0,t.isWin&&(this.unschedule(this.moveToUp),this.unschedule(this.moveToDown),this.floor.stopAllActions(),this.mIsMoveing=!1))},e.prototype.initElevator=function(){if(this.upFor){var t=this.upFor.convertToWorldSpaceAR(new cc.Vec2(0,this.upFor.height/2)),e=this.node.convertToNodeSpaceAR(t);this.upVec.y=e.y-this.floor.height/2}this.downFor&&(t=this.downFor.convertToWorldSpaceAR(new cc.Vec2(0,this.downFor.height/2)),e=this.node.convertToNodeSpaceAR(t),this.downVec.y=e.y-this.floor.height/2),this.beginUp&&(this.floor.position=this.upVec),this.beginDown&&(this.floor.position=this.downVec)},e.prototype.moveToUp=function(){var t=this;this.floor.stopAllActions(),this.mIsMoveing=!0;var e=this.moveDuration*(this.upVec.y-this.floor.y)/(this.upVec.y-this.downVec.y);this.mToUp=!0,this.floor.runAction(cc.sequence(cc.moveTo(e,this.upVec),cc.callFunc(function(){t.mIsMoveing=!1,t.elevatorType==s.ElevatorType.AUTO&&t.scheduleOnce(t.moveToDown,t.waiting)},this)))},e.prototype.moveToDown=function(){var t=this;this.floor.stopAllActions(),this.mIsMoveing=!0;var e=this.moveDuration*(this.floor.y-this.downVec.y)/(this.upVec.y-this.downVec.y);this.mToUp=!1,this.floor.runAction(cc.sequence(cc.moveTo(e,this.downVec),cc.callFunc(function(){t.mIsMoveing=!1,t.elevatorType==s.ElevatorType.AUTO&&t.scheduleOnce(t.moveToUp,t.waiting)},this)))},e.prototype.addListener=function(){var t=this;moosnow.event.addListener(a.default.DOOR_MOVE,this,function(e){t.doorSwitch&&e.uuid==t.doorSwitch.uuid?t.elevatorType==s.ElevatorType.AUTO?t.beginUp?t.moveToDown():t.moveToUp():t.onMove(e.opened):t.switchList.forEach(function(o){o.uuid==e.uuid&&t.onMove(e.opened)})})},e.prototype.removeListener=function(){moosnow.event.removeListener(a.default.DOOR_MOVE,this)},e.prototype.onMove=function(t){this.elevatorType==s.ElevatorType.AUTO?t?this.moveToUp():this.floor.stopAllActions():this.elevatorType==s.ElevatorType.SWITCH?this.doorSwitch.getComponent(c.default).keep&&(this.unschedule(this.moveToUp),this.unschedule(this.moveToDown),this.beginDown?t?this.scheduleOnce(this.moveToUp,this.waiting):this.scheduleOnce(this.moveToDown,this.waiting):t?this.scheduleOnce(this.moveToDown,this.waiting):this.scheduleOnce(this.moveToUp,this.waiting)):this.elevatorType==s.ElevatorType.MULTI_SWITCH?parseInt(""+this.floor.y)==parseInt(""+this.upVec.y)?this.scheduleOnce(this.moveToDown,this.waiting):this.scheduleOnce(this.moveToUp,this.waiting):(this.mMoveIndex+=1,this.mMoveIndex%2==0?this.moveToUp():this.moveToDown())},e.prototype.onBeginContact=function(){console.log("ElevatorControl",Date.now())},e.prototype.update=function(){this.elevatorType,s.ElevatorType.LOADER},r([p(cc.Node)],e.prototype,"floor",void 0),r([p(cc.Node)],e.prototype,"doorSwitch",void 0),r([p({type:cc.Node})],e.prototype,"switchList",void 0),r([p],e.prototype,"moveDuration",void 0),r([p({serializable:!0,displayName:"\u7b49\u5f85\u65f6\u95f4"})],e.prototype,"waiting",void 0),r([p(cc.Vec2)],e.prototype,"upVec",void 0),r([p({type:cc.Node,serializable:!0,displayName:"\u9876\u90e8\u9f50\u5e73\u7684\u5bf9\u8c61"})],e.prototype,"upFor",void 0),r([p],e.prototype,"beginUp",void 0),r([p(cc.Vec2)],e.prototype,"downVec",void 0),r([p({type:cc.Node,serializable:!0,displayName:"\u5e95\u90e8\u9f50\u5e73\u7684\u5bf9\u8c61"})],e.prototype,"downFor",void 0),r([p],e.prototype,"beginDown",void 0),r([p({type:cc.Enum(s.ElevatorType),serializable:!0,displayName:"\u5347\u964d\u673a\u7c7b\u578b"})],e.prototype,"elevatorType",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../enum/ElevatorType":"ElevatorType","../framework/utils/FrameworkEvent":"FrameworkEvent","./SwitchControl":"SwitchControl"}],ElevatorMove:[function(t,e,o){"use strict";cc._RF.push(e,"d50c606cVxAx6oLENENtvWH","ElevatorMove"),Object.defineProperty(o,"__esModule",{value:!0}),o.ElevatorMove=void 0,function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN",t[t.NONE=2]="NONE"}(o.ElevatorMove||(o.ElevatorMove={})),cc._RF.pop()},{}],ElevatorType:[function(t,e,o){"use strict";cc._RF.push(e,"b8f715MLgBI5KVcoiaU69Yx","ElevatorType"),Object.defineProperty(o,"__esModule",{value:!0}),o.ElevatorType=void 0,function(t){t[t.AUTO=0]="AUTO",t[t.SWITCH=1]="SWITCH",t[t.MULTI_SWITCH=2]="MULTI_SWITCH",t[t.LOADER=3]="LOADER"}(o.ElevatorType||(o.ElevatorType={})),cc._RF.pop()},{}],EntityData:[function(t,e,o){"use strict";cc._RF.push(e,"79c58CLqqBBF6JWDqOsHcEy","EntityData"),Object.defineProperty(o,"__esModule",{value:!0}),o.EntityData=void 0;var n=function(){function t(t,e,o){this.position=null,this.scale=null,this.rotation=null,this.data=null,t&&this.positionEmpty(),e&&this.rotationEmpty(),o&&this.scaleEmpty()}return Object.defineProperty(t,"empty",{get:function(){return new t},enumerable:!1,configurable:!0}),t.prototype.positionEmpty=function(){this.position={x:0,y:0,z:0}},t.prototype.scaleEmpty=function(){this.scale={x:1,y:1,z:1}},t.prototype.rotationEmpty=function(){this.rotation={x:0,y:0,z:0}},t}();o.EntityData=n,cc._RF.pop()},{}],EntityLogic:[function(t,e,o){"use strict";cc._RF.push(e,"7873cLAw99GBrJeY+Edgg2R","EntityLogic");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e.poolName="",e}return i(e,t),e.prototype.onEnable=function(){},e.prototype.start=function(){},Object.defineProperty(e.prototype,"LogicData",{get:function(){return this.mLogicData},enumerable:!1,configurable:!0}),e.prototype.willShow=function(t){this.mLogicData=t,t&&(isNaN(t.x)||(this.node.x=t.x),isNaN(t.y)||(this.node.y=t.y),isNaN(t.width)||(this.node.width=t.width),isNaN(t.height)||(this.node.height=t.height))},e.prototype.onShow=function(){},e.prototype.onFwUpdate=function(){},e.prototype.willHide=function(){},e.prototype.onHide=function(){},e.prototype.onCollision=function(){},e.prototype.unuse=function(){},e.prototype.reuse=function(){},e.prototype.pause=function(){},e.prototype.resume=function(){},e.prototype.onDisable=function(){},e}(cc.Component);o.default=r,cc._RF.pop()},{}],EntityModule:[function(t,e,o){"use strict";cc._RF.push(e,"96f5fl0pJ1IpLMNSvab7Du2","EntityModule");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../entity/EntityLogic"),c=t("./BaseModule"),a=cc._decorator,u=a.ccclass,l=(a.property,function(t){function e(){var e=t.call(this)||this;return e.entityLogics=[],e._serializeId=0,e.paused=!0,e.prefabPath="prefab/entity/",e.entityPools=[],e.mIsSlow=!0,e.levelKeyQuene=[],e.entityLogics=[],e._serializeId=0,e._serializeId=0,e}return i(e,t),e.prototype.start=function(){Lite.entity=this,this.resume()},e.prototype.update=function(t){if(!this.paused)for(var e=0;e<this.entityLogics.length;e++)this.entityLogics[e].onFwUpdate(t)},e.prototype.pause=function(){this.paused=!0},e.prototype.resume=function(){this.paused=!1},e.prototype.addLevelKey=function(t,e){var o=this.levelKey(t,e);0==this.levelKeyQuene.filter(function(t){return t==o}).length&&this.levelKeyQuene.push(o)},e.prototype.levelKey=function(t,e){return"level"+t+"_"+e},e.prototype.addPrefab=function(t,e,o){void 0===o&&(o=!0),console.log(" addPrefab ~ name",t),o?this[t]=e:this[t]?console.error("\u5df2\u7ecf\u5b58\u5728\u540c\u540d prefab",this[t]):this[t]=e},e.prototype.addLevelPrefab=function(t,e,o,n){void 0===n&&(n=!0),this.addLevelKey(t,e);var i=this.levelKey(t,e);this.addPrefab(i,o,n)},e.prototype.showLevelEntity=function(t,e,o,n){this.showEntity(this.levelKey(t,e),o,n)},e.prototype.getAllLevelEntityByName=function(t,e){var o=this.levelKey(t,e);return this.entityLogics.filter(function(t){return t.poolName==o})},e.prototype.getAllLevelEntity=function(t){var e=this.levelKey(t,"");return this.entityLogics.filter(function(t){return-1!=t.poolName.indexOf(e)})},e.prototype.getAllEntity=function(t){return this.entityLogics.filter(function(e){return e.poolName==t})},e.prototype.showEntity=function(t,e,o){var n=this._showEntity(t);return n.id=this._serializeId++,n.node.parent=e,n.node.active=!1,n.willShow(o),n.node.active=!0,n.node.zIndex=n.id,n.onShow(o),this.entityLogics.push(n),n},e.prototype.hideEntity=function(t,e,o){void 0===o&&(o=!1),this._hideEntity(t,e,o)},e.prototype.hideAllEntity=function(t,e){void 0===e&&(e=!1);for(var o=0;o<this.entityLogics.length;o++){var n=this.entityLogics[o];n.poolName==t&&(this.hideEntity(n,null,e),o--)}},e.prototype._showEntity=function(t){var e=this._getOrNewEntityPool(t),o=e.get();null==o&&(o=this._createEntity(t)),o||console.warn(t);var n=o.getComponent(s.default);return n.poolName=e.name,n},e.prototype._hideEntity=function(t,e,o){if(void 0===o&&(o=!1),o)t.willHide(e),t.node.active=!1,t.onHide(e),t.node.destroy();else{var n=this._getOrNewEntityPool(t.poolName);t.willHide(e),n.put(t.node),t.node.active=!1,t.onHide(e),t.node.removeFromParent()}cc.js.array.remove(this.entityLogics,t)},e.prototype._createEntity=function(t){var e=this._getPrefabByName(t);return cc.instantiate(e)},e.prototype._getPrefabByName=function(t){return this[t]},e.prototype._getOrNewEntityPool=function(t){var e=this._getEntityPool(t);return null==e&&(e=this._newEntityPool(t)),e},e.prototype._getEntityPool=function(t){for(var e=0;e<this.entityPools.length;e++){var o=this.entityPools[e];if(o.name===t)return o}return null},e.prototype._newEntityPool=function(t){var e=new cc.NodePool(t);return e.name=t,this.entityPools.push(e),e},r([u],e)}(c.default));o.default=l,cc._RF.pop()},{"../entity/EntityLogic":"EntityLogic","./BaseModule":"BaseModule"}],Entitys:[function(t,e,o){"use strict";cc._RF.push(e,"3918bLsqGdEqbUk+ioPm3hm","Entitys"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.mapItem="mapItem",t.end="end",t.beautifyScene="beautify",t.road="road",t.buffer="buffer",t.side="side",t.role="role",t.trap="trap",t.roleBullet="rolebullet",t.enemy="enemy",t.enemyBullet="enemybullet",t}();o.default=n,cc._RF.pop()},{}],FloorControl:[function(t,e,o){"use strict";cc._RF.push(e,"e4815hqePtP3qe00hdwVALe","FloorControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.onBeginContact=function(){},r([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],FrameworkEvent:[function(t,e,o){"use strict";cc._RF.push(e,"84144IDHxFCyKrGLYLIXVsv","FrameworkEvent"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.GAME_STATE_START="GAME_STATE_START",t.GAME_STATE_OVER="GAME_STATE_OVER",t.GAME_CUT_END="GAME_CUT_END",t.GAME_REFRESH_CUT_NUM="GAME_REFRESH_CUT_NUM",t.GAME_LEVEL_END="GAME_LEVEL_END",t.GAME_STATE_END="GAME_STATE_END",t.GAME_STATE_RESPAWN="GAME_STATE_RESPAWN",t.GAME_STATE_PAUSE="GAME_STATE_PAUSE",t.GAME_STATE_RESUME="GAME_STATE_RESUME",t.GAME_STATE_NEXT="GAME_STATE_NEXT",t.GAME_STATE_REPLAY="GAME_STATE_REPLAY",t.GAME_STATE_CANCEL="GAME_STATE_CANCEL",t.GAME_STATE_FAST_END="GAME_STATE_FAST_END",t.REPLAY_LEVEL="REPLAY_LEVEL",t.SHOW_TRANSITION="SHOW_TRANSITION",t.HIDE_TRANSITION="HIDE_TRANSITION",t.VIBRATESWITCH_CHANGED="VIBRATESWITCH_CHANGED",t.SOUNDSWITCH_CHANGED="SOUNDSWITCH_CHANGED",t.MUSICSWITCH_CHANGED="MUSICSWITCH_CHANGED",t.ON_PLATFORM_SHOW="ON_PLATFORM_SHOW",t.ON_PLATFORM_HIDE="ON_PLATFORM_HIDE",t.GAME_TIME_OUT="GAME_TIME_OUT",t.AD_VIEW_CHANGE="AD_VIEW_CHANGE",t.ADFORM_CHANGE="ADFORM_CHANGE",t.SKIN_CHANGE="SKIN_CHANGE",t.SKIN_UNLOCK="SKIN_UNLOCK",t.SKIN_SELECT="SKIN_SELECT",t.GAME_STATE_RESPAWN_COMPLETED="GAME_STATE_RESPAWN_COMPLETED",t.GAME_PROGRESS="GAME_PROGRESS",t.TRUCK_MOVE_OUT="TRUCK_MOVE_OUT",t.TOUCH_UP="TOUCH_UP",t.TOUCH_MOVE="TOUCH_MOVE",t.TOUCH_DOWN="TOUCH_DOWN",t.ROCKER_MOVE="ROCKER_MOVE",t.ROCKER_END="ROCKER_END",t.ROCKER_JUMP="ROCKER_JUMP",t.ROCKER_ATTACK="ROCKER_ATTACK",t.SCENE_LOADED="SCENE_LOADED",t.LEVEL_CHANGED="LEVEL_CHANGED",t.COIN_CHANGED="LEVEL_CHANGED",t.DIAMOND_CHANGED="DIAMOND_CHANGED",t.GOTO_HOME="GOTO_HOME",t.PLAYER_DIED="PLAYER_DIED",t.BOX_BROKEN="BOX_BROKEN",t.TRYING="TRYING",t.LAYOUT_LOADED="LAYOUT_LOADED",t.GAME_LOGIN="GAMELOGIN",t.CAMERA_FOLLOW_FRIENDLY="CAMERA_FOLLOW_FRIENDLY",t.RELOAD_LEVEL="RELOAD_LEVEL",t.LEVEL_FINAL="LEVEL_FINAL",t.ROLE_MOVE="ROLE_MOVE",t.CLAW_MOVE="CLAW_MOVE",t.AD_LOADED="AD_LOADED",t.DOOR_MOVE="DOOR_MOVE",t.JUMP="JUMP",t.SUCKER_START="SUCKER_START",t.SUCKER_END="SUCKER_END",t.BOX_STOP="BOX_STOP",t.PRIZE_BOX_UNLOCAK="PRIZE_BOX_UNLOCAK",t.EGG_TIP="EGG_TIP",t.EGG_SKIN_USE="EGG_SKIN_USE",t.ROLE_HP_CHANGED="ROLE_HP_CHANGED",t.CLEAR_ALL_MAP="CLEAR_ALL_MAP",t.RECEIVE_RAIN="RECEIVE_RAIN",t.SP_NUM_CHANGED="SP_NUM_CHANGED",t.FOLLOW_CHANGED="FOLLOW_CHANGED",t.CAMERA_CHANGED="CAMERA_CHANGED",t.PRIZE_KEY_CHANGE="PRIZE_KEY_CHANGE",t.CAR_IN_JIANCI="CAR_IN_JIANCI",t.RED_POINT_CHANGE="RED_POINT_CHANGE",t.SUB_CONTENT_CHANGE="SUB_CONTENT_CHANGE",t}();o.default=n,cc._RF.pop()},{}],GameCountdown:[function(t,e,o){"use strict";cc._RF.push(e,"cdfedNFOl9Jb4ceLHYhtzeT","GameCountdown");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/entity/EntityLogic"),c=t("../framework/utils/Common"),a=cc._decorator,u=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tip=null,e.time=null,e.mIsTimeout=!1,e.mBoxIndex=0,e.mBoxNum=1,e}return i(e,t),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.node.x=e.x,this.node.y=e.y,this.reset()},e.prototype.reset=function(){this.mIsTimeout=!1,this.node.active=!0,this.tip.node.active=!0,this.mBoxIndex=0,this.mBoxNum=1,this.time.string="00:00"},e.prototype.updateTime=function(t){var e=Math.floor(t/60),o=parseInt(""+t%60);this.time.string=c.default.formatNumber(e)+":"+c.default.formatNumber(o)},Object.defineProperty(e.prototype,"boxIndex",{set:function(t){this.mBoxIndex=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"BoxNum",{set:function(t){this.mBoxNum=t},enumerable:!1,configurable:!0}),e.prototype.timeout=function(){this.mIsTimeout=!0,this.tip.string="\u5378\u8f7d\u7bb1\u5b50\u8fc7\u6162\uff0c\u53f8\u673a\u4e0d\u8010\u70e6\u4e86\uff0c\u8d70\u4e86"},e.prototype.onFwUpdate=function(){if(this.node.zIndex=99,!this.mIsTimeout){var t;t=this.mBoxIndex<this.mBoxNum-1?this.mBoxIndex+1:this.mBoxNum,this.tip.string="\u5378\u8f7d\u7b2c"+t+"\u4e2a\u8d27\u7bb1\u65f6\u95f4\u5012\u8ba1\u65f6"}},r([l(cc.Label)],e.prototype,"tip",void 0),r([l(cc.Label)],e.prototype,"time",void 0),r([u],e)}(s.default);o.default=p,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic","../framework/utils/Common":"Common"}],GameDataCenter:[function(t,e,o){"use strict";cc._RF.push(e,"20893XGhcFIXq/Eim7yIV/L","GameDataCenter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../framework/modules/BaseModule"),s=t("../framework/utils/FrameworkEvent"),c=t("../framework/utils/Common"),a=t("../../sheets/vo/LevelCfg"),u=t("../../sheets/vo/SkinCfg"),l=function(t){function e(){var e=t.call(this)||this;return e.CURRENT_NEW_USER="CURRENT_NEW_USER",e.VIBRATE_SWITCH="VIBRATE_SWITCH",e.CURRENT_LEVEL="CURRENT_LEVEL",e.TOKEN="token",e.OPEN_ID="OPEN_ID",e.SP_NUM="SP_NUM",e.SP_DATE="SP_DATE",e.FOLLOW_TAG="FOLLOW_TAG",e.USER_LEVEL="USER_LEVEL",e.COIN="COIN",e.DIAMOND="DIAMOND",e.SIGN_NUM="SIGN_NUM",e.SIGN_DATE="SIGN_DATE",e.TRYING_DATE="TRYING_DATE",e.TRYING_GUN="TRYING_GUN",e.EGG_SKIN="EGG_SKIN",e.USE_EGG_SKIN="USE_EGG_SKIN",e.SIGN_VIDEO_DATE="SIGN_VIDEO_DATE",e.COIN_ADD="COIN_ADD",e.REPLAY_NUM="REPLAY_NUM",e.AIR_DROP_NUM="AIR_DROP_NUM",e.BENEFITS_TIME="BENEFITS_TIME",e.POWER_TIME="POWER_TIME",e.POWER_NUM="POWER_NUM",e.TILI_WATCH_NUM="TILI_WATCH_NUM",e.PLAY_ADD_TILI_NUM="PLAY_ADD_TILI_NUM",e.CHOUJIANG="CHOUJIANG",e.CHOUJIANG_TIMES="CHOUJIANG_TIMES",e.CURRENT_SKIN="CURRENT_SKIN",e.USER_SKIN="USER_SKIN",e.USER_PRIZE_KEY="USER_PRIZE_KEY",e.DAILY_TASK="DAILY_TASK",e.mCurrentMisTouchCount=0,e.AD_FORM_TAG="",e.mUserLevel=null,e.mCoin=0,e.mDiamond=0,e.mMistouchTag=1,e.mCutNum=0,e.mMaxPowerNum=5,e.initNewData(),e}return i(e,t),Object.defineProperty(e.prototype,"adFormTag",{get:function(){return this.AD_FORM_TAG},set:function(t){this.AD_FORM_TAG=t},enumerable:!1,configurable:!0}),e.prototype.getCurrentMisTouchCount=function(){return this.mCurrentMisTouchCount},e.prototype.setCurrentMisTouchCount=function(t){this.mCurrentMisTouchCount=t},e.prototype.getCoinAdd=function(){return moosnow.setting.getInt(this.COIN_ADD,1)},e.prototype.setCoinAdd=function(t){moosnow.setting.setValue(this.COIN_ADD,t)},e.prototype.getChoujiang=function(){return moosnow.setting.getInt(this.CHOUJIANG,1)},e.prototype.setChoujiang=function(t){moosnow.setting.setValue(this.CHOUJIANG,t),moosnow.event.sendEventImmediately(s.default.RED_POINT_CHANGE,null)},e.prototype.getChoujiangTimes=function(){return moosnow.setting.getInt(this.CHOUJIANG_TIMES,0)},e.prototype.addChoujiangTimes=function(t){var e=moosnow.setting.getInt(this.CHOUJIANG_TIMES,0);moosnow.setting.setValue(this.CHOUJIANG_TIMES,e+t)},e.prototype.getIsNew=function(){return moosnow.setting.getBool(this.CURRENT_NEW_USER,!0)},e.prototype.setIsNew=function(t){moosnow.setting.setBool(this.CURRENT_NEW_USER,t)},e.prototype.getToken=function(){return moosnow.setting.getString(this.TOKEN,"")},e.prototype.setToken=function(t){moosnow.setting.setValue(this.TOKEN,t)},e.prototype.getOpenid=function(){return moosnow.setting.getString(this.OPEN_ID,"")},e.prototype.setOpenid=function(t){moosnow.setting.setValue(this.OPEN_ID,t)},e.prototype.getVibrateSetting=function(){return moosnow.setting.getBool(this.VIBRATE_SWITCH,!0)},e.prototype.setVibrateSetting=function(t){moosnow.setting.setBool(this.VIBRATE_SWITCH,t),moosnow.event.sendEventImmediately(s.default.VIBRATESWITCH_CHANGED,t)},e.prototype.initNewData=function(){this.getToken()||(moosnow.setting.setValue(this.CURRENT_LEVEL,1),moosnow.setting.setValue(this.COIN,500),moosnow.setting.setValue(this.DIAMOND,0),moosnow.setting.setObject(this.USER_SKIN,{10001:{coinNum:0}}),this.setPowerTime(),this.setDefaultDailyTask(),this.addSp(3),this.setToken(c.default.generateUUID()))},e.prototype.getAirdropNum=function(){return moosnow.setting.getInt(this.AIR_DROP_NUM,10)},e.prototype.setAirdropNum=function(t){void 0===t&&(t=1),moosnow.setting.setValue(this.AIR_DROP_NUM,t)},e.prototype.getBenefitsTime=function(){return moosnow.setting.getInt(this.BENEFITS_TIME,0)},e.prototype.setBenefitsTime=function(t){moosnow.setting.setValue(this.BENEFITS_TIME,t)},e.prototype.getCurrentLevel=function(){return this.mCurrentLevel?this.mCurrentLevel:moosnow.setting.getInt(this.CURRENT_LEVEL,1)},e.prototype.setCurrentLevel=function(t){return this.mCurrentLevel=t,moosnow.setting.getInt(this.CURRENT_LEVEL,t)},e.prototype.addCurrentLevel=function(t){void 0===t&&(t=1);var e=moosnow.setting.appendInt(this.CURRENT_LEVEL,t);this.mCurrentLevel=e,moosnow.event.sendEventImmediately(s.default.LEVEL_CHANGED,e)},e.prototype.getUserLevel=function(){return this.mUserLevel||(this.mUserLevel=moosnow.setting.getObject(this.USER_LEVEL,"{}")),this.mUserLevel},e.prototype.getMaxLevel=function(){var t=0,e=Lite.data.getUserLevel();for(var o in e)parseInt(o)>t&&(t=parseInt(o));return t+1},e.prototype.initUserLevel=function(){var t=a.LevelCfg.getAll(),e=this.getUserLevel();if(c.default.isEmpty(e)){for(var o=0;o<t.length;o++){var n=t[o].prefab;e[o]={time:0,prefab:n}}moosnow.setting.setObject(this.USER_LEVEL,this.mUserLevel)}},e.prototype.setUserLevel=function(t,e){void 0===e&&(e=0);var o=this.getUserLevel();o[t]&&(o[t].time=e),moosnow.setting.setObject(this.USER_LEVEL,this.mUserLevel)},e.prototype.getNextLevel=function(){var t=this.getUserLevel(),e=this.getCurrentLevel();for(var o in t)0==t[o].time&&parseInt(o)<e&&(e=parseInt(o));return e},e.prototype.getCoin=function(){return 0==this.mCoin&&(this.mCoin=moosnow.setting.getInt(this.COIN,0)),this.mCoin},e.prototype.subCoin=function(t){this.mCoin-=t,this.saveCoin(),moosnow.event.sendEventImmediately(s.default.COIN_CHANGED,this.mCoin)},e.prototype.addCoin=function(t){this.mCoin+=t,this.saveCoin(),moosnow.event.sendEventImmediately(s.default.COIN_CHANGED,this.mCoin)},e.prototype.setCoin=function(t){this.mCoin=t,this.saveCoin(),moosnow.event.sendEventImmediately(s.default.COIN_CHANGED,this.mCoin)},e.prototype.saveCoin=function(){moosnow.setting.setValue(this.COIN,this.mCoin)},e.prototype.getDiamond=function(){return 0==this.mDiamond&&(this.mDiamond=moosnow.setting.getInt(this.DIAMOND,0)),this.mDiamond},e.prototype.subDiamond=function(t){this.mDiamond-=t,this.saveDiamond(),moosnow.event.sendEventImmediately(s.default.DIAMOND_CHANGED,this.mDiamond)},e.prototype.addDiamond=function(t){this.mDiamond+=t,this.saveDiamond(),moosnow.event.sendEventImmediately(s.default.DIAMOND_CHANGED,this.mDiamond)},e.prototype.setDiamond=function(t){this.mDiamond=t,moosnow.event.sendEventImmediately(s.default.DIAMOND_CHANGED,this.mDiamond)},e.prototype.saveDiamond=function(){moosnow.setting.setValue(this.DIAMOND,this.mDiamond)},e.prototype.getSignNum=function(){return moosnow.setting.getInt(this.SIGN_NUM,0)},e.prototype.addSignNum=function(){moosnow.setting.appendInt(this.SIGN_NUM,1),moosnow.setting.setValue(this.SIGN_DATE,c.default.formatTime(new Date)),moosnow.event.sendEventImmediately(s.default.RED_POINT_CHANGE,null)},e.prototype.setVideoSign=function(){moosnow.setting.setValue(this.SIGN_VIDEO_DATE,c.default.formatTime(new Date))},e.prototype.getIsSign=function(){return c.default.formatTime(new Date)==moosnow.setting.getString(this.SIGN_DATE,"")},e.prototype.getIsVideoSign=function(){return c.default.formatTime(new Date)==moosnow.setting.getString(this.SIGN_VIDEO_DATE,"")},e.prototype.getCurrentSkinId=function(){return this.mCurrentSkinId||(this.mCurrentSkinId=moosnow.setting.getInt(this.CURRENT_SKIN,10001)),this.mCurrentSkinId},e.prototype.setCurrentSkinId=function(t){return this.mCurrentSkinId=t,moosnow.setting.setValue(this.CURRENT_SKIN,t),this.mCurrentSkinId},e.prototype.getUserSkin=function(){return this.mUserSkin||(this.mUserSkin=moosnow.setting.getObject(this.USER_SKIN,"{}")),this.mUserSkin},e.prototype.addUserSkinCoin=function(t){var e=this.getUserSkin(),o=u.SkinCfg.get(t);return e[t]||(null!=o.coinNum?e[t]={coinNum:o.coinNum}:null!=o.diamodNum?e[t]={diamodNum:o.diamodNum}:e[t]={coinNum:0}),this.mUserSkin=e,moosnow.setting.setObject(this.USER_SKIN,this.mUserSkin),this.mUserSkin},e.prototype.addUserSkinVideo=function(t){var e=this.getUserSkin();return e[t]?e[t].videoNum+=1:e[t]={videoNum:1},this.mUserSkin=e,moosnow.setting.setObject(this.USER_SKIN,this.mUserSkin),this.mUserSkin},e.prototype.getUserSkinById=function(t){return this.getUserSkin()[t]},e.prototype.addTrying=function(t){moosnow.setting.setValue(this.TRYING_GUN,t),moosnow.setting.setValue(this.TRYING_DATE,c.default.formatTime(new Date))},e.prototype.getIsTrying=function(){return c.default.formatTime(new Date)==moosnow.setting.getString(this.TRYING_DATE,"")},e.prototype.getTrying=function(){return moosnow.setting.getInt(this.TRYING_GUN,0)},e.prototype.getSelectSkin=function(){return this.mSelectSkin||(this.mSelectSkin=this.getCurrentSkinId()),this.mSelectSkin},e.prototype.setSelectSkin=function(t){this.mSelectSkin=t},e.prototype.getMistouchTag=function(){return this.mMistouchTag},e.prototype.setMistouchTag=function(t){this.mMistouchTag=t},e.prototype.getPrizeBox=function(){return this.mPrizeBox||(this.mPrizeBox={}),this.mPrizeBox},e.prototype.clearPrizeBox=function(){this.mPrizeBox={}},e.prototype.lockPrizeBox=function(t,e,o){void 0===o&&(o=0);var n=this.getPrizeBox();n[t]={prizeId:t,type:0==e?0:1,coinNum:o},this.mPrizeBox=n},e.prototype.getUserPrizeBoxById=function(t){return this.getPrizeBox()[t]},e.prototype.getPrizeKey=function(){return null==this.mPrizeKey&&(this.mPrizeKey=3),this.mPrizeKey},e.prototype.subPrizeKey=function(t){void 0===t&&(t=1),this.mPrizeKey-=t,moosnow.event.sendEventImmediately(s.default.PRIZE_KEY_CHANGE,this.mPrizeKey)},e.prototype.addPrizeKey=function(t){this.mPrizeKey+=t,moosnow.event.sendEventImmediately(s.default.PRIZE_KEY_CHANGE,this.mPrizeKey)},e.prototype.clearPrizeKey=function(){this.mPrizeKey=null,moosnow.setting.setValue(this.USER_PRIZE_KEY,"")},e.prototype.getEggSkin=function(){return this.mEggSkin||(this.mEggSkin=moosnow.setting.getObject(this.EGG_SKIN,"{}")),this.mEggSkin},e.prototype.hasEggSkin=function(t){return!!this.getEggSkin()[t]},e.prototype.unlockEggSkin=function(t){var e=this.getEggSkin();e[t]=!0,moosnow.setting.setObject(this.EGG_SKIN,e)},e.prototype.useEggSkin=function(t){moosnow.setting.setValue(this.USE_EGG_SKIN,t)},e.prototype.getUseEggSkin=function(){return moosnow.setting.getInt(this.USE_EGG_SKIN,0)},e.prototype.clearUseEggSkin=function(){moosnow.setting.setValue(this.USE_EGG_SKIN,"0")},e.prototype.clearCutNum=function(){this.mCutNum=0},e.prototype.addCutNum=function(t){this.mCutNum+=t,moosnow.event.sendEventImmediately(s.default.GAME_REFRESH_CUT_NUM,this.mCutNum)},e.prototype.getCutNum=function(){return this.mCutNum},e.prototype.addFollowSp=function(){this.getSpNum(),this.mSpNum+=5,moosnow.setting.setValue(this.SP_NUM,this.mSpNum),moosnow.event.sendEventImmediately(s.default.SP_NUM_CHANGED,this.mSpNum)},e.prototype.addVideoSp=function(){this.addSp(5)},e.prototype.getSpTime=function(){return moosnow.setting.getInt(this.SP_DATE,0)},e.prototype.addChangeTag=function(){moosnow.setting.setValue(this.FOLLOW_TAG,Date.now())},e.prototype.getChangeTag=function(){return moosnow.setting.getInt(this.FOLLOW_TAG,0)},e.prototype.addTimeSp=function(){this.addSp(1),moosnow.setting.setValue(this.SP_DATE,Date.now())},e.prototype.addSp=function(t){this.getSpNum(),this.mSpNum+=t,this.mSpNum>10&&(this.mSpNum=10),this.mSpNum<=0&&(this.mSpNum=0),moosnow.setting.setValue(this.SP_NUM,this.mSpNum),moosnow.event.sendEventImmediately(s.default.SP_NUM_CHANGED,this.mSpNum)},e.prototype.getSpNum=function(){return this.mSpNum||(this.mSpNum=moosnow.setting.getInt(this.SP_NUM,0)),this.mSpNum<0&&(this.mSpNum=0),this.mSpNum},e.prototype.getReplayNum=function(){if(!this.mReplayNum){var t=moosnow.setting.getObject(this.REPLAY_NUM,"{}"),e=(new Date,c.default.getCurrentDay());isNaN(t[e])&&(t[e]=3),this.mReplayNum=t[e]}return this.mReplayNum},e.prototype.addReplayNum=function(t){var e,o=this.getReplayNum();this.mReplayNum=o+t,moosnow.setting.setObject(this.REPLAY_NUM,((e={})[c.default.getCurrentDay()]=this.mReplayNum,e))},e.prototype.getTiliWatchNum=function(){return moosnow.setting.getInt(this.TILI_WATCH_NUM,0)},e.prototype.setTiliWatchNum=function(t){moosnow.setting.setValue(this.TILI_WATCH_NUM,t)},e.prototype.getPlayAddTiLiLeftNum=function(){return moosnow.setting.getInt(this.PLAY_ADD_TILI_NUM,3)},e.prototype.setPlayAddTiLiLeftNum=function(t){moosnow.setting.setValue(this.PLAY_ADD_TILI_NUM,t)},e.prototype.getPower=function(){return this.mPowerNum||(this.mPowerNum=moosnow.setting.getInt(this.POWER_NUM,0)),this.mPowerNum<0&&(this.mPowerNum=0),this.mPowerNum},e.prototype.initPower=function(){this.mPowerNum=this.mMaxPowerNum,moosnow.setting.setValue(this.POWER_NUM,this.mPowerNum)},e.prototype.setPower=function(t){this.mPowerNum=t,moosnow.setting.setValue(this.POWER_NUM,this.mPowerNum)},e.prototype.addPower=function(t){this.mPowerNum=this.getPower(),this.mPowerNum+=t,moosnow.setting.setValue(this.POWER_NUM,this.mPowerNum)},e.prototype.getPowerTime=function(){return this.mPowerTime||(this.mPowerTime=moosnow.setting.getString(this.POWER_TIME,(new Date).toLocaleDateString()),moosnow.setting.setValue(this.POWER_TIME,this.mPowerTime)),this.mPowerTime},e.prototype.setPowerTime=function(){var t=(new Date).toLocaleDateString();moosnow.setting.setValue(this.POWER_TIME,t)},e.prototype.getDailyTask=function(){return this.mDailyTask||(this.mDailyTask=moosnow.setting.getObject(this.DAILY_TASK,"{}"),"{}"==JSON.stringify(this.mDailyTask)&&this.setDefaultDailyTask()),this.mDailyTask},e.prototype.setDailyTask=function(t,e,o){var n=this.getDailyTask();n[t][e]=o,this.mDailyTask=n,moosnow.setting.setObject(this.DAILY_TASK,this.mDailyTask),moosnow.event.sendEventImmediately(s.default.RED_POINT_CHANGE,null)},e.prototype.setDefaultDailyTask=function(){this.mDailyTask={1:{num:0,max:1,lingqu:!1},2:{num:0,max:1,lingqu:!1},3:{num:0,max:1,lingqu:!1},4:{num:0,max:3,lingqu:!1},5:{num:0,max:1,lingqu:!1}},moosnow.setting.setObject(this.DAILY_TASK,this.mDailyTask),moosnow.event.sendEventImmediately(s.default.RED_POINT_CHANGE,null)},e}(r.default);o.default=l,cc._RF.pop()},{"../../sheets/vo/LevelCfg":"LevelCfg","../../sheets/vo/SkinCfg":"SkinCfg","../framework/modules/BaseModule":"BaseModule","../framework/utils/Common":"Common","../framework/utils/FrameworkEvent":"FrameworkEvent"}],GameLogic:[function(t,e,o){"use strict";cc._RF.push(e,"3372cAZdgVPy5M0W6kKU1nw","GameLogic"),Object.defineProperty(o,"__esModule",{value:!0});o.default=function(){},cc._RF.pop()},{}],GameScene:[function(t,e,o){"use strict";cc._RF.push(e,"29d36fvbKREO4YivNicuP/G","GameScene");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./Rope"),c=cc._decorator,a=c.ccclass,u=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefabRope=null,e.nodeRope=null,e.fixed=!1,e.ropeLength=3,e._arrayRope=[],e._canvas=null,e._touchLocation=cc.Vec2.ZERO,e._touch=!0,e}return i(e,t),e.prototype.start=function(){for(var t=0;t<this.ropeLength;t++){var e=cc.instantiate(this.prefabRope);e.parent=this.nodeRope,this._arrayRope.push(e);var o=e.getComponent(s.default);if(0==t)o.init(0,0,12,0);else{var n=this._arrayRope[t-1].getComponent(s.default);o.init(n.getTargetPoint().x,n.getTargetPoint().y,12,0-t)}}this.node.on("touchstart",this.onTouchMove,this),this.node.on("touchmove",this.onTouchMove,this),this.node.on("touchend",this.onTouchMove,this),this._canvas=this.nodeRope.getComponent(cc.Graphics),this.update(0),this._touch=!1},e.prototype.update=function(){if(this._touch){for(var t=this._arrayRope.length-1;t>=0;t--){var e=this._arrayRope[t].getComponent(s.default);if(t==this._arrayRope.length-1)e.calcSelf(this._touchLocation);else{var o=this._arrayRope[t+1].getComponent(s.default);e.calcSelf(o.getSelfPoint())}e.calcTarget()}if(this.fixed)for(this._arrayRope[0].getComponent(s.default).setSelfPoint(cc.Vec2.ZERO),t=1;t<this._arrayRope.length;t++)e=this._arrayRope[t].getComponent(s.default),o=this._arrayRope[t-1].getComponent(s.default),e.calcSelf(o.getSelfPoint()),e.calcTarget()}},e.prototype.onTouchMove=function(t){if(this._touch=!0,this.fixed){var e=this.nodeRope.position.sub(t.getLocation()).normalizeSelf(),o=cc.v2(e.x*this.ropeLength*12,e.y*this.ropeLength*12);console.log("last point ",t.getLocation(),o),this._touchLocation=this.node.convertToNodeSpaceAR(o)}else this._touchLocation=this.node.convertToNodeSpaceAR(t.getLocation())},e.prototype.onTouchEnd=function(){this._touch=!1},r([u(cc.Prefab)],e.prototype,"prefabRope",void 0),r([u(cc.Node)],e.prototype,"nodeRope",void 0),r([u()],e.prototype,"fixed",void 0),r([u()],e.prototype,"ropeLength",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"./Rope":"Rope"}],GameState:[function(t,e,o){"use strict";cc._RF.push(e,"68601zqxg1I85/LwCfGqT+t","GameState");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./BaseModule"),c=t("../../config/UIForms"),a=t("../../framework/utils/FrameworkEvent"),u=t("../../../sheets/vo/LevelCfg"),l=t("../SiteMgr"),p=t("../BundleMgr"),h=t("../config/Bundles"),d=cc._decorator,f=d.ccclass,m=(d.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gamePause=!0,e.gameStarted=!1,e.role=null,e.gameLevel=1,e.gameCoin=0,e.isBoss=!1,e.mBeginTime=0,e.hasRecord=!1,e}return i(e,t),e.prototype.start=function(){Lite.myGame=this,moosnow.event.addListener(a.default.GAME_STATE_START,this,this.startGame),moosnow.event.addListener(a.default.GAME_STATE_OVER,this,this.gameOver),moosnow.event.addListener(a.default.GAME_STATE_RESPAWN,this,this.respawn),moosnow.event.addListener(a.default.GAME_STATE_RESUME,this,this.resumeGame),moosnow.event.addListener(a.default.GAME_STATE_PAUSE,this,this.pauseGame),moosnow.event.addListener(a.default.GAME_STATE_NEXT,this,this.nextGame),moosnow.event.addListener(a.default.GAME_STATE_REPLAY,this,this.resumeGame),moosnow.event.addListener(moosnow.PLATFORM_EVENT.ON_PLATFORM_HIDE,this,function(t){console.log("game state  ON_PLATFORM_HIDE ",t),Lite.audio.pauseMusic()}),moosnow.event.addListener(moosnow.PLATFORM_EVENT.ON_PLATFORM_SHOW,this,function(t){console.log("game state  ON_PLATFORM_SHOW ",t),moosnow.event.sendEventImmediately(a.default.HIDE_TRANSITION,null),moosnow.platform.videoPlaying||Lite.audio.resumeMusic()})},e.prototype.playBgMusic=function(){Lite.audio.playGameMusic()},e.prototype.startGame=function(t){var e=this;this.gameStarted||(this.gameStarted=!0,this.isBoss=!1,moosnow.form.hideAd(function(){}),p.default.loadGameBundle(function(){l.default.show(Lite.config.site02,function(){e.mBeginTime=Date.now(),e.startGameLogic({level:t,beginTime:e.mBeginTime})})}))},e.prototype.startGameLogic=function(t){var e=t.level;Lite.audio.stopMusic(),this.playBgMusic(),this.resumeGame(),Lite.myGame.gameLevel=e,console.log("\u6e38\u620f\u5173\u5361 ",e),Lite.ui.hasUIForm(c.default.HomeSelectForm)&&Lite.ui.hideUIForm(c.default.HomeSelectForm,null,null),moosnow.event.sendEventImmediately(a.default.SHOW_TRANSITION,null),Lite.ui.hasUIForm(c.default.HomeForm)?Lite.ui.hideUIForm(c.default.HomeForm,null,function(){Lite.ui.hasUIForm(c.default.GameForm)||Lite.ui.pushUIForm(c.default.GameForm,{level:e,beginTime:t.beginTime},function(){moosnow.event.sendEventImmediately(a.default.HIDE_TRANSITION,null)},h.default.gameform)}):Lite.ui.hasUIForm(c.default.GameForm)||Lite.ui.pushUIForm(c.default.GameForm,{level:e,beginTime:t.beginTime},function(){moosnow.event.sendEventImmediately(a.default.HIDE_TRANSITION,null)},h.default.gameform),moosnow.http.startGame(e)},e.prototype.onLevelReload=function(){this.resumeGame()},e.prototype.pauseGame=function(){this.gamePause=!0,Lite.entity.pause()},e.prototype.resumeGame=function(){this.gamePause=!1,Lite.entity.resume()},e.prototype.respawn=function(){var t=this;Lite.audio.playRespawnEffect(function(){t.playBgMusic()}),this.resumeGame()},e.prototype.replay=function(){},e.prototype.gameOver=function(t){var e=this;if(this.gameStarted){this.gameStarted=!1;var o=u.LevelCfg.getAll().length,n=Lite.myGame.gameLevel;n>o&&(n=o);var i=u.LevelCfg.get(n);this.gameCoin=Math.floor(i.coin/(t.isWin?1:5));var r=Lite.data.getMistouchTag();Lite.data.setMistouchTag(r+1);var s=Date.now()-this.mBeginTime,c=Lite.data.getCurrentLevel();if(t.isWin){var a=Lite.data.getUserLevel();0==this.hasRecord&&s>a[t.level-1].time&&a[t.level-1].time>0||(s<a[t.level-1].time||0==a[t.level-1].time)&&Lite.data.setUserLevel(t.level-1,s),t.level==c&&t.level<u.LevelCfg.getAll().length&&Lite.data.addCurrentLevel()}p.default.loadEndBundle(function(){l.default.show(Lite.config.site03,function(){e.gameOverLogic(t)})})}},e.prototype.checkIsHasRecord=function(t){if(window.wx){var e=this;wx.cloud.database().collection("worldrank").where({_openid:Lite.data.getOpenid(),level:t}).get({success:function(t){t.data.length>0?e.hasRecord=!0:e.hasRecord=!1}})}},e.prototype.updateScore=function(t,e){if(window.wx){var o=wx.cloud.database();o.collection("worldrank").where({_openid:Lite.data.getOpenid(),level:t}).get({success:function(n){n.data.length>0?o.collection("worldrank").doc(n.data[0]._id).update({data:{level:t,time:e},success:function(){}}):o.collection("worldrank").add({data:{level:t,time:e},success:function(){}})}})}},e.prototype.gameOverLogic=function(t){this.pauseGame(),Lite.audio.stopMusic(),moosnow.http.endGame(t.level,t.isWin),moosnow.event.sendEventImmediately(a.default.SHOW_TRANSITION,null),Lite.ui.pushUIForm(c.default.EndForm,{isWin:t.isWin,level:t.level},function(){moosnow.event.sendEventImmediately(a.default.HIDE_TRANSITION,null),console.log("\u7ed3\u675f\u9875\u5173\u95ed\u8fc7\u6e21\u9875")},h.default.endform)},e.prototype.nextGame=function(){if(!this.gameStarted){this.gameStarted=!0,this.resumeGame(),this.playBgMusic();var t=Lite.data.getCurrentLevel();this.mBeginTime=Date.now(),Lite.ui.hasUIForm(c.default.GameForm)||Lite.ui.pushUIForm(c.default.GameForm,{lvIndex:t,beginTime:this.mBeginTime})}},r([f],e)}(s.default));o.default=m,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../framework/utils/FrameworkEvent":"FrameworkEvent","../BundleMgr":"BundleMgr","../SiteMgr":"SiteMgr","../config/Bundles":"Bundles","./BaseModule":"BaseModule"}],KeyboardCenter:[function(t,e,o){"use strict";cc._RF.push(e,"7e3aaZkbUBJpqZAQI870Mml","KeyboardCenter");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/utils/FrameworkEvent"),c=cc._decorator,a=c.ccclass,u=(c.property,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.vect=cc.v2(),e}return i(e,t),e.prototype.onLoad=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.onDestroy=function(){cc.systemEvent.off(cc.SystemEvent.EventType.KEY_DOWN,this.onKeyDown,this),cc.systemEvent.off(cc.SystemEvent.EventType.KEY_UP,this.onKeyUp,this)},e.prototype.start=function(){},e.prototype.onKeyDown=function(t){switch(t.keyCode){case"A".charCodeAt(0):this.vect.x=-1,moosnow.event.sendEventImmediately(s.default.ROCKER_MOVE,this.vect);break;case"D".charCodeAt(0):this.vect.x=1,moosnow.event.sendEventImmediately(s.default.ROCKER_MOVE,this.vect);break;case"W".charCodeAt(0):this.vect.y=1,moosnow.event.sendEventImmediately(s.default.ROCKER_MOVE,this.vect);break;case"S".charCodeAt(0):this.vect.y=-1,moosnow.event.sendEventImmediately(s.default.ROCKER_MOVE,this.vect)}},e.prototype.onKeyUp=function(t){switch(t.keyCode){case"A".charCodeAt(0):case"D".charCodeAt(0):this.vect.x=0,moosnow.event.sendEventImmediately(s.default.ROCKER_END,this.vect);break;case"W".charCodeAt(0):case"S".charCodeAt(0):this.vect.y=0,moosnow.event.sendEventImmediately(s.default.ROCKER_END,this.vect)}},r([a],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../framework/utils/FrameworkEvent":"FrameworkEvent"}],LevelAdType:[function(t,e,o){"use strict";cc._RF.push(e,"99e1bMpCEdM96u+iW12q3LU","LevelAdType"),Object.defineProperty(o,"__esModule",{value:!0}),o.LevelAdType=void 0,function(t){t[t.NONE=0]="NONE",t[t.SHOW=1]="SHOW",t[t.HIDE=2]="HIDE"}(o.LevelAdType||(o.LevelAdType={})),cc._RF.pop()},{}],LevelCfg:[function(t,e,o){"use strict";cc._RF.push(e,"dd1cdykPRVLR6MRisEmvYlK","LevelCfg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.LevelCfg=void 0;var r=t("./Sheets"),s=t("../../script/framework/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:s.SheetManager.get("LevelCfg",t,e)},e.getAll=function(){var t,o=s.SheetManager.getList("LevelCfg"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(r.LevelCfgBase);o.LevelCfg=c,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],LevelMap:[function(t,e,o){"use strict";cc._RF.push(e,"87330zsAkRNyIKu+ySbafE2","LevelMap");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../framework/entity/EntityLogic"),a=t("../extends/BoxControl"),u=t("./TruckLoader"),l=t("../extends/TargetBoxControl"),p=t("../config/PackingMapping"),h=t("../../sheets/vo/LevelCfg"),d=t("../framework/utils/FrameworkEvent"),f=t("../config/UIForms"),m=t("../framework/config/Bundles"),y=t("../enum/PlayerCarType"),v=cc._decorator,_=v.ccclass,g=v.property,E=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.packageBox=null,e.truckLoader=null,e.targetBox=null,e.playerCar=null,e.guideTip=null,e.followPlayer=!1,e.triggerFinal=!1,e.mGameCountdownCtl=null,e.mLevelBegin=!1,e.mAdNum=0,e.mGameExportType=1,e.mEnableCountdown=!0,e.mCurrntRespawnNum=0,e.mRespawnMaxNum=2,e.mCurrentSecond=0,e.mTotalSecond=0,e}return i(e,t),e.prototype.start=function(){},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.initLevel(),this.addListener(),this.mGameCountdownCtl&&this.mGameCountdownCtl.reset(),this.mCurrntRespawnNum=0,this.beginCountdown(),this.changeBrick()},e.prototype.willHide=function(){this.removeListener(),console.log("\u5220\u9664\u5173\u5361\u4e8b\u4ef6")},e.prototype.onShow=function(){},e.prototype.changeBrick=function(){var t=this;Lite.resource.loadBundleRes(m.default.gameform,"texture/game/brick3",cc.SpriteFrame,function(e,o){var n=t.node.getChildByName("road");n||(n=t.node.getChildByName("wall")),n&&n.children.forEach(function(t){t.getComponent(cc.Sprite).spriteFrame=o})})},e.prototype.clipRecord=function(){},e.prototype.hideBanner=function(){},e.prototype.addListener=function(){moosnow.event.addListener(d.default.GAME_STATE_OVER,this,this.onGameOver),moosnow.event.addListener(d.default.GAME_STATE_REPLAY,this,this.onReplay),moosnow.event.addListener(d.default.GAME_STATE_NEXT,this,this.onNext),moosnow.event.addListener(d.default.GAME_STATE_CANCEL,this,this.onGameCancel),moosnow.event.addListener(d.default.PLAYER_DIED,this,this.onDied),moosnow.event.addListener(d.default.BOX_BROKEN,this,this.onBoxBroken),moosnow.event.addListener(d.default.GAME_STATE_RESPAWN,this,this.onRespawn),moosnow.event.addListener(d.default.GAME_STATE_RESPAWN_COMPLETED,this,this.onRespawnCompleted),moosnow.event.addListener(d.default.GAME_STATE_RESUME,this,this.onResumeGame),moosnow.event.addListener(d.default.GAME_STATE_PAUSE,this,this.onPauseGame),moosnow.event.addListener(d.default.GAME_STATE_FAST_END,this,this.onFastEnd),moosnow.event.addListener(d.default.GOTO_HOME,this,this.onToHome)},e.prototype.removeListener=function(){moosnow.event.removeListener(d.default.GAME_STATE_OVER,this),moosnow.event.removeListener(d.default.GAME_STATE_REPLAY,this),moosnow.event.removeListener(d.default.GAME_STATE_CANCEL,this),moosnow.event.removeListener(d.default.GAME_STATE_NEXT,this),moosnow.event.removeListener(d.default.PLAYER_DIED,this),moosnow.event.removeListener(d.default.BOX_BROKEN,this),moosnow.event.removeListener(d.default.GAME_STATE_RESPAWN,this),moosnow.event.removeListener(d.default.GAME_STATE_RESPAWN_COMPLETED,this),moosnow.event.removeListener(d.default.GAME_STATE_RESUME,this),moosnow.event.removeListener(d.default.GAME_STATE_PAUSE,this),moosnow.event.removeListener(d.default.GAME_STATE_FAST_END,this),moosnow.event.removeListener(d.default.GOTO_HOME,this)},e.prototype.onResumeGame=function(){this.stopCountdown(),this.schedule(this.onCountdown,1)},e.prototype.onPauseGame=function(){this.stopCountdown()},e.prototype.beginCountdown=function(){if(this.enableCountdown()){var t=this.LogicData.level+1,e=h.LevelCfg.get(t);this.mTotalSecond=this.mAdNum>e.countdown.length-1?e.countdown[e.countdown.length-1]:e.countdown[this.mAdNum],this.mCurrentSecond=0,this.stopCountdown(),this.schedule(this.onCountdown,1)}},e.prototype.onCountdown=function(){this.mCurrentSecond+=1,this.mGameCountdownCtl&&this.mGameCountdownCtl.updateTime(this.mTotalSecond-this.mCurrentSecond),this.mCurrentSecond==this.mTotalSecond&&(this.stopCountdown(),this.mGameCountdownCtl&&this.mGameCountdownCtl.timeout(),moosnow.event.sendEventImmediately(d.default.GAME_TIME_OUT,{timeout:!0}))},e.prototype.stopCountdown=function(){this.unschedule(this.onCountdown)},e.prototype.onHide=function(){Lite.entity.hideAllEntity("gameCountdown"),this.stopCountdown(),this.unschedule(this.clipRecord)},e.prototype.onBoxBroken=function(){this.mLevelEnd||(this.mLevelEnd=!0,this.destoryPlayer(),this.stopCountdown(),this.openResumePage(!0,!0))},e.prototype.onDied=function(){this.mLevelEnd||(this.mLevelEnd=!0,this.stopCountdown(),this.destoryPlayer(),this.openResumePage())},e.prototype.onFastEnd=function(){this.mLevelEnd=!0,this.stopCountdown(),moosnow.event.sendEventImmediately(d.default.GAME_STATE_END,{isWin:!0,level:this.LogicData.level})},e.prototype.onNext=function(){},e.prototype.onToHome=function(){this.stopCountdown(),Lite.entity.hideAllEntity("packingBox"),Lite.entity.hideAllEntity("playerCar",!0),Lite.entity.hideAllEntity("TruckLoader",!0),Lite.entity.hideEntity(this,null,!0),Lite.ui.hideUIForm(f.default.GameForm,null)},e.prototype.onGameCancel=function(){Lite.entity.hideAllEntity("packingBox"),this.destoryPlayer(),Lite.entity.hideEntity(this,null,!0),Lite.ui.hideUIForm(f.default.GameForm,null),Lite.ui.pushUIForm(f.default.HomeForm)},e.prototype.onRespawn=function(t){t&&t.timeout||(Lite.entity.hideAllEntity("packingBox"),Lite.entity.hideEntity(this,null,!0),moosnow.event.sendEventImmediately(d.default.RELOAD_LEVEL,null))},e.prototype.onRespawnCompleted=function(){this.mCurrentSecond=0,this.beginCountdown(),this.mGameCountdownCtl&&this.mGameCountdownCtl.reset()},e.prototype.onReplay=function(){var t=this;this.scheduleOnce(function(){Lite.entity.hideAllEntity("packingBox"),Lite.entity.hideEntity(t,null,!0),moosnow.event.sendEventImmediately(d.default.RELOAD_LEVEL,null)},3),this.destoryPlayer()},e.prototype.openResumePage=function(t,e){var o=this;void 0===t&&(t=!0),void 0===e&&(e=!1),this.scheduleOnce(function(){Lite.ui.pushUIForm(f.default.RespawnForm,{boxBroken:e,respawn:t,isWin:!1,level:o.LogicData.level},function(){},m.default.gameform)},1.5)},e.prototype.playerBoom=function(){moosnow.platform.vibrateLong(),Lite.audio.playAudio("\u7206\u70b8");var t=this.mPlayerCtl.carFrame.convertToWorldSpaceAR(cc.Vec2.ZERO),e=this.node.convertToNodeSpaceAR(t),o=r(r({},e),{zIndex:this.mPlayerCtl.node.zIndex});Lite.entity.showEntity("playerBoom",this.node,o),Lite.entity.showEntity("playerCarPart",this.node,o)},e.prototype.destoryPlayer=function(){this.playerBoom(),Lite.entity.hideAllEntity("playerCar",!0)},e.prototype.onGameOver=function(){this.mLevelEnd||(this.mLevelEnd=!0,this.stopCountdown(),this.destoryPlayer(),Lite.entity.hideAllEntity("packingBox"),Lite.entity.hideAllEntity("TruckLoader",!0),Lite.entity.hideEntity(this,null,!0),Lite.ui.hideUIForm(f.default.GameForm,null))},e.prototype.initLevel=function(){var t=this;this.mLevelEnd=null,this.mLevelBegin=!1,this.truckLoader.zIndex=1,this.mTruckCtl=this.truckLoader.getComponent(u.default);for(var e=this.targetBox.children,o=0;o<e.length;o++){var n=e[o];-1!=n.name.indexOf("box")&&(n.opacity=170)}this.playerCar.active=!1;var i=this.playerCar.convertToWorldSpaceAR(cc.Vec2.ZERO),s=this.node.convertToNodeSpaceAR(i);this.mPlayerCtl=Lite.entity.showEntity("playerCar",this.node,{x:s.x,y:s.y,zIndex:100}),this.packageBox.zIndex=2,this.packageBox.children.forEach(function(e){var o=e.getComponent(a.default);if(o)Lite.entity.hideEntity(o,null);else{e.active=!1;var n=r(r({},e.position),{rotation:e.angle});for(var i in t.mPlayerCtl.getCarType()==y.PlayerCarType.ACCURATE?n.addWeight=10:t.mPlayerCtl.getCarType()==y.PlayerCarType.GLASSWARE?n.addBrokenIntensity=300:t.mPlayerCtl.getCarType()==y.PlayerCarType.RARE&&(n.addBrokenIntensity=300,n.addWeight=10),p.default)if(-1!=e.name.indexOf(i)){Lite.entity.showEntity(p.default[i],t.packageBox,n);break}}}),this.enableCountdown()&&(this.mGameCountdownCtl||(this.mGameCountdownCtl=Lite.entity.showEntity("gameCountdown",this.node,{x:this.guideTip.x,y:this.guideTip.y}))),this.mLevelBegin=!0,this.mLevelEnd=!1},e.prototype.enableCountdown=function(){return moosnow.getAppPlatform()==moosnow.APP_PLATFORM.OPPO||moosnow.getAppPlatform()==moosnow.APP_PLATFORM.OPPO_ZS},e.prototype.checkWin=function(){var t=this,e=0,o=function(o){var i=p.default[o],r=Lite.entity.getAllEntity(i);n.targetBox.children.forEach(function(o){var n=o.getComponent(l.default),i=o.position.x,s=o.position.y;r.forEach(function(o){if(o.boxType==n.boxType){var r=o.node.convertToWorldSpaceAR(cc.Vec2.ZERO),c=t.targetBox.convertToNodeSpaceAR(r);c.x>=i-4&&c.x<=i+4&&c.y>=s-4&&c.y<=s+4&&(o.isUpward?Math.abs(o.node.angle)<.1&&(e+=1):e+=1)}})})},n=this;for(var i in p.default)o(i);var r=e>=this.targetBox.childrenCount;return this.resetCountdown(e,this.targetBox.childrenCount),this.triggerFinal&&moosnow.event.sendEventImmediately(d.default.LEVEL_FINAL,r),r?(this.guideTip&&(this.guideTip.active=!0),this.mGameCountdownCtl&&(this.mGameCountdownCtl.node.active=!1)):(this.guideTip&&(this.guideTip.active=!1),this.mGameCountdownCtl&&(this.mGameCountdownCtl.node.active=!0)),r},e.prototype.resetCountdown=function(t,e){t>this.mAdNum&&t<e&&(this.mAdNum=t,this.mGameCountdownCtl&&(this.mGameCountdownCtl.boxIndex=this.mAdNum),this.beginCountdown())},e.prototype.moveCamera=function(){this.mMainCamera||(this.mMainCamera=cc.Canvas.instance.node.getChildByName("Main Camera")),this.followPlayer?this.mMainCamera.setPosition(this.mPlayerCtl.carFrame.position.x,this.mMainCamera.position.y):this.mMainCamera.setPosition(0,0)},e.prototype.update=function(){this.moveCamera()},e.prototype.onFwUpdate=function(){if(1!=this.mLevelEnd&&this.mLevelBegin&&this.checkWin()&&0==this.mPlayerCtl.isSuckerWork()){for(var t=this.mTruckCtl.load.getBoundingBoxToWorld(),e=cc.director.getPhysicsManager().testAABB(t),o=!0,n=0;n<e.length;n++){var i=e[n];if(console.log("item.node name ,parent NAME",i.node.name,i.node.parent.parent.name),i.node.parent&&i.node.parent.parent&&"playerCar"==i.node.parent.parent.name){o=!1;break}}o&&(this.mLevelEnd=!0,this.stopCountdown(),moosnow.event.sendEventImmediately(d.default.GAME_STATE_END,{isWin:!0,level:this.LogicData.level}))}},s([g(cc.Node)],e.prototype,"packageBox",void 0),s([g(cc.Node)],e.prototype,"truckLoader",void 0),s([g(cc.Node)],e.prototype,"targetBox",void 0),s([g(cc.Node)],e.prototype,"playerCar",void 0),s([g(cc.Node)],e.prototype,"guideTip",void 0),s([g],e.prototype,"followPlayer",void 0),s([g],e.prototype,"triggerFinal",void 0),s([_],e)}(c.default);o.default=E,cc._RF.pop()},{"../../sheets/vo/LevelCfg":"LevelCfg","../config/PackingMapping":"PackingMapping","../config/UIForms":"UIForms","../enum/PlayerCarType":"PlayerCarType","../extends/BoxControl":"BoxControl","../extends/TargetBoxControl":"TargetBoxControl","../framework/config/Bundles":"Bundles","../framework/entity/EntityLogic":"EntityLogic","../framework/utils/FrameworkEvent":"FrameworkEvent","./TruckLoader":"TruckLoader"}],LoadingBase:[function(t,e,o){"use strict";cc._RF.push(e,"5d34dTxE1JBhYgn1JhZxyWL","LoadingBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../sheets/vo/ConfigData"),c=t("../BundleMgr"),a=t("../SiteMgr"),u=t("../utils/Common"),l=t("../utils/SheetManager"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.txtProgress=null,e.txtVersion=null,e.progressBar=null,e.memo=null,e.loading1=null,e.loading2=null,e.blackBg=null,e.virtual1Progress=0,e.virtual1MaxProgress=80,e.virtual1Time=0,e.virtual1MaxTime=2,e.virtual2Progress=0,e.virtual2MaxProgress=15,e.virtual2Time=0,e.virtual2MaxTime=2,e.real1Progress=0,e.real2Progress=0,e.real3Progress=0,e.real1MaxProgress=20,e.real2MaxProgress=50,e.real3MaxProgress=20,e.openScene=!1,e.adProgress=1,e.adMaxProgress=10,e.txtAnimIndex=0,e}return i(e,t),e.prototype.start=function(){},e.prototype.loadRes=function(){var t=this;console.log("load cfg json "),l.SheetManager.loadDB("data/cfg.json",function(){s.ConfigData.init(),Lite.data.initUserLevel(),Lite.resource.loadAssetDir("prefab/entity",cc.Prefab,function(e){t.real1Progress=(isNaN(e)?0:e)/100},function(e,o){o.forEach(function(t){Lite.entity.addPrefab(t.name,t,!0)}),t.real1Progress=1}),Lite.config.site01.length>0&&(t.adProgress=0,a.default.loadNextSite(Lite.config.site01,0,function(e){t.adProgress=e/100},function(){t.adProgress=1},!1)),t.real3Progress=1,t.real3Progress=0,c.default.loadHomeBundle(function(){t.real3Progress=1},function(e){t.real3Progress=e/100},!1),Lite.resource.preloadScene("Main",function(e,o){var n=e/o;t.real2Progress=isNaN(n)?0:n},function(){t.real2Progress=1})})},e.prototype.txtAnim=function(){var t,e=this,o=this.memo.children[this.txtAnimIndex%this.memo.childrenCount];this.txtAnimIndex>0&&(t=this.memo.children[(this.txtAnimIndex-1)%this.memo.childrenCount]);var n=o.x,i=o.y;if(o.runAction(cc.sequence(cc.moveTo(.2,cc.v2(n,i+20)),cc.callFunc(function(){e.txtAnimIndex++,e.txtAnim()}))),t){var r=t.x;t.y,t.runAction(cc.sequence(cc.moveTo(.2,cc.v2(r,0)),cc.callFunc(function(){})))}},e.prototype.onLoad=function(){var t=this;this.scheduleOnce(function(){t.scheduleOnce(function(){t.loading1.active=!1,t.blackBg.active=!1,t.scheduleOnce(function(){t.loading2.active=!1},1)},2),t.txtAnim(),moosnow.platform.login(),moosnow.platform.initPreStoreBanner(),moosnow.http.getAllConfig(function(e){Lite.config.addConfig(e),t.loadRes()}),t.virtual1Progress=0,t.virtual2Progress=0,t.txtVersion.string="version "+moosnow.Common.config.version,moosnow.http.point("\u9875\u9762\u6253\u5f00\u6b21\u6570",{name:"Loading\u9875"})},0)},e.prototype.update=function(t){this.virtual1Time+=t,this.virtual1Time>this.virtual1MaxTime&&(this.virtual1Time=this.virtual1MaxTime),this.virtual1Progress=this.virtual1Time/this.virtual1MaxTime*this.virtual1MaxProgress,(this.virtual1Time=this.virtual1MaxTime)&&(this.virtual2Time+=t,this.virtual2Time>this.virtual2MaxTime&&(this.virtual2Time=this.virtual2MaxTime),this.virtual2Progress=this.virtual2Time/this.virtual2MaxTime*this.virtual2MaxProgress),this.progressChange()},e.prototype.progressChange=function(){if(!this.openScene){var t=this.virtual1Progress+this.virtual2Progress,e=this.real1Progress*this.real1MaxProgress+this.real2Progress*this.real2MaxProgress+this.real3Progress*this.real3MaxProgress+this.adProgress*this.adMaxProgress,o=t>e?t:e;isNaN(o)?this.txtProgress.string=u.default.numFixed(0,1)+"%":this.txtProgress.string=u.default.numFixed(o,1)+"%",this.progressBar.progress=o/100,o>=100&&this.loadScene()}},e.prototype.loadScene=function(){this.openScene||(this.openScene=!0,Lite.resource.loadScene("Main"))},r([d(cc.Label)],e.prototype,"txtProgress",void 0),r([d(cc.Label)],e.prototype,"txtVersion",void 0),r([d(cc.ProgressBar)],e.prototype,"progressBar",void 0),r([d(cc.Node)],e.prototype,"memo",void 0),r([d(cc.Node)],e.prototype,"loading1",void 0),r([d(cc.Node)],e.prototype,"loading2",void 0),r([d(cc.Node)],e.prototype,"blackBg",void 0),r([h],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../../../sheets/vo/ConfigData":"ConfigData","../BundleMgr":"BundleMgr","../SiteMgr":"SiteMgr","../utils/Common":"Common","../utils/SheetManager":"SheetManager"}],Logger:[function(t,e,o){"use strict";cc._RF.push(e,"10f57ztvEpOELo4eqeZii3N","Logger"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,t)},t.trace=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];console.log.apply(console,t)},t}();o.default=n,cc._RF.pop()},{}],MainBase:[function(t,e,o){"use strict";cc._RF.push(e,"16c71vktUdFL5Wn6IeMhW9F","MainBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../config/UIForms"),c=t("../BundleMgr"),a=t("../config/Bundles"),u=t("../SiteMgr"),l=cc._decorator,p=l.ccclass,h=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.background=null,e.bg1=null,e.bg2=null,e.paihangbang=null,e.adProgress=1,e.adMaxProgress=.1,e}return i(e,t),e.prototype.start=function(){moosnow.http.finishLoading(),moosnow.platform.reportMonitor()},e.prototype.onLoad=function(){this.paihangbang.active=!1,this.openNextForm()},e.prototype.onsubContentChange=function(t){this.paihangbang.active=t.open,this.paihangbang.zIndex=0,t.open&&t.level&&(this.paihangbang.zIndex=cc.macro.MAX_ZINDEX,this.checkPaihang(t.level))},e.prototype.openNextForm=function(){var t=this;u.default.show(Lite.config.site01,function(){c.default.loadHomeBundle(function(){t.anotherDay(),Lite.ui.pushUIForm(s.default.HomeForm,null,function(){},a.default.homeform)})})},e.prototype.checkPaihang=function(t){window.wx&&wx.cloud.database().collection("worldrank").where({level:t}).limit(20).orderBy("time","asc").get({success:function(t){console.log("\u4e3b\u57df\u67e5\u8be2\u6210\u529f\uff01\uff01\uff01\uff01",t.data),wx.postMessage({worldrankdata:t.data})}})},e.prototype.anotherDay=function(){Lite.data.getPowerTime()!==(new Date).toLocaleDateString()&&(Lite.data.setChoujiang(1),Lite.data.setDefaultDailyTask(),Lite.data.setPowerTime())},r([h(cc.Sprite)],e.prototype,"background",void 0),r([h(cc.SpriteFrame)],e.prototype,"bg1",void 0),r([h(cc.SpriteFrame)],e.prototype,"bg2",void 0),r([h(cc.Node)],e.prototype,"paihangbang",void 0),r([p],e)}(cc.Component);o.default=d,cc._RF.pop()},{"../../config/UIForms":"UIForms","../BundleMgr":"BundleMgr","../SiteMgr":"SiteMgr","../config/Bundles":"Bundles"}],MapControl:[function(t,e,o){"use strict";cc._RF.push(e,"a5b832rPCpK4K/gUHrrW7Vo","MapControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/entity/EntityLogic"),c=cc._decorator,a=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a],e)}(s.default));o.default=u,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic"}],MaskEx:[function(t,e,o){"use strict";cc._RF.push(e,"cd8eb91XgdDhqPGNBKet3du","MaskEx");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../entity/EntityLogic"),c=cc._decorator,a=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),r([a],e)}(s.default));o.default=u,cc._RF.pop()},{"../entity/EntityLogic":"EntityLogic"}],MathUtils:[function(t,e,o){"use strict";cc._RF.push(e,"dcce1MonZFGOba8lwIy196V","MathUtils"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.getAngle=function(t){return 180*t/Math.PI},t.getRadian=function(t){return t/180*Math.PI},t.getRadianByPoint=function(t,e){return Math.atan2(e.y-t.y,e.x-t.x)},t.getAngleByPoint=function(t,e){return 180*this.getRadianByPoint(t,e)/Math.PI},t.detectCollision=function(t,e){var o,n,i,r,s,c;return o=e.x<t.x?t.x:e.x>t.x+t.w?t.x+t.w:e.x,n=e.y<t.y?t.y:e.y>t.y+t.h?t.y+t.h:e.y,i=e.x,r=e.y,s=o,c=n,Math.sqrt(Math.pow(s-i,2)+Math.pow(c-r,2))<e.r},t.vecRotate=function(e,o){var n=t.getRadian(o),i=Math.sin(n),r=Math.cos(n),s=r*e.x-i*e.y,c=i*e.x+r*e.y;return new cc.Vec2(s,c)},t.getRadianTwoPoint=function(t,e){var o=e.x-t.x,n=e.y-t.y;return Math.atan2(n,o)},t.getAngleTwoPoint=function(t,e){var o,n=e.y-t.y,i=e.x-t.x;return 0==n?i<0?180:0:0==i?(n>0?o=90:n<0&&(o=270),o):(o=this.getAngle(Math.atan(Math.abs(n)/Math.abs(i))),i>0?n<0&&(o=360-o):o=n>0?180-o:180+o,o)},t.getAngleTwoVec=function(t,e){var o=Math.atan2(e.y,e.x)-Math.atan2(t.y,t.x);return this.getAngle(o)},t.getDistance=function(t,e){var o=e.x-t.x,n=e.y-t.y,i=Math.pow(o,2)+Math.pow(n,2);return Math.sqrt(i)},t.exactCount=function(t,e){void 0===e&&(e=0);var o=Math.pow(10,e);return(t*o|0)/o},t.getBezierCutAngle=function(t,e,o,n){var i=2*(t.x*(n-1)+e.x*(1-2*n)+o.x*n),r=2*(t.y*(n-1)+e.y*(1-2*n)+o.y*n);return this.getAngle(Math.atan2(r,i))},t.randomNumBoth=function(t,e){var o=e-t,n=Math.random();return t+Math.round(n*o)},t.probabilityCanHappen=function(e){return t.randomNumBoth(0,100)<=e},t.rectCollision=function(t,e){return t.x<e.x+e.width&&t.x+t.width>e.x&&t.y<e.y+e.height&&t.height+t.y>e.y},t}();o.default=n,cc._RF.pop()},{}],MistouchPos:[function(t,e,o){"use strict";cc._RF.push(e,"9222dTvKcNPNL8wgXkrapSa","MistouchPos");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.posButton=null,e.moveDis=-100,e.showBanner=!0,e.pos1=cc.Vec2.ZERO,e.pos2=cc.Vec2.ZERO,e.mMistouchPosNum=0,e.mMistouchPosSecond=4,e}return i(e,t),e.prototype.onEnable=function(){var t=this;this.pos1=this.posButton.position.clone(),this.pos2=this.pos1.add(new cc.Vec2(0,this.moveDis));var e=Lite.data.getCurrentMisTouchCount();Lite.data.setCurrentMisTouchCount(e+1),this.posButton.active=!1,moosnow.http.getAllConfig(function(e){isNaN(e.mistouchPosSecond)||(t.mMistouchPosSecond=parseFloat(e.mistouchPosSecond)),moosnow.http.getMistouchPosNum(function(e){t.mMistouchPosNum=e,t.setPos()})})},e.prototype.setPos=function(){var t=this;if(0==this.mMistouchPosNum)this.posButton.active=!0,this.posButton.x=this.pos1.x,this.posButton.y=this.pos1.y,this.showBanner&&moosnow.platform.showBanner();else if(Lite.data.getCurrentMisTouchCount()%this.mMistouchPosNum==0){var e=cc.instantiate(this.posButton);e.active=!0,this.posButton.parent.addChild(e),e.x=this.pos2.x,e.y=this.pos2.y,this.scheduleOnce(function(){t.showBanner&&moosnow.platform.showBanner()},this.mMistouchPosSecond),this.scheduleOnce(function(){e.active=!1,e.removeFromParent(),e.destroy(),t.posButton.active=!0,t.posButton.x=t.pos1.x,t.posButton.y=t.pos1.y},this.mMistouchPosSecond)}},r([a(cc.Node)],e.prototype,"posButton",void 0),r([a],e.prototype,"moveDis",void 0),r([a],e.prototype,"showBanner",void 0),r([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],MoveUtil:[function(t,e,o){"use strict";cc._RF.push(e,"9043dW+tUdOVI6hocX3RwVh","MoveUtil"),Object.defineProperty(o,"__esModule",{value:!0});var n=t("./ArrayUtil"),i=function(t,e,o,n,i){this.mV=3,this.mT=0,this.mInterval=.01,this.mAccel=5,this.mV=t,this.mT=e,this.mInterval=o,this.mAccel=n,this.mCallback=i},r=function(t,e,o,n,i){void 0===o&&(o=100),void 0===n&&(n=1),this.height=.01,this.xSpeed=5,this.startPoint=t,this.endPoint=e,this.height=o,this.xSpeed=n,this.mCallback=i},s=function(){function t(){this.mTaskId=0,this.mTask=[],this.mTask2=[]}return t.prototype.addTask=function(t,e,o,n,r){this.mTask.push(new i(t,e,o,n,r))},t.prototype.addTask2=function(t,e,o,n,i){void 0===o&&(o=100),void 0===n&&(n=1);var s=t.x,c=t.y,a=e.x,u=e.y,l=Math.abs(a-s),p=s+l/2,h=c-o,d=((c-u)*(s*s-p*p)-(c-h)*(s*s-a*a))/((s-a)*(s*s-p*p)-(s-p)*(s*s-a*a)),f=(c-h-d*(s-p))/(s*s-p*p),m=c-f*s*s-d*s,y=new r(t,e,o,n,i);y.a=f,y.b=d,y.c=m,y.vx=l/n,this.mTask2.push(y)},t.prototype.onUpdate=function(t){for(var e=0;e<this.mTask.length;e++){(i=this.mTask[e]).mT+=i.mInterval;var o=i.mV*i.mT+i.mAccel*Math.pow(i.mT,2)/2;this.mTask[e]=i,0==i.mCallback(o)&&n.default.remove(this.mTask,i)}for(e=0;e<this.mTask2.length;e++){var i,r=t*(i=this.mTask2[e]).xSpeed,s=i.a*r^2+i.b*r+i.c;0==i.mCallback(cc.v2(r,s))&&n.default.remove(this.mTask2,i)}},t}();o.default=s,cc._RF.pop()},{"./ArrayUtil":"ArrayUtil"}],PackingMapping:[function(t,e,o){"use strict";cc._RF.push(e,"59e6cAFAMZCbI3SPdHSFV7h","PackingMapping"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.longbox="packingLongBox",t.bigbox="packingBigBox",t.upwardbox="packingUpwardBox",t.upwardlongbox="packingUpwardLongBox",t.upwardbigbox="packingUpwardBigBox",t.circle="packingCircle",t.box="packingBox",t.easybroken="packingEasyBrokenBigBox",t}();o.default=n,cc._RF.pop()},{}],PhysicsSetting:[function(t,e){"use strict";cc._RF.push(e,"2f730GsdGROgpx/sEkKeJIs","PhysicsSetting"),cc.game.on(cc.game.EVENT_ENGINE_INITED,function(){var t=cc.director.getPhysicsManager();cc.director.getCollisionManager().enabled=!0,t.enabled=!0}),cc._RF.pop()},{}],PlayerBoom:[function(t,e,o){"use strict";cc._RF.push(e,"55d5e5fEnRJwYNSYsJ8iNYq","PlayerBoom");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/entity/EntityLogic"),c=cc._decorator,a=c.ccclass,u=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){},e.prototype.willShow=function(t){this.node.position=t,this.node.scale=2},e.prototype.onShow=function(){this.getComponent(cc.Animation).play()},e.prototype.onAnimCompleted=function(){Lite.entity.hideEntity(this,null)},r([a],e)}(s.default));o.default=u,cc._RF.pop()},{"../framework/entity/EntityLogic":"EntityLogic"}],PlayerCarPart:[function(t,e,o){"use strict";cc._RF.push(e,"7952duftRROmrrs9tjydoFD","PlayerCarPart");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/config/Bundles"),c=t("../framework/entity/EntityLogic"),a=t("../framework/utils/Common"),u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.box=null,e.carFrame=null,e.mount=null,e.wheel1=null,e.wheel2=null,e.claw1=null,e.claw2=null,e.claw3=null,e}return i(e,t),e.prototype.willShow=function(){var t=this;this.mMountBody=this.mount.getComponent(cc.RigidBody),this.mCarBody=this.carFrame.getComponent(cc.RigidBody),this.mWheel1Body=this.wheel1.getComponent(cc.RigidBody),this.mWheel2Body=this.wheel2.getComponent(cc.RigidBody),this.mClaw1Body=this.claw1.getComponent(cc.RigidBody),this.mClaw2Body=this.claw2.getComponent(cc.RigidBody),this.mClaw3Body=this.claw3.getComponent(cc.RigidBody),this.mMountBody.linearVelocity=new cc.Vec2(a.default.randomNumBoth(-100,100),a.default.randomNumBoth(50,100)),this.mCarBody.linearVelocity=new cc.Vec2(a.default.randomNumBoth(-100,100),a.default.randomNumBoth(50,100)),this.mWheel1Body.linearVelocity=new cc.Vec2(a.default.randomNumBoth(-100,100),a.default.randomNumBoth(50,100)),this.mWheel2Body.linearVelocity=new cc.Vec2(a.default.randomNumBoth(-100,100),a.default.randomNumBoth(50,100)),this.mClaw1Body.linearVelocity=new cc.Vec2(a.default.randomNumBoth(-100,100),a.default.randomNumBoth(50,100)),this.mClaw2Body.linearVelocity=new cc.Vec2(a.default.randomNumBoth(-100,100),a.default.randomNumBoth(50,100)),this.mClaw3Body.linearVelocity=new cc.Vec2(a.default.randomNumBoth(-100,100),a.default.randomNumBoth(50,100)),this.scheduleOnce(function(){Lite.entity.hideEntity(t,null,!0)},3);var e=Lite.data.getTrying(),o=Lite.data.getCurrentSkinId();this.onSkinChange(e||o)},e.prototype.onSkinChange=function(t){var e=this;this&&this.claw3&&this.claw2&&(Lite.resource.loadBundleRes(s.default.gameform,"texture/skin/"+t+"/1",cc.SpriteFrame,function(t,o){e.claw3&&(e.claw3.getComponent(cc.Sprite).spriteFrame=o)}),Lite.resource.loadBundleRes(s.default.gameform,"texture/skin/"+t+"/2",cc.SpriteFrame,function(t,o){e.claw2&&(e.claw2.getComponent(cc.Sprite).spriteFrame=o)}),Lite.resource.loadBundleRes(s.default.gameform,"texture/skin/"+t+"/3",cc.SpriteFrame,function(t,o){e.claw1&&(e.claw1.getComponent(cc.Sprite).spriteFrame=o)}),Lite.resource.loadBundleRes(s.default.gameform,"texture/skin/"+t+"/4",cc.SpriteFrame,function(t,o){e.mount&&(e.mount.getComponent(cc.Sprite).spriteFrame=o)}),Lite.resource.loadBundleRes(s.default.gameform,"texture/skin/"+t+"/5",cc.SpriteFrame,function(t,o){e.carFrame&&(e.carFrame.getComponent(cc.Sprite).spriteFrame=o)}),Lite.resource.loadBundleRes(s.default.gameform,"texture/skin/"+t+"/6",cc.SpriteFrame,function(t,o){e.wheel1&&(e.wheel1.getComponent(cc.Sprite).spriteFrame=o),e.wheel2&&(e.wheel2.getComponent(cc.Sprite).spriteFrame=o)}))},e.prototype.willHide=function(){},e.prototype.onShow=function(t){console.log("player car pos ",t),this.setType(cc.RigidBodyType.Kinematic);var e=new cc.Vec2(t.x-this.carFrame.x,t.y-this.carFrame.y);this.initPosition(e),this.setType(cc.RigidBodyType.Dynamic),this.node.zIndex=t.zIndex},e.prototype.setType=function(t){this.mCarBody.type=t,this.mWheel1Body.type=t,this.mWheel2Body.type=t,this.mClaw1Body.type=t,this.mClaw2Body.type=t,this.mClaw3Body.type=t,this.mMountBody.type=t},e.prototype.initPosition=function(t){this.moveVec(this.carFrame,t),this.moveVec(this.wheel1,t),this.moveVec(this.wheel2,t),this.moveVec(this.claw1,t),this.moveVec(this.claw2,t),this.moveVec(this.claw3,t)},e.prototype.moveVec=function(t,e){t.x+=e.x,t.y+=e.y},e.prototype.onEnable=function(){},r([p(cc.Node)],e.prototype,"box",void 0),r([p(cc.Node)],e.prototype,"carFrame",void 0),r([p(cc.Node)],e.prototype,"mount",void 0),r([p(cc.Node)],e.prototype,"wheel1",void 0),r([p(cc.Node)],e.prototype,"wheel2",void 0),r([p(cc.Node)],e.prototype,"claw1",void 0),r([p(cc.Node)],e.prototype,"claw2",void 0),r([p(cc.Node)],e.prototype,"claw3",void 0),r([l],e)}(c.default);o.default=h,cc._RF.pop()},{"../framework/config/Bundles":"Bundles","../framework/entity/EntityLogic":"EntityLogic","../framework/utils/Common":"Common"}],PlayerCarType:[function(t,e,o){"use strict";cc._RF.push(e,"bf105evZ0VLnqdNUPnODzWz","PlayerCarType"),Object.defineProperty(o,"__esModule",{value:!0}),o.PlayerCarType=void 0,function(t){t[t.NORMAL=0]="NORMAL",t[t.ACCURATE=1]="ACCURATE",t[t.RARE=2]="RARE",t[t.SPINES=3]="SPINES",t[t.GLASSWARE=4]="GLASSWARE",t[t.ELECTRIC=5]="ELECTRIC",t[t.FIRE=6]="FIRE",t[t.ACCELERATE=7]="ACCELERATE",t[t.ACCELERATE_FIRE=8]="ACCELERATE_FIRE"}(o.PlayerCarType||(o.PlayerCarType={})),cc._RF.pop()},{}],PlayerCar:[function(t,e,o){"use strict";cc._RF.push(e,"b7cf0OEGzBHSrTUx4DZ/YEq","PlayerCar");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/entity/EntityLogic"),c=t("../framework/utils/FrameworkEvent"),a=t("../framework/utils/MathUtils"),u=t("../framework/config/Bundles"),l=t("../enum/PlayerCarType"),p=t("../../sheets/vo/SkinCfg"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.box=null,e.carFrame=null,e.mount=null,e.wheel1=null,e.wheel2=null,e.claw1=null,e.claw2=null,e.claw3=null,e.fornt=null,e.magnetEffect=null,e.gameEnd=!1,e.mIsDied=!1,e.mCheckDied=!1,e.mCanSucker=!1,e.carType=l.PlayerCarType.NORMAL,e.inJianciRed=!1,e.maxDis=0,e}return i(e,t),Object.defineProperty(e.prototype,"position",{get:function(){return this.carFrame.convertToWorldSpaceAR(cc.Vec2.ZERO)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this.carFrame.width},enumerable:!1,configurable:!0}),e.prototype.start=function(){},e.prototype.willShow=function(){this.mIsDied=!1,this.gameEnd=!1,this.mCheckDied=!1,this.wheel1Joint=this.wheel1.getComponent(cc.WheelJoint),this.wheel2Joint=this.wheel2.getComponent(cc.WheelJoint),this.claw1Joint=this.claw1.getComponent(cc.RevoluteJoint),this.claw2Joint=this.claw2.getComponent(cc.RevoluteJoint),this.claw3Joint=this.claw3.getComponent(cc.RevoluteJoint),this.forntJoint=this.fornt.getComponent(cc.WeldJoint),this.mMountBody=this.mount.getComponent(cc.RigidBody),this.mCarBody=this.carFrame.getComponent(cc.RigidBody),this.mWheel1Body=this.wheel1.getComponent(cc.RigidBody),this.mWheel2Body=this.wheel2.getComponent(cc.RigidBody),this.mClaw1Body=this.claw1.getComponent(cc.RigidBody),this.mClaw2Body=this.claw2.getComponent(cc.RigidBody),this.mClaw3Body=this.claw3.getComponent(cc.RigidBody),this.mForntBody=this.fornt.getComponent(cc.RigidBody),this.addListener(),this.openInvincible();var t=Lite.data.getTrying(),e=Lite.data.getCurrentSkinId(),o=Lite.data.getUseEggSkin();this.onSkinChange(t||o||e)},e.prototype.openInvincible=function(){this.mCheckDied=!1,this.unschedule(this.beginCheckDied),this.scheduleOnce(this.beginCheckDied,5)},e.prototype.beginCheckDied=function(){this.mCheckDied=!0},e.prototype.getCarType=function(){return this.carType},e.prototype.onShow=function(t){console.log("player car pos ",t),this.node.active=!1,this.node.zIndex=t.zIndex,this.node.setPosition(t.x,t.y),this.node.active=!0},e.prototype.willHide=function(){this.removeListener()},e.prototype.addListener=function(){moosnow.event.addListener(c.default.ROCKER_MOVE,this,this.onRocker),moosnow.event.addListener(c.default.ROCKER_END,this,this.clearMove),moosnow.event.addListener(c.default.JUMP,this,this.onJump),moosnow.event.addListener(c.default.GAME_STATE_END,this,this.onGameEnd),moosnow.event.addListener(c.default.GAME_TIME_OUT,this,this.onTimeout),moosnow.event.addListener(c.default.GAME_STATE_RESPAWN,this,this.onRespawn),moosnow.event.addListener(c.default.CAR_IN_JIANCI,this,this.onCarInJianci),moosnow.event.addListener(c.default.BOX_STOP,this,this.stopToSucker),moosnow.event.addListener(c.default.SUCKER_START,this,this.onSucker)},e.prototype.removeListener=function(){moosnow.event.removeListener(c.default.ROCKER_MOVE,this),moosnow.event.removeListener(c.default.ROCKER_END,this),moosnow.event.removeListener(c.default.SUCKER_START,this),moosnow.event.removeListener(c.default.SUCKER_END,this),moosnow.event.removeListener(c.default.CAR_IN_JIANCI,this),moosnow.event.removeListener(c.default.BOX_STOP,this),moosnow.event.removeListener(c.default.GAME_STATE_END,this),moosnow.event.removeListener(c.default.GAME_TIME_OUT,this),moosnow.event.removeListener(c.default.GAME_STATE_RESPAWN,this),moosnow.event.removeListener(c.default.JUMP,this)},e.prototype.onSkinChange=function(t){var e=this;Lite.resource.loadBundleRes(u.default.gameform,"texture/skin/"+t+"/1",cc.SpriteFrame,function(t,o){e.claw3.getComponent(cc.Sprite).spriteFrame=o}),Lite.resource.loadBundleRes(u.default.gameform,"texture/skin/"+t+"/2",cc.SpriteFrame,function(t,o){e.claw2.getComponent(cc.Sprite).spriteFrame=o}),Lite.resource.loadBundleRes(u.default.gameform,"texture/skin/"+t+"/3",cc.SpriteFrame,function(t,o){e.claw1.getComponent(cc.Sprite).spriteFrame=o}),Lite.resource.loadBundleRes(u.default.gameform,"texture/skin/"+t+"/4",cc.SpriteFrame,function(t,o){e.mount.getComponent(cc.Sprite).spriteFrame=o}),Lite.resource.loadBundleRes(u.default.gameform,"texture/skin/"+t+"/5",cc.SpriteFrame,function(t,o){e.carFrame.getComponent(cc.Sprite).spriteFrame=o}),Lite.resource.loadBundleRes(u.default.gameform,"texture/skin/"+t+"/6",cc.SpriteFrame,function(t,o){e.wheel1.getComponent(cc.Sprite).spriteFrame=o,e.wheel2.getComponent(cc.Sprite).spriteFrame=o}),this.carType=p.SkinCfg.get(t).carType},e.prototype.onSucker=function(t){var e=this.getComponent(cc.Animation);t?(this.mCanSucker=!0,e.play()):(this.mCanSucker=!1,e.pause(),e.setCurrentTime(0),e.stop())},e.prototype.isSuckerWork=function(){return this.mCanSucker},e.prototype.onCarInJianci=function(t){t?this.schedule(this.inJianciPos,.5):(this.unschedule(this.inJianciPos),this.inJianciPos(!1))},e.prototype.inJianciPos=function(t){if(t){this.inJianciRed=!this.inJianciRed;for(var e=0;e<this.box.children.length;e++)this.box.children[e].color=this.inJianciRed?cc.Color.RED:cc.Color.WHITE}else for(this.inJianciRed=!1,e=0;e<this.box.children.length;e++)this.box.children[e].color=cc.Color.WHITE},e.prototype.onRocker=function(t){t&&(this.carType!=l.PlayerCarType.ACCELERATE&&this.carType!=l.PlayerCarType.ACCELERATE_FIRE&&this.carType!=l.PlayerCarType.RARE||(t=new cc.Vec2(2*t.x,t.y)),this.mClawMoveVec=t,this.mCarMoveVec=t)},e.prototype.clearMove=function(){this.mClawMoveVec=cc.Vec2.ZERO,this.mCarMoveVec=cc.Vec2.ZERO},e.prototype.isFallApart=function(t,e){void 0===e&&(e=30);var o=t.anchor,n=t.connectedBody.node.convertToWorldSpaceAR(t.connectedAnchor),i=t.node.convertToWorldSpaceAR(o);return a.default.getDistance(n,i)>e},e.prototype.checkDied=function(){this.mCheckDied&&(this.mIsDied||(this.mIsDied=this.isFallApart(this.wheel1Joint)||this.isFallApart(this.wheel2Joint)||this.isFallApart(this.claw1Joint)||this.isFallApart(this.claw2Joint)||this.isFallApart(this.claw3Joint)||this.isFallApart(this.forntJoint),this.mIsDied&&moosnow.event.sendEventImmediately(c.default.PLAYER_DIED,null)))},e.prototype.onJump=function(){if(Math.abs(this.mCarBody.linearVelocity.y)<=10){var t=this.mCarBody.linearVelocity.clone();t.y=700,this.mCarBody.linearVelocity=t,this.mWheel1Body.linearVelocity=t,this.mWheel2Body.linearVelocity=t}},e.prototype.onGameEnd=function(t){this.gameEnd||(this.gameEnd=!0,t.isWin?(moosnow.platform.vibrateShort(),this.stopMove()):this.boom())},e.prototype.onTimeout=function(){this.gameEnd||(this.mCheckDied=!1,this.gameEnd=!0,moosnow.platform.vibrateShort(),this.stopMove())},e.prototype.onRespawn=function(){this.gameEnd=!1,this.openInvincible()},e.prototype.boom=function(){},e.prototype.stopMove=function(){var t=new cc.Vec2(0,0);this.mClaw1Body.angularVelocity=0,this.mClaw2Body.angularVelocity=0,this.mClaw3Body.angularVelocity=0,this.mClaw1Body.linearVelocity=t,this.mClaw2Body.linearVelocity=t,this.mClaw3Body.linearVelocity=t},e.prototype.truckMoveOut=function(t,e){this.mBaseLoaderX=t,this.onTruckMoveOutCall=e},e.prototype.disableRigidBody=function(t){this.mCarBody.enabled=!t,this.mWheel1Body.enabled=!t,this.mWheel2Body.enabled=!t,this.mClaw1Body.enabled=!t,this.mClaw2Body.enabled=!t,this.mClaw3Body.enabled=!t,this.mMountBody.enabled=!t},e.prototype.setType=function(t){this.mCarBody.type=t,this.mWheel1Body.type=t,this.mWheel2Body.type=t,this.mClaw1Body.type=t,this.mClaw2Body.type=t,this.mClaw3Body.type=t,this.mMountBody.type=t},e.prototype.initPosition=function(t){this.moveVec(this.carFrame,t),this.moveVec(this.wheel1,t),this.moveVec(this.wheel2,t),this.moveVec(this.claw1,t),this.moveVec(this.claw2,t),this.moveVec(this.claw3,t)},e.prototype.moveVec=function(t,e){t.x+=e.x,t.y+=e.y},e.prototype.clawMove=function(){if(!this.gameEnd&&this.mClawMoveVec&&(this.mClawMoveVec.x!=cc.Vec2.ZERO.x||this.mClawMoveVec.y!=cc.Vec2.ZERO.y)){var t=this.mClaw3Body.linearVelocity.clone();0!=this.mClawMoveVec.x&&(t.x=500*this.mClawMoveVec.x),0!=this.mClawMoveVec.y&&(t.y=500*this.mClawMoveVec.y),this.mForntBody.linearVelocity=t}},e.prototype.carMove=function(){var t=this.box.convertToNodeSpaceAR(this.fornt.convertToWorldSpaceAR(cc.Vec2.ZERO)),e=this.carFrame.position,o=a.default.getDistance(t,e);o>this.maxDis&&(this.maxDis=o);var n=a.default.getAngleTwoVec({x:0,y:1},t.sub(e));Math.abs(n)},e.prototype.stopToSucker=function(){},e.prototype.onFwUpdate=function(){this.onTruckMoveOutCall&&(this.mWheel1Body.angularVelocity=-250,this.wheel1.convertToWorldSpaceAR(cc.Vec2.ZERO).x+this.wheel1.width/2<this.mBaseLoaderX&&(this.stopMove(),this.onTruckMoveOutCall(),this.onTruckMoveOutCall=null)),this.gameEnd||this.mWheel1Body&&(this.clawMove(),this.carMove(),this.checkDied())},r([f(cc.Node)],e.prototype,"box",void 0),r([f(cc.Node)],e.prototype,"carFrame",void 0),r([f(cc.Node)],e.prototype,"mount",void 0),r([f(cc.Node)],e.prototype,"wheel1",void 0),r([f(cc.Node)],e.prototype,"wheel2",void 0),r([f(cc.Node)],e.prototype,"claw1",void 0),r([f(cc.Node)],e.prototype,"claw2",void 0),r([f(cc.Node)],e.prototype,"claw3",void 0),r([f(cc.Node)],e.prototype,"fornt",void 0),r([f(cc.Node)],e.prototype,"magnetEffect",void 0),r([d],e)}(s.default);o.default=m,cc._RF.pop()},{"../../sheets/vo/SkinCfg":"SkinCfg","../enum/PlayerCarType":"PlayerCarType","../framework/config/Bundles":"Bundles","../framework/entity/EntityLogic":"EntityLogic","../framework/utils/FrameworkEvent":"FrameworkEvent","../framework/utils/MathUtils":"MathUtils"}],PrizeBox:[function(t,e,o){"use strict";cc._RF.push(e,"2a2b9LO8xZFppnJTyYibSPi","PrizeBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.PrizeBox=void 0;var r=t("./Sheets"),s=t("../../script/framework/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:s.SheetManager.get("prizeBox",t,e)},e.getAll=function(){var t,o=s.SheetManager.getList("prizeBox"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e}(r.PrizeBoxBase);o.PrizeBox=c,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],ROLE_ATTACK:[function(t,e,o){"use strict";cc._RF.push(e,"602a3i8oiZKobna2vDSEYGy","ROLE_ATTACK"),Object.defineProperty(o,"__esModule",{value:!0}),o.ROLE_ATTACK=void 0,function(t){t[t.ATTACK1=1]="ATTACK1",t[t.ATTACK2=2]="ATTACK2",t[t.ATTACK3=4]="ATTACK3"}(o.ROLE_ATTACK||(o.ROLE_ATTACK={})),cc._RF.pop()},{}],ROLE_MOVE:[function(t,e,o){"use strict";cc._RF.push(e,"1eed8lQKi1F6a1TXMWcq5E0","ROLE_MOVE"),Object.defineProperty(o,"__esModule",{value:!0}),o.ROLE_MOVE=void 0,function(t){t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT"}(o.ROLE_MOVE||(o.ROLE_MOVE={})),cc._RF.pop()},{}],ResourceModule:[function(t,e,o){"use strict";cc._RF.push(e,"625c74Q2O9HApOzeuzwGx1+","ResourceModule");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=t("../utils/Common"),s=t("../utils/FrameworkEvent"),c=t("./AudioModule"),a=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.loadAsset=function(t,e,o){if(cc.resources&&cc.resources.load)-1!=t.indexOf("http")?cc.assetManager.loadRemote(t,function(t,e){o&&o(t,e)}):cc.resources.load(t,e,function(t,e){o&&o(t,e)});else{var n=cc.loader.getRes(t,e);if(n)return void(o&&o(null,n));cc.loader.loadRes(t,e,function(t,e){o&&o(t,e)})}},e.prototype.loadAssetDir=function(t,e,o,n){cc.resources&&cc.resources.loadDir?cc.resources.loadDir(t,e,function(t,e){var n=t/e*100;n=Math.ceil(n),o&&o(n)},function(t,e){n&&n(t,e)}):cc.loader.loadResDir(t,e,function(t,e){var n=t/e*100;n=Math.ceil(n),o&&o(n)},function(t,e){n&&n(t,e)})},e.prototype.preloadScene=function(t,e,o){cc.director.preloadScene(t,e,o)},e.prototype.loadScene=function(t){cc.director.loadScene(t)},e.prototype.loadBundle=function(t,e){cc.assetManager.loadBundle(t,function(t,o){e(t,o)})},e.prototype.loadBundleRes=function(t,e,o,n){this.loadBundle(t,function(t,i){i.load(e,o,function(t,e){n(t,e)})})},e.prototype.loadSubEntity=function(t,e,o,n,i){void 0===n&&(n="entity"),void 0===i&&(i=!0),i&&moosnow.event.sendEventImmediately(s.default.SHOW_TRANSITION,null),this.loadBundle(t,function(t,c){c.loadDir(n,cc.Prefab,function(t,o){var n=t/o*100;r.default.isFunction(e)&&e(n)},function(t,e){if(i&&moosnow.event.sendEventImmediately(s.default.HIDE_TRANSITION,null),t)return console.warn("loadSubEntity err ",t),void o();e.forEach(function(t){Lite.entity.addPrefab(t.name,t,!0)}),r.default.isFunction(o)&&o()})})},e.prototype.loadSubForm=function(t,e,o,n,i){void 0===n&&(n="form"),void 0===i&&(i=!0),i&&moosnow.event.sendEventImmediately(s.default.SHOW_TRANSITION,null),this.loadBundle(t,function(t,c){c.loadDir(n,cc.Prefab,function(t,o){var n=t/o*100;r.default.isFunction(e)&&e(n)},function(t,e){if(i&&moosnow.event.sendEventImmediately(s.default.HIDE_TRANSITION,null),t)return console.warn("loadSubForm err ",t),void o();e.forEach(function(t){Lite.ui.addPrefab(t.name,t,!0)}),r.default.isFunction(o)&&o()})})},e.prototype.loadBundleSound=function(t,e,o,n,i){void 0===n&&(n="sound"),void 0===i&&(i=!0),i&&moosnow.event.sendEventImmediately(s.default.SHOW_TRANSITION,null),this.loadBundle(t,function(t,a){a.loadDir(n,cc.AudioClip,function(t,o){var n=t/o*100;r.default.isFunction(e)&&e(n)},function(t,e){if(i&&moosnow.event.sendEventImmediately(s.default.HIDE_TRANSITION,null),t)return console.warn("loadSound err ",t),void o();e.forEach(function(t){c.default.addAudio(t)}),r.default.isFunction(o)&&o()})})},e}(t("./BaseModule").default);o.default=a,cc._RF.pop()},{"../utils/Common":"Common","../utils/FrameworkEvent":"FrameworkEvent","./AudioModule":"AudioModule","./BaseModule":"BaseModule"}],RockerControl:[function(t,e,o){"use strict";cc._RF.push(e,"75790PTy1lAqIIU6n/0dYeH","RockerControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../config/UIForms"),c=t("../framework/config/Bundles"),a=t("../framework/utils/FrameworkEvent"),u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnPause=null,e.ring=null,e.dot=null,e.id=0,e.touched=!1,e}return i(e,t),e.prototype.start=function(){moosnow.event.addListener(a.default.GAME_STATE_REPLAY,this,this.onReplay),moosnow.event.addListener(a.default.PLAYER_DIED,this,this.onDied)},e.prototype.onEnable=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.btnPause.on(cc.Node.EventType.TOUCH_START,this.onPause,this),this.ring.active=!0,this.dot.active=!0,this.id=null,this.ringPos=this.ring.position},e.prototype.onDisable=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.node.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.btnPause.off(cc.Node.EventType.TOUCH_START,this.onPause,this),this.ring.active=!1,this.dot.active=!1},e.prototype.onReplay=function(){var t=this;this.btnPause.active=!1,this.scheduleOnce(function(){t.btnPause.active=!0},3)},e.prototype.onDied=function(){},e.prototype.onPause=function(){Lite.ui.pushUIForm(s.default.PauseForm,null,null,c.default.gameform),moosnow.event.sendEventImmediately(a.default.GAME_STATE_PAUSE,null)},e.prototype.onTouchStart=function(t){if(!Lite.myGame.gamePause){var e=t.getID();null===this.id&&(this.id=e),e==this.id&&(this.touched=!0,t.getLocation(),moosnow.event.sendEventImmediately(a.default.ROCKER_MOVE,null),this.touchPos=this.dot.position=cc.Vec2.ZERO)}},e.prototype.onTouchMove=function(t){if(!Lite.myGame.gamePause&&t.getID()==this.id){this.touched=!0;var e=t.getLocation(),o=this.ring.convertToNodeSpaceAR(e),n=o.sub(this.touchPos),i=n.mag();if(0!=i){var r=n.normalize();moosnow.event.sendEventImmediately(a.default.ROCKER_MOVE,r);var s=this.ring.width/2;this.dot.position=s>i?o:r.mul(s).add(this.touchPos)}}},e.prototype.onTouchEnd=function(t){Lite.myGame.gamePause||t.getID()==this.id&&(this.touched=!1,moosnow.event.sendEventImmediately(a.default.ROCKER_END,null),this.dot.position=this.touchPos,this.id=null)},r([p(cc.Node)],e.prototype,"btnPause",void 0),r([p(cc.Node)],e.prototype,"ring",void 0),r([p(cc.Node)],e.prototype,"dot",void 0),r([l],e)}(cc.Component);o.default=h,cc._RF.pop()},{"../config/UIForms":"UIForms","../framework/config/Bundles":"Bundles","../framework/utils/FrameworkEvent":"FrameworkEvent"}],RoleControl:[function(t,e,o){"use strict";cc._RF.push(e,"20ab0OIcbZIIL85O/5cH36a","RoleControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/utils/FrameworkEvent"),c=t("../enum/ROLE_MOVE"),a=t("../enum/ROLE_ATTACK"),u=t("./BaseControl"),l=t("../../sheets/vo/SkinCfg"),p=t("../enum/BUFFER"),h=t("../config/Entitys"),d=cc._decorator,f=d.ccclass,m=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logo=null,e.mMaxHp=0,e.mCurHp=0,e.maxJumps=2,e.jumps=2,e.acceleration=1500,e.jumpSpeed=200,e.drag=1200,e.mBeUp=!1,e.mUp=!1,e.mMoveFlags=0,e.maxSpeed=500,e.quickSpeed=1.5,e.slowSpeed=.3,e.scaleMax=1.5,e.scaleMin=.3,e.mBuffer=p.BUFFER.NONE,e.mBufferQuene=[],e}return i(e,t),Object.defineProperty(e.prototype,"currentHp",{get:function(){return this.mCurHp},set:function(t){console.log("\u66f4\u65b0\u8840\u91cf",t),this.mCurHp!=t&&(t<this.mCurHp&&this.fadeAnim(),t>this.mMaxHp&&(t=this.mMaxHp),moosnow.event.sendEventImmediately(s.default.ROLE_HP_CHANGED,{hp:t,max:this.mMaxHp})),this.mCurHp!=t&&t<=0&&(this.logo.stopAllActions(),moosnow.platform.vibrateShort(),this.stopMove(),moosnow.event.sendEventImmediately(s.default.GAME_STATE_OVER,{isWin:!1})),this.mCurHp=t},enumerable:!1,configurable:!0}),e.prototype.start=function(){Lite.myGame.role=this,this.mMoveFlags=0,this.mUp=!1,this.mBody=this.node.getComponent(cc.RigidBody)},e.prototype.fadeAnim=function(){this.logo.stopAllActions(),this.logo.runAction(cc.sequence(cc.fadeTo(.1,100),cc.fadeTo(.1,255)).repeat(10))},e.prototype.addListener=function(){moosnow.event.addListener(s.default.ROCKER_MOVE,this,this.onRoleMove),moosnow.event.addListener(s.default.ROCKER_JUMP,this,this.onJump),moosnow.event.addListener(s.default.ROCKER_ATTACK,this,this.onAttack)},e.prototype.removeListener=function(){moosnow.event.removeListener(s.default.ROCKER_MOVE,this),moosnow.event.removeListener(s.default.ROCKER_JUMP,this),moosnow.event.removeListener(s.default.ROCKER_ATTACK,this)},e.prototype.onRoleMove=function(){},e.prototype.reset=function(){this.mBody&&(this.mBody.enabled=!0,this.mBody.type=cc.RigidBodyType.Dynamic)},e.prototype.stopMove=function(){this.mMoveFlags&=~c.ROLE_MOVE.LEFT,this.mMoveFlags&=~c.ROLE_MOVE.RIGHT,this.mBody.linearVelocity=cc.v2(0,0)},e.prototype.onJump=function(){this.hasBuffer(p.BUFFER.HITRECOVER)||this.jumps>0&&this.jumps<=this.maxJumps&&(this.mUp=!0)},e.prototype.beJump=function(){this.mBeUp=!0},e.prototype.onAttack=function(t){t.attack==a.ROLE_ATTACK.ATTACK1?(!this.attack1Time||Date.now()-this.attack1Time>1e3*this.mCurrentSkinCfg.attack1CD)&&(this.attack1Time=Date.now()):t.attack==a.ROLE_ATTACK.ATTACK2?(!this.attack2Time||Date.now()-this.attack2Time>1e3*this.mCurrentSkinCfg.attack2CD)&&(this.attack2Time=Date.now(),this.createFire2(this.mCurrentSkinCfg.attack2Num)):t.attack==a.ROLE_ATTACK.ATTACK3&&(!this.attack3Time||Date.now()-this.attack3Time>1e3*this.mCurrentSkinCfg.attack3CD)&&(this.attack3Time=Date.now(),this.createFire3(this.mCurrentSkinCfg.attack2Num))},e.prototype.createFire2=function(t){var e={x:this.node.x,y:this.node.y,attackNum:t,xSpeed:this.node.scaleX};Lite.entity.showEntity(h.default.roleBullet,this.node.parent,e)},e.prototype.createFire3=function(t){var e={x:this.node.x,y:this.node.y,attackNum:t,xSpeed:this.node.scaleX,ySpeed:10};Lite.entity.showEntity(h.default.roleBullet,this.node.parent,e)},e.prototype.beAttacked=function(t){console.log("\u89d2\u8272\u88ab\u653b\u51fb",t),this.hasBuffer(p.BUFFER.UNRIVALLED)||(this.currentHp-=t)},e.prototype.beKilled=function(){this.hasBuffer(p.BUFFER.UNRIVALLED)||(console.log("\u89d2\u8272\u88ab\u51fb\u6740"),0!=this.currentHp&&(this.currentHp=0),this.stopMove(),this.removeListener(),this.mBody.enabled=!1,this.node.active=!1,this.mBody.type=cc.RigidBodyType.Static,this.node.active=!0)},e.prototype.addBuffer=function(t,e,o,n){this.hasBuffer(p.BUFFER.UNRIVALLED)&&-1!=[p.BUFFER.REDUCEHEALTH,p.BUFFER.SLOWDOWN,p.BUFFER.HITRECOVER].indexOf(t)||(t==p.BUFFER.UNRIVALLED&&(this.removeBuffer(p.BUFFER.REDUCEHEALTH),this.removeBuffer(p.BUFFER.SLOWDOWN),this.removeBuffer(p.BUFFER.HITRECOVER)),t==p.BUFFER.ZOOMOUT&&this.removeBuffer(p.BUFFER.ZOOMIN),t==p.BUFFER.ZOOMIN&&this.removeBuffer(p.BUFFER.ZOOMOUT),this.mBuffer|=t,this.mBufferQuene.push({buffer:t,time:0,num:n,maxTime:e,maxNum:n,interval:o}))},e.prototype.removeBuffer=function(t){this.hasBuffer(t)&&(this.mBuffer^=t)},e.prototype.hasBuffer=function(t){return(this.mBuffer&t)==t},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.initRole(),this.initRoleAnim(e),this.addListener(),this.addBuffer(p.BUFFER.UNRIVALLED,3,0,0),this.fadeAnim(),this.reset()},e.prototype.onShow=function(){this.node.zIndex=cc.macro.MAX_ZINDEX},e.prototype.willHide=function(){this.removeListener()},e.prototype.initRoleAnim=function(){},e.prototype.initRole=function(){var t=l.SkinCfg.get(Lite.data.getCurrentSkinId());this.acceleration=t.acceleration,this.maxJumps=t.maxJumps,this.jumps=t.maxJumps,this.jumpSpeed=t.jumpSpeed,this.mMaxHp=t.maxHp,this.currentHp=t.maxHp,this.maxSpeed=t.maxSpeed,this.mCurrentSkinCfg=t,this.node.scaleX=1},e.prototype.applyMove=function(t){if(this.mBody){var e=this.mBody.linearVelocity.clone();if(this.hasBuffer(p.BUFFER.HITRECOVER))this.stopMove();else{if(this.mMoveFlags===c.ROLE_MOVE.LEFT)this.node.scaleX>0&&(this.node.scaleX*=-1),e.x-=this.acceleration*t,e.x<-this.maxSpeed&&(e.x=-this.maxSpeed);else if(this.mMoveFlags===c.ROLE_MOVE.RIGHT)this.node.scaleX<0&&(this.node.scaleX*=-1),e.x+=this.acceleration*t,e.x>this.maxSpeed&&(e.x=this.maxSpeed);else{if(0!=e.x){var o=this.drag*t;Math.abs(e.x)<=o?e.x=0:e.x-=e.x>0?o:-o}e.x=0}Math.abs(e.y)<1&&this.jumps<=0&&(this.jumps=this.maxJumps),(this.jumps>0&&this.mUp||this.mBeUp)&&(e.y=this.jumpSpeed,this.mBeUp?this.mBeUp=!1:this.jumps--),this.mUp=!1,this.mBody.linearVelocity=e}}},e.prototype.addHP=function(t){this.currentHp+=t},e.prototype.applyBuffer=function(t){for(var e=0;e<this.mBufferQuene.length;e++){this.mBufferQuene[e].time+=t;var o=this.mBufferQuene[e];o.buffer==p.BUFFER.HEAL?(this.addHP(o.maxNum),this.mBufferQuene.splice(e,1),e--):o.buffer==p.BUFFER.REDUCEHEALTH?(this.addHP(-o.maxNum),this.mBufferQuene.splice(e,1),e--):this.mBufferQuene[e].time>=this.mBufferQuene[e].maxTime&&(this.removeBuffer(this.mBufferQuene[e].buffer),this.mBufferQuene.splice(e,1),e--)}},e.prototype.onBeginContact=function(t,e,o){console.log("\u89d2\u8272\u78b0\u5230\u4e86",o.node.group)},e.prototype.applySpeed=function(){this.hasBuffer(p.BUFFER.QUICKEN)?(this.maxSpeed=this.mCurrentSkinCfg.maxSpeed*this.quickSpeed,this.mBody.linearVelocity.clone().x=this.maxSpeed,console.log("RoleControl -> applySpeed ->QUICKEN maxSpeed",this.maxSpeed)):this.hasBuffer(p.BUFFER.SLOWDOWN)?(this.maxSpeed=this.mCurrentSkinCfg.maxSpeed*this.slowSpeed,this.mBody.linearVelocity.clone().x=this.maxSpeed,console.log("RoleControl -> applySpeed ->SLOWDOWN maxSpeed",this.maxSpeed)):this.maxSpeed=this.mCurrentSkinCfg.maxSpeed},e.prototype.applyScale=function(){var t=this.node.scale/Math.abs(this.node.scale);this.hasBuffer(p.BUFFER.ZOOMIN)?this.node.scaleX<this.scaleMax?(this.node.scaleX+=t/60,this.node.scaleY+=1/60):(this.node.scaleX=this.scaleMax*t,this.node.scaleY=this.scaleMax):this.hasBuffer(p.BUFFER.ZOOMOUT)?this.node.scaleX>this.scaleMin?(this.node.scaleX-=t/60,this.node.scaleY-=1/60):(this.node.scaleX=this.scaleMin*t,this.node.scaleY=this.scaleMin):(this.node.scaleX=t,this.node.scaleY=1)},e.prototype.checkTrap=function(){},e.prototype.onFwUpdate=function(t){this.applyMove(t),this.applyBuffer(t),this.applyScale(t),this.applySpeed(t)},r([m({type:cc.Node,override:!0})],e.prototype,"logo",void 0),r([f],e)}(u.default);o.default=y,cc._RF.pop()},{"../../sheets/vo/SkinCfg":"SkinCfg","../config/Entitys":"Entitys","../enum/BUFFER":"BUFFER","../enum/ROLE_ATTACK":"ROLE_ATTACK","../enum/ROLE_MOVE":"ROLE_MOVE","../framework/utils/FrameworkEvent":"FrameworkEvent","./BaseControl":"BaseControl"}],Rope:[function(t,e,o){"use strict";cc._RF.push(e,"a097b2tiAFNcbV4SWrTZAzj","Rope");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.init=function(t,e,o,n){this._ptSelf=cc.v2(t,e),this._length=o,this._angle=n,this.calcTarget()},e.prototype.getTargetPoint=function(){return this._ptTarget},e.prototype.setSelfPoint=function(t){this._ptSelf=t,this.calcTarget()},e.prototype.getSelfPoint=function(){return this._ptSelf},e.prototype.calcSelf=function(t){var e=t.sub(this._ptSelf).normalizeSelf();this._angle=Math.atan2(e.y,e.x),e=e.mul(-1*this._length),this._ptSelf=t.add(e),this.node.position=this._ptSelf},e.prototype.calcTarget=function(){var t=this._length*Math.cos(this._angle),e=this._length*Math.sin(this._angle);this._ptTarget=cc.v2(this._ptSelf.x+t,this._ptSelf.y+e)},r([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],ScollType:[function(t,e,o){"use strict";cc._RF.push(e,"55f10VXz3BHiopU/Z4ytN/F","ScollType"),Object.defineProperty(o,"__esModule",{value:!0}),o.ScollType=void 0,function(t){t[t.LEFT_OR_RIGHT=0]="LEFT_OR_RIGHT",t[t.TOP_OR_BOTTOM=1]="TOP_OR_BOTTOM"}(o.ScollType||(o.ScollType={})),cc._RF.pop()},{}],SheetManager:[function(t,e,o){"use strict";cc._RF.push(e,"75c8dJgBUhLAq8lAxh3UiqE","SheetManager"),Object.defineProperty(o,"__esModule",{value:!0}),o.SheetManager=void 0;var n=function(){function t(){}return t.loadDB=function(t,e){var o=this;-1==t.indexOf("http")?cc.loader.loadRes(t,function(t,n){t&&console.warn("loadDB err ",t),console.log("load db ",n),o.data=n.json,e()}):cc.loader.load(t,function(t,n){t&&console.warn("loadDB err ",t),console.log("load db ",n),o.data=n,e()})},t.get=function(t,e,o){var n=this.data[t][e];if(n){for(var i,r=this.getKeys(this.data[t].keys),s=new o,c=0;c<r.length;c++)i=this.data.dic[n[c]],s[r[c]]="null"!==i?i:null;return o[e]=s,s}},t.getKeys=function(t){for(var e=[],o=0;o<t.length;o++){var n=t[o];e.push(this.data.dic[n])}return e},t.getTableLength=function(t){var e=this.data[t];if(e.length)return e.length;var o=0;for(var n in e)o++;return e.length=o-1,o-1},t.getList=function(t){return this.data[t]},t.getComplexLength=function(t,e){return this.data[t][e].length},t.getComplex=function(t,e,o){for(var n=this.getList(t)[e],i=this.getKeys(this.data[t].keys),r=[],s=0;s<n.length;s++){for(var c,a=new o,u=0;u<i.length;u++)c=this.data.dic[n[s][u]],a[i[u]]="null"!==c?c:null;r.push(a)}return r},t.getAllSheets=function(t,e){var o=this.getList(t),n=[];for(var i in o)"keys"!=i&&n.push(this.get(t,i,e));return n},t}();o.SheetManager=n,cc._RF.pop()},{}],Sheets:[function(t,e,o){"use strict";cc._RF.push(e,"15d36gXNE9MgbwoQwqki+J4","Sheets"),Object.defineProperty(o,"__esModule",{value:!0}),o.ConfigDataBase=o.SignVoBase=o.SkinCfgBase=o.SignBase=o.EasterEggBase=o.PrizeBoxBase=o.LevelCfgBase=void 0;o.LevelCfgBase=function(){};o.PrizeBoxBase=function(){};o.EasterEggBase=function(){};o.SignBase=function(){};o.SkinCfgBase=function(){};o.SignVoBase=function(){};o.ConfigDataBase=function(){},cc._RF.pop()},{}],SignVo:[function(t,e,o){"use strict";cc._RF.push(e,"93cbeahkN5KrI5K5wpxr3Rx","SignVo");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SignVo=void 0;var r=t("./Sheets"),s=t("../../script/framework/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:s.SheetManager.get("SignVo",t,e)},e}(r.SignVoBase);o.SignVo=c,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],Sign:[function(t,e,o){"use strict";cc._RF.push(e,"bf9a2eOQVdAtaPBkJuybhoo","Sign");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.Sign=void 0;var r=t("./Sheets"),s=t("../../script/framework/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:s.SheetManager.get("Sign",t,e)},e}(r.SignBase);o.Sign=c,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],SiteMgr:[function(t,e,o){"use strict";cc._RF.push(e,"2c064vrIgtE8YflEzhpGJsO","SiteMgr");var n,i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(o,"__esModule",{value:!0});var r=t("../config/UIForms"),s=t("./AD_POSITION"),c=t("./BundleMgr"),a=t("./config/Bundles"),u=t("./utils/Common"),l=function(){function t(){}return t.show=function(t,e){if(this.siteShowIdx=0,this.siteCompleted=e,u.default.isEmpty(t))e();else if(t instanceof Array){if(0==t.length)return void e();this.cacheSite=t,this.showNextSite()}else e()},t.loadNextSite=function(t,e,o,n,i){if(void 0===i&&(i=!0),!(e>=t.length)){var r=this.mSiteConfig[t[e]];r?(console.log("\u63d0\u524d\u52a0\u8f7d",r),this.mapping[r.form]?c.default.loadBundleOnce(this.mapping[r.form].bundle,function(t){u.default.isFunction(o)&&o(t)},function(){u.default.isFunction(n)&&n()},void 0,i):u.default.isFunction(n)&&n()):u.default.isFunction(n)&&n()}},t.showNextSite=function(){if(this.cacheSite[this.siteShowIdx]){var t=this.mSiteConfig[this.cacheSite[this.siteShowIdx]];t?(this.loadNextSite(this.cacheSite,this.siteShowIdx+1,function(){},function(){},!1),this.mapping[t.form]?(console.log("\u663e\u793a",t.form,t),u.default.isFunction(this.mapping[t.form].fun)?this.mapping[t.form].fun.apply(this,[t]):u.default.isFunction(this.siteCompleted)&&this.siteCompleted()):u.default.isFunction(this.siteCompleted)&&this.siteCompleted()):u.default.isFunction(this.siteCompleted)&&this.siteCompleted()}else u.default.isFunction(this.siteCompleted)&&this.siteCompleted()},t.showBoxForm=function(t){var e=this;c.default.loadBoxBundle(function(){Lite.ui.pushUIForm(r.default.BoxForm,i(i({},t.params),{callback:function(){e.siteShowIdx++,e.showNextSite()}}),function(){},a.default.boxform)})},t.showAppBox=function(t){var e=this;1==Lite.config.getKey("showAppBox",0)?c.default.loadAppBundle(function(){Lite.ui.pushUIForm(r.default.AppBoxForm,i(i({},t.params),{callback:function(){e.siteShowIdx++,e.showNextSite()}}),function(){},a.default.appbox)}):(this.siteShowIdx++,this.showNextSite())},t.showMistouch=function(t){var e=this,o=Lite.config.getKey("mistouchNum",0),n=Lite.config.getKey("CrazyWudian",0),s=Lite.config.getKey("CrazyStartLevel",0),u=Lite.config.getKey("mistouchInterval",2),l=Lite.data.getMistouchTag();(n>0||o>0)&&Lite.data.getCurrentLevel()>=s&&l%u==0?c.default.loadMistouchBundle(function(){Lite.ui.pushUIForm(r.default.MistouchForm,i(i({},t.params),{callback:function(){e.siteShowIdx++,e.showNextSite()}}),function(){},a.default.mistouch)}):(this.siteShowIdx++,this.showNextSite())},t.showAd=function(t){var e=this;if(moosnow.platform.hidePrestoreBanner(),t.params&s.AD_POSITION.CENTER){console.log("\u914d\u7f6e\u7684\u6e38\u620f\u4e2d\u5fc3......");var o=Lite.config.getKey("videobox"),n=u.default.randomNumBoth(0,100);0!=o&&n<=o&&moosnow.platform.showVideo(function(){})}c.default.loadAdBundle(function(){Lite.ui.hasUIForm(r.default.AdForm)?moosnow.form.showAd(t.params,function(){moosnow.form.showAd(s.AD_POSITION.NONE,function(){}),e.siteShowIdx++,e.showNextSite()}):Lite.ui.pushUIForm(r.default.AdForm,{showAd:moosnow.AD_POSITION.NONE},function(){moosnow.form.showAd(t.params,function(){moosnow.form.showAd(s.AD_POSITION.NONE,function(){}),e.siteShowIdx++,e.showNextSite()},[],[])},a.default.ad)})},t.showTry=function(t){var e=this;c.default.loadTryBundle(function(){var o=r.default.TryForm;t.form==r.default.TryFormQQ&&(o=r.default.TryFormQQ),Lite.ui.pushUIForm(o,{callback:function(){e.siteShowIdx++,e.showNextSite()}},function(){},a.default.tryform)})},t.showNativeAd=function(){var t=this;c.default.loadNativeBundle(function(){Lite.ui.pushUIForm(r.default.NativeForm,{callback:function(){t.siteShowIdx++,t.showNextSite()}},function(){},a.default.nativeform)})},t.showFinish=function(){var t=this;c.default.loadFinishBundle(function(){Lite.ui.pushUIForm(r.default.FinishForm,{callback:function(){t.siteShowIdx++,t.showNextSite()}},function(){},a.default.finishform)})},t.showPortal=function(){var t=this;c.default.loadAdBundle(function(){Lite.ui.pushUIForm(r.default.PortalForm,{callback:function(){t.siteShowIdx++,t.showNextSite()}},function(){},a.default.ad)})},t.mSiteConfig={1:{form:r.default.AdForm,params:s.AD_POSITION.EXPORT|s.AD_POSITION.MASK|s.AD_POSITION.BACK},2:{form:r.default.AdForm,params:s.AD_POSITION.CENTER|s.AD_POSITION.MASK|s.AD_POSITION.BACK},3:{form:r.default.TryForm,params:[]},4:{form:r.default.AdForm,params:s.AD_POSITION.RECOMMEND|s.AD_POSITION.MASK|s.AD_POSITION.BACK},5:{form:r.default.AdForm,params:s.AD_POSITION.HOT|s.AD_POSITION.MASK|s.AD_POSITION.BACK},6:{form:r.default.MistouchForm,params:""},21:{form:r.default.MistouchForm,params:""},22:{form:r.default.MistouchForm,params:{mistouchType:4}},23:{form:r.default.TryFormQQ,params:""},24:{form:r.default.AppBoxForm,params:""},25:{form:r.default.BoxForm,params:""},31:{form:r.default.FinishForm,params:""},32:{form:r.default.PortalForm},33:{form:r.default.NativeForm,params:""},41:{form:r.default.NativeForm,params:""}},t.siteShowIdx=0,t.cacheSite=[],t.siteLoadIdx=0,t.mapping=((n={})[r.default.MistouchForm]={bundle:a.default.mistouch,fun:t.showMistouch},n[r.default.TryForm]={bundle:a.default.tryform,fun:t.showTry},n[r.default.TryFormQQ]={bundle:a.default.tryform,fun:t.showTry},n[r.default.AdForm]={bundle:a.default.ad,fun:t.showAd},n[r.default.NativeForm]={bundle:a.default.nativeform,fun:t.showNativeAd},n[r.default.FinishForm]={bundle:a.default.finishform,fun:t.showFinish},n[r.default.PortalForm]={bundle:a.default.ad,fun:t.showPortal},n[r.default.AppBoxForm]={bundle:a.default.appbox,fun:t.showAppBox},n[r.default.BoxForm]={bundle:a.default.boxform,fun:t.showBoxForm},n),t}();o.default=l,cc._RF.pop()},{"../config/UIForms":"UIForms","./AD_POSITION":"AD_POSITION","./BundleMgr":"BundleMgr","./config/Bundles":"Bundles","./utils/Common":"Common"}],SkinCfg:[function(t,e,o){"use strict";cc._RF.push(e,"3478fbykHVGHK42V14nxqYF","SkinCfg");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0}),o.SkinCfg=void 0;var r=t("./Sheets"),s=t("../../script/framework/utils/SheetManager"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.get=function(t){return this[t]?this[t]:s.SheetManager.get("SkinCfg",t,e)},e.getAll=function(){var t,o=s.SheetManager.getList("SkinCfg"),n=[];for(var i in o)"keys"!=i&&(t=e.get(i)),t&&(n.push(t),t=null);return n},e.getIdxByID=function(t){var e=this.getAll();for(var o in e)if(e[o].ID==t)return Number(o);return 0},e}(r.SkinCfgBase);o.SkinCfg=c,cc._RF.pop()},{"../../script/framework/utils/SheetManager":"SheetManager","./Sheets":"Sheets"}],SkinItem:[function(t,e,o){"use strict";cc._RF.push(e,"4cc3eqfWm1DF4M7rkK3aNGR","SkinItem");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/utils/FrameworkEvent"),c=t("../../sheets/vo/SkinCfg"),a=t("../framework/utils/Common"),u=t("../framework/entity/EntityLogic"),l=cc._decorator,p=l.ccclass,h=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logo=null,e.locked=null,e.checked=null,e.coinNum=null,e}return i(e,t),e.prototype.start=function(){this.addListener()},e.prototype.addListener=function(){var t=this;this.node.on(cc.Node.EventType.TOUCH_END,function(){Lite.data.setSelectSkin(t.LogicData.ID),Lite.data.getUserSkinById(t.LogicData.ID)&&Lite.data.setCurrentSkinId(t.LogicData.ID),moosnow.event.sendEventImmediately(s.default.SKIN_SELECT,t.LogicData.ID)},this),moosnow.event.addListener(s.default.SKIN_SELECT,this,function(e){t.LogicData.ID!=e?t.checked.active=!1:t.checked.active=!0}),moosnow.event.addListener(s.default.SKIN_CHANGE,this,function(e){t.showLocked(e)})},e.prototype.willShow=function(e){var o=this;t.prototype.willShow.call(this,e);var n=c.SkinCfg.get(this.LogicData.ID),i=Lite.data.getCurrentSkinId();this.checked.active=!1,this.locked.node.active=!0,this.showLocked(i),this.coinNum.string=""+a.default.formatMoney(n.coinNum),cc.resources.load("texture/skin/"+this.LogicData.ID+"/7",cc.SpriteFrame,function(t,e){t||(o.logo.spriteFrame=e)})},e.prototype.showLocked=function(t){var e=c.SkinCfg.get(this.LogicData.ID),o=Lite.data.getUserSkin();if(t==e.ID)this.checked.active=!0,this.locked.node.active=!1;else for(var n in o)n==this.LogicData.ID&&(o[n].videoNum>=e.videoNum||0!=o[n].coinNum)&&(this.locked.node.active=!1)},r([h(cc.Sprite)],e.prototype,"logo",void 0),r([h(cc.Sprite)],e.prototype,"locked",void 0),r([h(cc.Node)],e.prototype,"checked",void 0),r([h(cc.Label)],e.prototype,"coinNum",void 0),r([p],e)}(u.default);o.default=d,cc._RF.pop()},{"../../sheets/vo/SkinCfg":"SkinCfg","../framework/entity/EntityLogic":"EntityLogic","../framework/utils/Common":"Common","../framework/utils/FrameworkEvent":"FrameworkEvent"}],StopPropagation:[function(t,e,o){"use strict";cc._RF.push(e,"0bea5Y6jPxNHY/T+J8TCyv9","StopPropagation");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.start=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.onMaskMouseDown,this)},e.prototype.onMaskMouseDown=function(t){t.stopPropagation()},r([c],e)}(cc.Component));o.default=a,cc._RF.pop()},{}],SuckerControl:[function(t,e,o){"use strict";cc._RF.push(e,"982d22PKTJJQ52tlIiHChyw","SuckerControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./BoxControl"),c=t("../config/PackingMapping"),a=t("../framework/utils/FrameworkEvent"),u=t("../entity/PlayerCar"),l=t("../enum/PlayerCarType"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.claw4=null,e.fornt=null,e.mCanSucker=!1,e.mStopMove=!1,e.oldBoxGravityScale=1,e}return i(e,t),Object.defineProperty(e.prototype,"stopMove",{get:function(){return this.mStopMove},set:function(t){this.mStopMove=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"CanSucker",{get:function(){return this.mCanSucker},set:function(t){this.mCanSucker=t,this.mCanSucker?this.stopMove=!1:this.removeJoint()},enumerable:!1,configurable:!0}),e.prototype.start=function(){},e.prototype.onEnable=function(){this.mSuckerBody=this.node.getComponent(cc.RigidBody),this.myPlayerCar=this.claw4.parent.parent.getComponent(u.default),moosnow.event.addListener(a.default.SUCKER_START,this,this.onWeld),this.myPlayerCar&&(this.carType=this.myPlayerCar.getCarType()),this.carType==l.PlayerCarType.ACCURATE||this.carType==l.PlayerCarType.RARE?this.oldBoxGravityScale=10:this.oldBoxGravityScale=1},e.prototype.removeJoint=function(){for(var t in c.default)Lite.entity.getAllEntity(c.default[t]).forEach(function(t){t.node.getComponents(cc.RopeJoint).forEach(function(t){t.destroy()})});this.mBoxCtl&&this.mBoxCtl.BoxBody&&(this.mBoxCtl.BoxBody.gravityScale=this.oldBoxGravityScale,this.mBoxCtl.setSuckerEnable(!1))},e.prototype.onWeld=function(t){this.CanSucker=t},e.prototype.onBeginContact=function(t,e,o){if(this.CanSucker){var n=t.getWorldManifold().points;if(0!=n.length){var i=n[0],r=(e.node.convertToNodeSpaceAR(i),o.node.convertToNodeSpaceAR(i)),s=o.node.getComponents(cc.RopeJoint),c=null;s.forEach(function(t){t.connectedBody==e.body&&(c=t)}),c||((c=o.node.addComponent(cc.RopeJoint)).connectedBody=e.body),c.connectedAnchor=new cc.Vec2(0,5),c.anchor=r,c.maxLength=1,this.mOwnerRopeJoint=c}}},e.prototype.onEndContact=function(){},e.prototype.moveToSucker=function(){var t=this.fornt.convertToWorldSpaceAR(cc.Vec2.ZERO),e=this.claw4.convertToWorldSpaceAR(cc.Vec2.ZERO),o=this.node.convertToWorldSpaceAR(cc.Vec2.ZERO),n=this.carType==l.PlayerCarType.RARE?1e3:100,i=t.sub(e).normalize().mul(n),r=cc.director.getPhysicsManager().rayCast(o,o.add(i),cc.RayCastType.Closest);if(r.length>0){var c=r[0].collider;if(this.mBoxCtl=c.node.getComponent(s.default),!this.mBoxCtl)return;if(this.mBoxCtl.setSuckerEnable(!0),c.node.getComponents(cc.RopeJoint).length<2){var a=this.mBoxCtl.node.convertToWorldSpaceAR(cc.Vec2.ZERO),u=t.sub(a);u.normalizeSelf().mulSelf(50),c.body.linearVelocity=u}else this.stopMove=!0,c.body.gravityScale=0}},e.prototype.update=function(){this.CanSucker&&!this.stopMove&&this.moveToSucker()},r([d(cc.Node)],e.prototype,"claw4",void 0),r([d(cc.Node)],e.prototype,"fornt",void 0),r([h],e)}(cc.Component);o.default=f,cc._RF.pop()},{"../config/PackingMapping":"PackingMapping","../entity/PlayerCar":"PlayerCar","../enum/PlayerCarType":"PlayerCarType","../framework/utils/FrameworkEvent":"FrameworkEvent","./BoxControl":"BoxControl"}],SwitchControl:[function(t,e,o){"use strict";cc._RF.push(e,"1274brLdIZLuruVOQunDgL3","SwitchControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/utils/FrameworkEvent"),c=cc._decorator,a=c.ccclass,u=c.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.switchNode=null,e.once=!1,e.keep=!1,e.opened=!1,e.mTriggerNum=0,e.mPrevColliderId="",e}return i(e,t),e.prototype.start=function(){this.mPos=this.switchNode.position.clone()},e.prototype.triggerDoorMove=function(){this.opened=!this.opened,this.switchNode.stopAllActions(),this.opened?this.switchNode.runAction(cc.moveTo(.3,new cc.Vec2(this.mPos.x,this.mPos.y-10))):this.switchNode.runAction(cc.moveTo(.3,new cc.Vec2(this.mPos.x,this.mPos.y))),moosnow.event.sendEventImmediately(s.default.DOOR_MOVE,{uuid:this.node.uuid,opened:this.opened})},e.prototype.onBeginContact=function(t,e,o){this.mPrevColliderId!=o.uuid&&(this.mPrevColliderId=o.uuid,this.once?0==this.mTriggerNum&&(this.mTriggerNum++,this.triggerDoorMove()):this.triggerDoorMove())},e.prototype.onEndContact=function(){this.mEndTime=Date.now(),this.keep&&(this.mPrevColliderId=null,this.triggerDoorMove())},r([u(cc.Node)],e.prototype,"switchNode",void 0),r([u({displayName:"\u53ea\u89e6\u53d1\u4e00\u6b21"})],e.prototype,"once",void 0),r([u({displayName:"\u9700\u8981\u4fdd\u6301"})],e.prototype,"keep",void 0),r([u({displayName:"\u6253\u5f00\u5173\u95ed"})],e.prototype,"opened",void 0),r([a],e)}(cc.Component);o.default=l,cc._RF.pop()},{"../framework/utils/FrameworkEvent":"FrameworkEvent"}],TargetBoxControl:[function(t,e,o){"use strict";cc._RF.push(e,"4b9e0V5Nn1NOpfCAXIVpmhu","TargetBoxControl");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../enum/BoxType"),c=t("../framework/entity/EntityLogic"),a=cc._decorator,u=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.boxType=s.BoxType.BOX,e}return i(e,t),e.prototype.start=function(){},r([l({type:cc.Enum(s.BoxType),serializable:!0,displayName:"\u76d2\u5b50\u7c7b\u578b"})],e.prototype,"boxType",void 0),r([u],e)}(c.default);o.default=p,cc._RF.pop()},{"../enum/BoxType":"BoxType","../framework/entity/EntityLogic":"EntityLogic"}],TargetBox:[function(t,e,o){"use strict";cc._RF.push(e,"345a2Om2otDIrvIiSgrPZpv","TargetBox");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return i(e,t),e.prototype.start=function(){},e.prototype.update=function(){},r([a(cc.Label)],e.prototype,"label",void 0),r([a],e.prototype,"text",void 0),r([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],ToastForm:[function(t,e,o){"use strict";cc._RF.push(e,"4ae66kORoZKrL8ETytD9nMr","ToastForm");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../framework/ui/UIForm"),c=cc._decorator,a=c.ccclass,u=c.property,l=function(t){function e(){var e=t.call(this)||this;return e.msgText=null,e}return i(e,t),e.prototype.start=function(){t.prototype.start.call(this)},e.prototype.show=function(t){this.node.zIndex=9999,this.msgText.getComponent(cc.Label).string=t,this.node.active=!0,this.node.runAction(cc.sequence(cc.scaleTo(.1,1.2),cc.scaleTo(.1,1))),this.scheduleOnce(this.hide,1)},e.prototype.hide=function(){this.node.active=!1},r([u(cc.Node)],e.prototype,"msgText",void 0),r([a],e)}(s.default);o.default=l,cc._RF.pop()},{"../../framework/ui/UIForm":"UIForm"}],TouchManager:[function(t,e,o){"use strict";cc._RF.push(e,"ab5eeq9eshHcY+EXJeklBPK","TouchManager");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/utils/FrameworkEvent"),c=cc._decorator,a=c.ccclass,u=(c.property,function(t){function e(){var e=t.call(this)||this;return e.mListen=["HomeForm"],e}return i(e,t),e.prototype.start=function(){this.addListener()},e.prototype.addListener=function(){this.node.on(cc.Node.EventType.TOUCH_START,this.mouseDown,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.mouseMove,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.mouseUp,this),this.node.on(cc.Node.EventType.TOUCH_END,this.mouseUp,this)},e.prototype.mouseDown=function(t){console.log("mouseDown ",t.getTouches()[0]),moosnow.event.sendEventImmediately(s.default.TOUCH_DOWN,t)},e.prototype.mouseMove=function(t){console.log("move e.target.name",t.target.name),moosnow.event.sendEventImmediately(s.default.TOUCH_MOVE,t)},e.prototype.mouseUp=function(t){moosnow.event.sendEventImmediately(s.default.TOUCH_UP,t)},e.prototype.removeListener=function(){this.node.off(cc.Node.EventType.TOUCH_START,this.mouseDown,this),this.node.off(cc.Node.EventType.TOUCH_MOVE,this.mouseMove,this),this.node.off(cc.Node.EventType.TOUCH_CANCEL,this.mouseUp,this)},e.prototype.onDisable=function(){this.removeListener()},r([a],e)}(cc.Component));o.default=u,cc._RF.pop()},{"../framework/utils/FrameworkEvent":"FrameworkEvent"}],TransitionBase:[function(t,e,o){"use strict";cc._RF.push(e,"72c49hshoBHxq+fu6fL83dN","TransitionBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../utils/FrameworkEvent"),c=t("./UIForm"),a=cc._decorator,u=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bar=null,e.rate=5,e.currentRate=0,e.showIndex=0,e.showNum=0,e}return i(e,t),e.prototype.start=function(){var t=this;this.currentRate=0,this.showIndex=0,moosnow.event.addListener(s.default.SHOW_TRANSITION,this,function(){console.log("\u663e\u793a\u52a0\u8f7d\u8fc7\u6e21\u9875"),t.node.active=!0,t.node.zIndex=cc.macro.MAX_ZINDEX,t.showNum++}),moosnow.event.addListener(s.default.HIDE_TRANSITION,this,function(){t.showNum--,t.showNum<=0&&(t.showNum=0,t.node.active=!1)})},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.update=function(){this.currentRate+=1,this.currentRate==this.rate&&(this.showIndex+=1,this.currentRate=0,this.showIndex>this.bar.childrenCount-1&&(this.showIndex=0)),this.bar.children.forEach(function(t){t.active=!1}),this.bar.children[this.showIndex].active=!0},r([l(cc.Node)],e.prototype,"bar",void 0),r([u],e)}(c.default);o.default=p,cc._RF.pop()},{"../utils/FrameworkEvent":"FrameworkEvent","./UIForm":"UIForm"}],TruckLoader:[function(t,e,o){"use strict";cc._RF.push(e,"fccf50TAMdJM4gapqxGpWrV","TruckLoader");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../framework/entity/EntityLogic"),c=t("./PlayerCar"),a=t("../config/PackingMapping"),u=t("../framework/utils/FrameworkEvent"),l=t("../config/UIForms"),p=t("../framework/config/Bundles"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.load=null,e.plank1=null,e.plank2=null,e.wheel1=null,e.wheel2=null,e.mIsRespawn=!1,e}return i(e,t),Object.defineProperty(e.prototype,"IsRespawn",{get:function(){return this.mIsRespawn},set:function(t){this.mIsRespawn=t},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.mLoadBody=this.node.getComponent(cc.RigidBody),this.mPlank1Body=this.plank1.getComponent(cc.RigidBody),this.mPlank2Body=this.plank2.getComponent(cc.RigidBody),this.mWheel1Body=this.wheel1.getComponent(cc.RigidBody),this.mWheel2Body=this.wheel2.getComponent(cc.RigidBody),this.sleepBody(!1)},e.prototype.onGameEnd=function(t){t.timeout?(Lite.audio.stopMusic(),this.moveOut(t)):t.isWin?(Lite.audio.stopMusic(),this.moveOut(t)):moosnow.event.sendEventImmediately(u.default.GAME_STATE_OVER,t)},e.prototype.onTimeout=function(){for(var t,e=this,o=this.load.getBoundingBoxToWorld(),n=cc.director.getPhysicsManager().testAABB(o),i=0;i<n.length;i++){var r=n[i];if(r.node.parent&&r.node.parent.parent&&(t=r.node.parent.parent.getComponent(c.default)))break}t&&t.truckMoveOut?t.truckMoveOut(this.load.convertToWorldSpaceAR(cc.Vec2.ZERO).x-this.load.width/2,function(){Lite.audio.stopMusic(),e.moveOut({isWin:!1,timeout:!0})}):(Lite.audio.stopMusic(),this.moveOut({isWin:!1,timeout:!0}))},e.prototype.onRespawn=function(){this.moveIn()},e.prototype.onEnable=function(){var t=this;this.mStartVec=this.load.convertToWorldSpaceAR(cc.Vec2.ZERO),Lite.resource.loadAsset("texture/scroll",cc.SpriteFrame,function(e,o){t.plank1.getComponent(cc.Sprite).spriteFrame=o,t.plank2.getComponent(cc.Sprite).spriteFrame=o}),moosnow.event.addListener(u.default.GAME_STATE_END,this,this.onGameEnd),moosnow.event.addListener(u.default.GAME_TIME_OUT,this,this.onTimeout),moosnow.event.addListener(u.default.GAME_STATE_RESPAWN,this,this.onRespawn)},e.prototype.onDisable=function(){moosnow.event.removeListener(u.default.GAME_STATE_END,this),moosnow.event.removeListener(u.default.GAME_TIME_OUT,this),moosnow.event.removeListener(u.default.GAME_STATE_RESPAWN,this)},e.prototype.onShow=function(t){this.setType(cc.RigidBodyType.Kinematic);var e=new cc.Vec2(t.x-this.load.x,t.y-this.load.y);this.initPosition(e),this.setType(cc.RigidBodyType.Dynamic)},e.prototype.setType=function(t){this.node.getComponent(cc.RigidBody).type=t,this.node.children.forEach(function(e){var o=e.getComponent(cc.RigidBody);o&&(o.type=t)})},e.prototype.initPosition=function(t){var e=this;this.moveVec(this.node,t),this.node.children.forEach(function(o){e.moveVec(o,t)})},e.prototype.moveVec=function(t,e){t.x+=e.x,t.y+=e.y},e.prototype.moveOut=function(t){var e=this;this.loadMove(150),this.scheduleOnce(function(){e.stopMove(),t.isWin?(moosnow.event.sendEventImmediately(u.default.GOTO_HOME,t),moosnow.event.sendEventImmediately(u.default.GAME_STATE_OVER,t)):(console.log("\u6211\u8981\u663e\u793a\u590d\u6d3b\u5f39\u7a97\u554a\uff01\uff01\uff01\uff01"),Lite.ui.pushUIForm(l.default.RespawnForm,{boxBroken:!1,timeout:t.timeout,respawn:!0},function(){},p.default.gameform))},2.5)},e.prototype.moveIn=function(){this.IsRespawn=!0,this.loadMove(-350,new cc.Vec2(-350,0))},e.prototype.loadMove=function(t,e){e||(e=new cc.Vec2(200,0)),this.mLoadBody.linearVelocity=e,this.mPlank1Body.linearVelocity=e,this.mPlank2Body.linearVelocity=e,this.mWheel1Body.linearVelocity=e,this.mWheel2Body.linearVelocity=e,Lite.audio.playAudio("\u5361\u8f661");var o=this.load.getBoundingBoxToWorld(),n=cc.director.getPhysicsManager().testAABB(o);for(var i in a.default)Lite.entity.getAllEntity(a.default[i]).forEach(function(o){n.forEach(function(n){if(o.node==n.node){o.node.getComponents(cc.RopeJoint).forEach(function(t){t.destroy()});var i=o.node.getComponent(cc.RigidBody);i.type=0==t?cc.RigidBodyType.Dynamic:cc.RigidBodyType.Kinematic,i.linearVelocity=e,i.angularVelocity=0}})});this.mWheel1Body.angularVelocity=t,this.mWheel2Body.angularVelocity=t},e.prototype.sleepBody=function(t){this.mWheel1Body.active=!t,this.mWheel2Body.active=!t},e.prototype.stopMove=function(t){void 0===t&&(t=cc.RigidBodyType.Dynamic);var e=cc.Vec2.ZERO;for(var o in this.mLoadBody.linearVelocity=e,this.mPlank1Body.linearVelocity=e,this.mPlank2Body.linearVelocity=e,this.mWheel1Body.linearVelocity=e,this.mWheel2Body.linearVelocity=e,a.default)Lite.entity.getAllEntity(a.default[o]).forEach(function(e){e.node.getComponents(cc.RopeJoint).forEach(function(t){t.destroy()});var o=e.node.getComponent(cc.RigidBody);o.type=t,o.linearVelocity=cc.Vec2.ZERO,o.angularVelocity=0});this.mWheel1Body.angularVelocity=0,this.mWheel2Body.angularVelocity=0},e.prototype.update=function(){this.IsRespawn&&this.load.convertToWorldSpaceAR(cc.Vec2.ZERO).x<=this.mStartVec.x&&(this.IsRespawn=!1,this.stopMove(),moosnow.event.sendEventImmediately(u.default.GAME_STATE_RESPAWN_COMPLETED,null))},r([f(cc.Node)],e.prototype,"load",void 0),r([f(cc.Node)],e.prototype,"plank1",void 0),r([f(cc.Node)],e.prototype,"plank2",void 0),r([f(cc.Node)],e.prototype,"wheel1",void 0),r([f(cc.Node)],e.prototype,"wheel2",void 0),r([d],e)}(s.default);o.default=m,cc._RF.pop()},{"../config/PackingMapping":"PackingMapping","../config/UIForms":"UIForms","../framework/config/Bundles":"Bundles","../framework/entity/EntityLogic":"EntityLogic","../framework/utils/FrameworkEvent":"FrameworkEvent","./PlayerCar":"PlayerCar"}],UIForms:[function(t,e,o){"use strict";cc._RF.push(e,"d61daDJKXZM+7VmEImeGFsh","UIForms"),Object.defineProperty(o,"__esModule",{value:!0});var n=function(){function t(){}return t.AdForm="adForm",t.LoadingForm="loadingForm",t.HomeForm="homeForm",t.HomeSelectForm="homeSelectForm",t.SkinForm="skinForm",t.GameForm="gameForm",t.CoinForm="coinForm",t.videoForm="videoForm",t.NativeForm="nativeForm",t.ShareForm="shareForm",t.MistouchForm="mistouchForm",t.FollowForm="followForm",t.TotalForm="totalForm",t.EndForm="endForm",t.ToastForm="toastForm",t.PauseForm="pauseForm",t.RespawnForm="respawnForm",t.SetForm="setForm",t.BoxForm="boxForm",t.TryForm="tryForm",t.TryFormQQ="tryFormQQ",t.FinishForm="finishForm",t.PortalForm="portalForm",t.AppBoxForm="appboxForm",t}();o.default=n,cc._RF.pop()},{}],UIForm:[function(t,e,o){"use strict";cc._RF.push(e,"0f40ewXlJlF2pZzMVgqh8Ot","UIForm");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)});Object.defineProperty(o,"__esModule",{value:!0});var r=function(t){function e(){var e=t.call(this)||this;return e.isPopEffect=!1,e.isMask=!1,e.fullView=!0,e.formName="",e.maskName="maskLayer",e.texture=null,e.formName="",e}return i(e,t),e.prototype.start=function(){this.isMask&&this.addMask()},e.prototype.addMask=function(){this.node.getChildByName(this.maskName)?this.node.active=!0:Lite.entity.showEntity("maskLayer",this.node,null).node.zIndex=-1},e.prototype.removeMask=function(){this.node.getChildByName(this.maskName)&&(this.node.active=!1)},e.prototype.onMaskMouseDown=function(t){t.stopPropagation()},e.prototype.hide=function(){},Object.defineProperty(e.prototype,"FormData",{get:function(){return this.mFormData},enumerable:!1,configurable:!0}),e.prototype.willShow=function(t){this.mFormData=t},e.prototype.onShow=function(){},e.prototype.willHide=function(){},e.prototype.onHide=function(){},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){},e.prototype.hideAnim=function(t){t()},e}(cc.Component);o.default=r,cc._RF.pop()},{}],UIModule:[function(t,e,o){"use strict";cc._RF.push(e,"7cdd0bL36NEArchOk+SSNnb","UIModule");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0}),o.UIModule=void 0;var s=cc._decorator,c=s.ccclass,a=(s.property,function(){this.name="",this.node=null,this.UIForm=null,this.zIndex=0,this.name="",this.node=null,this.UIForm=null,this.zIndex=0}),u=t("./BaseModule"),l=t("../ui/UIForm"),p=t("../ui/ToastForm"),h=t("../utils/Common"),d=function(t){function e(){var e=t.call(this)||this;return e.layerIndex=0,e.UIRoot="",e.UIFormStack=[],e.cachedUIForms=[],e.mToastForm=null,e.layerIndex=0,e.UIRoot="prefab/ui/",e.UIFormStack=[],e.cachedUIForms=[],e}return i(e,t),e.prototype.start=function(){Lite.ui=this},e.prototype.showToast=function(t){var e=this;null==this.mToastForm?this._createUINode("toastForm",1e3,function(o,n){cc.Canvas.instance.node.addChild(o),e.mToastForm=o.getComponent(p.default),o.zIndex=n,e.mToastForm.show(t)}):this.mToastForm.show(t)},e.prototype.addPrefab=function(t,e,o){void 0===o&&(o=!0),o?(this[t]&&console.warn("\u66ff\u6362\u540c\u540d\u9884\u5236\u4f53form old\uff1a",this[t],"new \uff1a",e),this[t]=e):this[t]?console.error("\u5df2\u7ecf\u5b58\u5728\u540c\u540d prefab",this[t]):this[t]=e},e.prototype.pushUIForm=function(t,e,o,n){var i=this;void 0===e&&(e={});var r=this._getUINodeFromCacheByName(t);null==r?this._createUIFormModel(t,function(t){i._showUIForm(t,e),o&&o(t,e)},n):(r.zIndex=this.layerIndex++,this.UIFormStack.push(r),this._showUIForm(r,e),o&&o(r,e))},e.prototype.pop=function(t,e){if(void 0===t&&(t=!1),0!=this.UIFormStack.length){var o=this.UIFormStack.pop();t?this._destroyUIForm(o,null):this._hideUIForm(o,null,e)}},e.prototype.getFormModel=function(t){for(var e=0;e<this.UIFormStack.length;e++){var o=this.UIFormStack[e];if(o.name==t)return o}},e.prototype.getUIForm=function(t){var e=this.getFormModel(t);return e?e.UIForm:null},e.prototype.hasUIForm=function(t){return!!this.getFormModel(t)},e.prototype.hideUIForm=function(t,e,o){for(var n=0;n<this.UIFormStack.length;n++){var i=this.UIFormStack[n];i.name==t&&this._hideUIForm(i,e,o)}},e.prototype.hideAllUIForm=function(){for(var t=this.UIFormStack.length-1;t>=0;t--){var e=this.UIFormStack[t];this._hideUIForm(e,null)}},e.prototype.destroyUIForm=function(t,e){for(var o=0;o<this.UIFormStack.length;o++){var n=this.UIFormStack[o];n.name==t&&this._destroyUIForm(n,e)}},e.prototype._formatUIFormName=function(t){return t.replace(/\//g,"_")},e.prototype._createUINode=function(t,e,o,n){if(void 0===n&&(n=""),this[t]instanceof cc.Prefab){var i=cc.instantiate(this[t]);o&&o(i,e)}else if(h.default.isEmpty(n)){var r=this.UIRoot+t;Lite.resource.loadAsset(r,cc.Prefab,function(t,n){var i=cc.instantiate(n);o&&o(i,e)})}else Lite.resource.loadBundleRes(n,t,cc.Prefab,function(t,n){var i=cc.instantiate(n);o&&o(i,e)})},e.prototype._createUIFormModel=function(t,e,o){var n=this;void 0===o&&(o="");var i=this,r=new a;r.name=t;var s=this.layerIndex++;r.zIndex=s,this.UIFormStack.push(r),this._createUINode(t,s,function(o,s){for(var c=0;c<i.UIFormStack.length;c++){var a=i.UIFormStack[c];if(a.zIndex==s&&a.name==o.name){if(null==o)return void n._removeStack(c);var u=o.getComponent(l.default);return u.formName=t,a.UIForm=u,a.node=o,void(e&&e(r))}}},o)},e.prototype._getUINodeFromCacheByName=function(t){for(var e=0;e<this.cachedUIForms.length;e++){var o=this.cachedUIForms[e];if(null!=o.node&&o.name==t)return this.cachedUIForms.splice(e,1),o}return null},e.prototype._showUIForm=function(t,e){if(cc.Canvas.instance.node.addChild(t.node),t.UIForm.willShow(e),t.node.active=!0,e&&!isNaN(e.zIndex)?t.node.zIndex=e.zIndex:t.node.zIndex=t.zIndex,t.UIForm.onShow(e),t.UIForm.isPopEffect){var o=t.node;h.default.popOpenAnim(o)}},e.prototype._hideUIForm=function(t,e,o){if(t.UIForm.willHide(e),t.UIForm.onHide(e),this._removeStack(t),this.cachedUIForms.push(t),t.UIForm.isPopEffect){var n=t.node;h.default.popCloseAnim(n).then(function(){t.node.active=!1,t.node.removeFromParent(!1),o&&o()})}else t.UIForm.hideAnim(function(){t.node.active=!1,t.node.removeFromParent(!1),o&&o()})},e.prototype._destroyUIForm=function(t,e){t.UIForm.willHide(e),t.node.removeFromParent(),t.UIForm.onHide(e),t.node.active=!1,this._removeStack(t),t.node.destroy()},e.prototype._removeStack=function(t){var e=this;isNaN(t)?this.UIFormStack.forEach(function(o,n){o==t&&e.UIFormStack.splice(n,1)}):this.UIFormStack.splice(t,1)},r([c],e)}(u.default);o.UIModule=d,cc._RF.pop()},{"../ui/ToastForm":"ToastForm","../ui/UIForm":"UIForm","../utils/Common":"Common","./BaseModule":"BaseModule"}],Utils3D:[function(t,e,o){"use strict";cc._RF.push(e,"9069ev5EyNPCJEfP+ealmqy","Utils3D"),Object.defineProperty(o,"__esModule",{value:!0}),o.Utils3D=void 0;var n=function(){function t(){}return t.distance3D=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)+Math.pow(t.z-e.z,2))},Object.defineProperty(t,"defalutVec3",{get:function(){var t=this.mDefalutVec3||(this.mDefalutVec3=new Laya.Vector3);return t.toDefault(),t},enumerable:!1,configurable:!0}),t.setToVec3=function(t,e,o,n){return t.x=e,t.y=o,t.z=n,t},t.position=function(t,e,o,n){var i=t.transform.position;i.x=e,i.y=o,i.z=n,t.transform.position=i},t.localPosition=function(t,e,o,n){var i=t.transform.localPosition;i.x=e,i.y=o,i.z=n,t.transform.localPosition=t.transform.localPosition},t.localPositionByVec3=function(t,e){var o=t.transform.localPosition;o.x=e.x,o.y=e.y,o.z=e.z,t.transform.localPosition=t.transform.localPosition},t.rotation=function(t,e,o,n){var i=this.setToVec3(this.defalutVec3,e,o,n),r=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(i.y/r,i.x/r,i.z/r,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.rotationByVec3=function(t,e){var o=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(e.y/o,e.x/o,e.z/o,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.positionX=function(t,e){t.transform.position.x=e,t.transform.position=t.transform.position},t.positionY=function(t,e){t.transform.position.y=e,t.transform.position=t.transform.position},t.positionZ=function(t,e){var o=t.transform.position;return o.z=e,t.transform.position=t.transform.position,o.z},t.localPositionX=function(t,e){t.transform.localPosition.x=e,t.transform.localPosition=t.transform.localPosition},t.localPositionY=function(t,e){t.transform.localPosition.y=e,t.transform.localPosition=t.transform.localPosition},t.localPositionZ=function(t,e){var o=t.transform.localPosition;return o.z=e,t.transform.localPosition=t.transform.localPosition,o.z},t.rotationX=function(t,e){var o=this.setToVec3(this.defalutVec3,e,0,0),n=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(o.y/n,o.x/n,o.z/n,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.rotationY=function(t,e){var o=t.transform||t._transform,n=this.setToVec3(this.defalutVec3,0,e,0),i=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(n.y/i,n.x/i,n.z/i,o.localRotation),o.localRotation=o.localRotation},t.rotationYBy=function(t,e){var o=t.transform||t._transform,n=o.position.y,i=this.setToVec3(this.defalutVec3,0,e+n,0),r=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(i.y/r,i.x/r,i.z/r,o.localRotation),o.localRotation=o.localRotation},t.rotationZ=function(t,e){var o=this.setToVec3(this.defalutVec3,0,0,e),n=180/Math.PI;Laya.Quaternion.createFromYawPitchRoll(o.y/n,o.x/n,o.z/n,t.transform.localRotation),t.transform.localRotation=t.transform.localRotation},t.tweenScale=function(t,e,o,n,i,r,s,c,a){var u=this;return void 0===a&&(a=null),new Promise(function(a){var l=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);u.setToVec3(l,o,n,i),Laya.Tween.to(l,{x:r,y:s,z:c},e,Laya.Ease.bounceOut,Laya.Handler.create(u,function(){a()}),0,!1,!0).update=Laya.Handler.create(u,function(){t.transform?u.scale(t,l.x,l.y,l.z):a()},null,!1)})},t.scale=function(t,e,o,n){var i=t.transform.scale;i.x=e,i.y=o,i.z=n,t.transform.scale=i},t.scaleByVec3=function(t,e){t.transform.scale=e},t.scaleX=function(t,e){t.transform.scale.x=e,t.transform.scale=t.transform.scale},t.scaleY=function(t,e){t.transform.scale.y=e,t.transform.scale=t.transform.scale},t.scaleZ=function(t,e){t.transform.scale.z=e,t.transform.scale=t.transform.scale},t.tweenRotate=function(){},t.rotateEuler=function(t,e,o,n,i,r,s,c){var a=this;return new Promise(function(u){var l=new Laya.Vector3;a.setToVec3(l,o,n,i),Laya.Tween.to(l,{x:r,y:s,z:c},e,null,Laya.Handler.create(a,function(){u()})).update=new Laya.Handler(a,function(){t.transform&&(t.transform.rotationEuler=l)},null,!1)})},t.tweenRotateByLayTween=function(t,e,o,n,i,r,s,c){var a=this,u=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);this.setToVec3(u,o,n,i),Laya.Tween.to(u,{x:r,y:s,z:c},e).update=new Laya.Handler(this,function(){t.transform&&a.rotationByVec3(t,u)},null,!1)},t.tweenLocalRotate=function(){},t.tweenLocalPosition=function(t,e,o,n,i,r,s,c,a){var u=this;void 0===a&&(a=null);var l=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);this.setToVec3(l,o,n,i),Laya.Tween.to(l,{x:r,y:s,z:c},e,a).update=Laya.Handler.create(this,function(){t.transform&&u.localPosition(t,l.x,l.y,l.z)},null,!1)},t.tweenLocalPositionPromise=function(t,e,o,n,i,r,s,c,a){var u=this;return void 0===a&&(a=null),new Promise(function(l){var p=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);u.setToVec3(p,o,n,i),Laya.Tween.to(p,{x:r,y:s,z:c},e,a,Laya.Handler.create(u,function(){l()}),0,!1,!0).update=Laya.Handler.create(u,function(){t.transform?u.localPosition(t,p.x,p.y,p.z):l()},null,!1)})},t.tweenPosition=function(t,e,o,n,i,r,s,c,a,u){var l=this;return void 0===a&&(a=null),void 0===u&&(u=null),new Promise(function(p){var h=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);l.setToVec3(h,o,n,i),Laya.Tween.to(h,{x:r,y:s,z:c},e,a,Laya.Handler.create(l,function(){p()}),0,!1,!0).update=Laya.Handler.create(l,function(){t.transform?(l.position(t,h.x,h.y,h.z),u&&u.runWith(h)):p()},null,!1)})},t.tweenRotationY=function(t,e,o,n,i,r){var s=this;return void 0===i&&(i=null),void 0===r&&(r=null),new Promise(function(r){var c=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);s.setToVec3(c,0,o,0),Laya.Tween.to(c,{x:0,y:n,z:0},e,i,Laya.Handler.create(s,function(){r()})).update=Laya.Handler.create(s,function(){t.transform&&s.rotationY(t,c.y)},null,!1)})},t.tweenRotationX=function(t,e,o,n,i,r){var s=this;return void 0===i&&(i=null),void 0===r&&(r=null),new Promise(function(r){var c=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);s.setToVec3(c,o,0,0),Laya.Tween.to(c,{x:n,y:0,z:0},e,i,Laya.Handler.create(s,function(){r()})).update=Laya.Handler.create(s,function(){t.transform&&s.rotationX(t,c.y)},null,!1)})},t.tweenRotation=function(t,e,o,n,i,r,s,c,a,u){var l=this;void 0===a&&(a=null),void 0===u&&(u=null);var p=Laya.Pool.getItemByClass("Vector3",Laya.Vector3);this.setToVec3(p,o,n,i),Laya.Tween.to(p,{x:r,y:s,z:c},e,a).update=Laya.Handler.create(this,function(){t.transform&&l.rotation(t,p.x,p.y,p.z)},null,!1)},t}();o.Utils3D=n,cc._RF.pop()},{}],WaitingShow:[function(t,e,o){"use strict";cc._RF.push(e,"bf087t9CVFMXo4G+LQyaXD6","WaitingShow");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=cc._decorator,c=s.ccclass,a=s.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.targetNode=null,e.waiting=2,e}return i(e,t),e.prototype.start=function(){},e.prototype.onEnable=function(){var t=this;this.targetNode&&(this.targetNode.active=!1,this.scheduleOnce(function(){t.targetNode.active=!0},this.waiting))},r([a(cc.Node)],e.prototype,"targetNode",void 0),r([a],e.prototype,"waiting",void 0),r([c],e)}(cc.Component);o.default=u,cc._RF.pop()},{}],boxBase:[function(t,e,o){"use strict";cc._RF.push(e,"666c3dWU5tHnoC+3w78b7zW","boxBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../sheets/vo/PrizeBox"),c=t("../../config/UIForms"),a=t("../BundleMgr"),u=t("../utils/FrameworkEvent"),l=t("./UIForm"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checked=null,e.unchecked=null,e.noKey=null,e.hasKey=null,e.boxContainer=null,e.noKeyContainer=null,e.keysContainer=null,e.checkContainer=null,e.btnReceive=null,e.btnClose=null,e.isMask=!0,e.boxList=[],e.maxBoxNum=9,e}return i(e,t),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e);var o=s.PrizeBox.getAll();o.sort(function(){return Math.random()>.5?1:-1}),this.boxList=o,Lite.data.clearPrizeKey(),Lite.data.clearPrizeBox(),Lite.data.addPrizeKey(3),this.checked.node.active=!0,this.btnReceive.active=!0,this.btnClose.active=!1,this.checkContainer.active=!0,this.initBox(),this.addListener()},e.prototype.onShow=function(){},e.prototype.willHide=function(e){t.prototype.willShow.call(this,e),this.removeListener()},e.prototype.addListener=function(){this.unchecked.node.on(cc.Node.EventType.TOUCH_END,this.checkboxChange,this),this.btnReceive.on(cc.Node.EventType.TOUCH_END,this.onVideo,this),this.btnClose.on(cc.Node.EventType.TOUCH_END,this.onCloseBox,this),moosnow.event.addListener(u.default.PRIZE_BOX_UNLOCAK,this,this.onPrizeBoxUnLock),moosnow.event.addListener(u.default.PRIZE_KEY_CHANGE,this,this.onPrizeKeyChanged)},e.prototype.removeListener=function(){this.unchecked.node.off(cc.Node.EventType.TOUCH_END,this.checkboxChange,this),this.btnReceive.off(cc.Node.EventType.TOUCH_END,this.onVideo,this),this.btnClose.off(cc.Node.EventType.TOUCH_END,this.onCloseBox,this),moosnow.event.removeListener(u.default.PRIZE_BOX_UNLOCAK,this),moosnow.event.removeListener(u.default.PRIZE_KEY_CHANGE,this)},e.prototype.checkboxChange=function(){this.getOpenNum()==this.maxBoxNum?(this.checked.node.active=!1,this.checkContainer.active=!1):this.checked.node.active=!this.checked.node.active,this.checked.node.active?(this.btnReceive.active=!0,this.btnClose.active=!1):(this.btnReceive.active=!1,this.btnClose.active=!0)},e.prototype.onPrizeBoxUnLock=function(){},e.prototype.onPrizeKeyChanged=function(){this.noKeyContainer.active=0==Lite.data.getPrizeKey(),this.keysContainer.active=!this.noKeyContainer.active,this.updateKeyNum()},e.prototype.initBox=function(){var t=this;a.default.loadBoxBundle(function(){Lite.entity.hideAllEntity("boxItem"),t.boxContainer.node.removeAllChildren(),t.boxList.forEach(function(e){Lite.entity.showEntity("boxItem",t.boxContainer.node,e)})}),this.updateKeyNum()},e.prototype.onCloseBox=function(){this.FormData&&this.FormData.callback&&this.FormData.callback(),Lite.ui.hideUIForm(c.default.BoxForm,null)},e.prototype.onVideo=function(){moosnow.platform.showVideo(function(t){t==moosnow.VIDEO_STATUS.END?Lite.data.addPrizeKey(3):t==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.getOpenNum=function(){var t=Lite.data.getPrizeBox(),e=0;for(var o in t)e++;return e},e.prototype.updateKeyNum=function(){var t=this,e=Lite.data.getPrizeKey();this.getOpenNum()==this.maxBoxNum?(this.noKeyContainer.active=!0,this.keysContainer.active=!1,this.checkboxChange()):e>0?(this.noKeyContainer.active=!1,this.keysContainer.active=!0,this.keysContainer.children[0].children.forEach(function(o,n){o.getComponent(cc.Sprite).spriteFrame=n>e-1?t.noKey:t.hasKey})):(this.noKeyContainer.active=!0,this.keysContainer.active=!1)},r([d(cc.Sprite)],e.prototype,"checked",void 0),r([d(cc.Sprite)],e.prototype,"unchecked",void 0),r([d(cc.SpriteFrame)],e.prototype,"noKey",void 0),r([d(cc.SpriteFrame)],e.prototype,"hasKey",void 0),r([d(cc.Layout)],e.prototype,"boxContainer",void 0),r([d(cc.Node)],e.prototype,"noKeyContainer",void 0),r([d(cc.Node)],e.prototype,"keysContainer",void 0),r([d(cc.Node)],e.prototype,"checkContainer",void 0),r([d(cc.Node)],e.prototype,"btnReceive",void 0),r([d(cc.Node)],e.prototype,"btnClose",void 0),r([h],e)}(l.default);o.default=f,cc._RF.pop()},{"../../../sheets/vo/PrizeBox":"PrizeBox","../../config/UIForms":"UIForms","../BundleMgr":"BundleMgr","../utils/FrameworkEvent":"FrameworkEvent","./UIForm":"UIForm"}],endBase:[function(t,e,o){"use strict";cc._RF.push(e,"5af93BBOU5FFJKeogtt5W1+","endBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../sheets/vo/LevelCfg"),c=t("../../config/UIForms"),a=t("../../framework/SiteMgr"),u=t("../../framework/ui/UIForm"),l=t("../BundleMgr"),p=t("../config/Bundles"),h=t("../utils/Common"),d=cc._decorator,f=d.ccclass,m=d.property,y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.winContainer=null,e.failContainer=null,e.checkboxContainer=null,e.btnWinNext=null,e.btnWinHome=null,e.txtWinCoin=null,e.btnFailNext=null,e.btnFailHome=null,e.txtFailCoin=null,e.videoMultiple=3,e.isMask=!0,e.hasBack=!1,e}return i(e,t),e.prototype.start=function(){moosnow.http.point("\u9875\u9762\u6253\u5f00\u6b21\u6570",{name:"\u7ed3\u7b97\u9875"})},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.winContainer.active=e&&e.isWin,this.failContainer.active=!this.winContainer.active,this.addListener(),Lite.audio.playAudio(e.isWin?"win":"fail"),this.hasBack=!1;var o=Lite.data.getDailyTask()[4].num;e.isWin&&Lite.data.setDailyTask(4,"num",o+1),moosnow.nodeHelper.changeText(this.txtWinCoin,h.default.formatMoney(Lite.myGame.gameCoin)),moosnow.nodeHelper.changeText(this.txtFailCoin,h.default.formatMoney(Lite.myGame.gameCoin))},e.prototype.onWinNext=function(){var t=this;moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?(Lite.data.addVideoSp(),Lite.data.addCoin(Lite.myGame.gameCoin*t.videoMultiple),Lite.data.setDailyTask(1,"num",1),t.onGameNext()):e==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.onFailNext=function(){var t=this;moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?(Lite.data.addCoin(Lite.myGame.gameCoin*t.videoMultiple),t.on2NextLevel(),t.onGameNext(),Lite.data.setDailyTask(1,"num",1)):e==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.onFailHome=function(){Lite.data.addCoin(Lite.myGame.gameCoin),this.backHome()},e.prototype.addListener=function(){this.btnWinNext.on(cc.Node.EventType.TOUCH_END,this.onWinNext,this),this.btnWinHome.on(cc.Node.EventType.TOUCH_END,this.on2Home,this),this.btnFailNext.on(cc.Node.EventType.TOUCH_END,this.onFailNext,this),this.btnFailHome.on(cc.Node.EventType.TOUCH_END,this.onFailHome,this)},e.prototype.remoteListener=function(){this.btnWinNext.off(cc.Node.EventType.TOUCH_END,this.onWinNext,this),this.btnWinHome.off(cc.Node.EventType.TOUCH_END,this.on2Home,this),this.btnFailNext.off(cc.Node.EventType.TOUCH_END,this.onFailNext,this),this.btnFailHome.off(cc.Node.EventType.TOUCH_END,this.onFailHome,this)},e.prototype.on2NextLevel=function(){Lite.data.setUserLevel(this.FormData.level-1,0),this.FormData.level<s.LevelCfg.getAll().length&&Lite.data.addCurrentLevel()},e.prototype.onGameNext=function(){this.backHome()},e.prototype.on2Home=function(){Lite.data.addCoin(Lite.myGame.gameCoin),this.backHome()},e.prototype.backHome=function(){this.hasBack||(this.hasBack=!0,l.default.loadHomeBundle(function(){a.default.show(Lite.config.site04,function(){Lite.ui.hideUIForm(c.default.GameForm,null),Lite.ui.hideUIForm(c.default.EndForm,null),Lite.ui.pushUIForm(c.default.HomeForm,null,function(){},p.default.homeform)})}))},e.prototype.willHide=function(){this.remoteListener()},r([m(cc.Node)],e.prototype,"winContainer",void 0),r([m(cc.Node)],e.prototype,"failContainer",void 0),r([m(cc.Node)],e.prototype,"checkboxContainer",void 0),r([m(cc.Node)],e.prototype,"btnWinNext",void 0),r([m(cc.Node)],e.prototype,"btnWinHome",void 0),r([m(cc.Node)],e.prototype,"txtWinCoin",void 0),r([m(cc.Node)],e.prototype,"btnFailNext",void 0),r([m(cc.Node)],e.prototype,"btnFailHome",void 0),r([m(cc.Node)],e.prototype,"txtFailCoin",void 0),r([f],e)}(u.default);o.default=y,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../framework/SiteMgr":"SiteMgr","../../framework/ui/UIForm":"UIForm","../BundleMgr":"BundleMgr","../config/Bundles":"Bundles","../utils/Common":"Common"}],enum:[function(t,e,o){"use strict";cc._RF.push(e,"93618XO6K9NkbkE0odERCZf","enum"),Object.defineProperty(o,"__esModule",{value:!0}),o.DELAY_MOVE_TYPE=void 0,function(t){t[t.NONE=0]="NONE",t[t.SKIN=1]="SKIN",t[t.END_GAME=2]="END_GAME"}(o.DELAY_MOVE_TYPE||(o.DELAY_MOVE_TYPE={})),cc._RF.pop()},{}],finishBase:[function(t,e,o){"use strict";cc._RF.push(e,"64e1d/BoStEELaw9XLfahNy","finishBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../config/UIForms"),c=t("../../framework/ui/UIForm"),a=t("../config/Bundles"),u=t("../utils/Common"),l=cc._decorator,p=l.ccclass,h=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnVideo=null,e.btnOpen=null,e.videoMultiple=2,e.isMask=!0,e.hasBack=!1,e}return i(e,t),e.prototype.start=function(){moosnow.http.point("\u7ed3\u675f\u9875",{name:"\u7ed3\u675f\u9875"})},e.prototype.willShow=function(e){var o=this;t.prototype.willShow.call(this,e),this.addListener(),Lite.ui.pushUIForm(s.default.NativeForm,{adType:0,zIndex:this.node.zIndex+1,callback:function(){Lite.data.addCoin(Lite.myGame.gameCoin),o.backHome()}},null,a.default.nativeform)},e.prototype.addListener=function(){this.btnVideo.on(cc.Node.EventType.TOUCH_END,this.onVideo,this)},e.prototype.remoteListener=function(){this.btnVideo.off(cc.Node.EventType.TOUCH_END,this.onVideo,this)},e.prototype.onVideo=function(){var t=this;moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?(Lite.data.addCoin(Lite.myGame.gameCoin*t.videoMultiple),t.backHome()):e==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.onOpen=function(){},e.prototype.onGameNext=function(){this.backHome()},e.prototype.on2Home=function(){Lite.data.addCoin(Lite.myGame.gameCoin),this.backHome()},e.prototype.backHome=function(){Lite.ui.hideUIForm(s.default.FinishForm,null),this.FormData&&u.default.isFunction(this.FormData.callback)&&this.FormData.callback()},e.prototype.willHide=function(){this.remoteListener()},r([h(cc.Node)],e.prototype,"btnVideo",void 0),r([h(cc.Node)],e.prototype,"btnOpen",void 0),r([p],e)}(c.default);o.default=d,cc._RF.pop()},{"../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../config/Bundles":"Bundles","../utils/Common":"Common"}],gameBase:[function(t,e,o){"use strict";cc._RF.push(e,"d266bZl6a1L9ZiopfqloYco","gameBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../framework/ui/UIForm"),c=t("../../framework/utils/FrameworkEvent"),a=t("../../../sheets/vo/LevelCfg"),u=t("../../framework/BundleMgr"),l=cc._decorator,p=l.ccclass,h=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnReplay=null,e.btnPause=null,e.txtLevel=null,e.mapNode=null,e.bgNode=null,e.hpBar=null,e.hpTxt=null,e.mCurrentLevel=0,e}return i(e,t),e.prototype.start=function(){moosnow.http.point("\u9875\u9762\u6253\u5f00\u6b21\u6570",{name:"\u6e38\u620f\u4e2d"})},e.prototype.addListener=function(){moosnow.event.addListener(c.default.GAME_STATE_OVER,this,this.onGameOver),moosnow.event.addListener(c.default.ROLE_HP_CHANGED,this,this.onChangeHP),this.btnPause.on(cc.Node.EventType.TOUCH_END,this.onPause,this),this.btnPause.on(cc.Node.EventType.TOUCH_END,this.onReplay,this)},e.prototype.removeListener=function(){moosnow.event.removeListener(c.default.GAME_STATE_OVER,this),moosnow.event.removeListener(c.default.ROLE_HP_CHANGED,this),this.btnPause.off(cc.Node.EventType.TOUCH_END,this.onPause,this),this.btnPause.off(cc.Node.EventType.TOUCH_END,this.onReplay,this)},e.prototype.onChangeHP=function(t){this.hpBar.progress=t.hp/t.max,this.hpTxt.string=t.hp+"/"+t.max},e.prototype.displayLevel=function(){moosnow.nodeHelper.changeText(this.txtLevel,"\u7b2c"+(Lite.myGame.gameLevel+1)+"\u5173")},e.prototype.onPause=function(){},e.prototype.onReplay=function(){var t=this;moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?moosnow.event.sendEventImmediately(c.default.GAME_STATE_OVER,{isWin:!0,level:t.mCurrentLevel}):e==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})},e.prototype.onGameOver=function(){},e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.addListener();var o=a.LevelCfg.getAll().length;e.level>o?this.mCurrentLevel=o:this.mCurrentLevel=e.level,this.btnPause.active=!0,a.LevelCfg.get(this.mCurrentLevel),moosnow.nodeHelper.changeText(this.txtLevel,""+this.mCurrentLevel)},e.prototype.onShow=function(){this.loadLevel(),this.displayLevel(),this.scheduleOnce(function(){u.default.loadEndBundle(function(){},function(){})},0),moosnow.platform.showAutoBanner(moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM)},e.prototype.loadLevel=function(){},e.prototype.willHide=function(){this.removeListener(),moosnow.platform.clearIntervalBanner()},e.prototype.failGame=function(){moosnow.event.sendEventImmediately(c.default.GAME_STATE_OVER,{isWin:!1})},e.prototype.endGame=function(){moosnow.event.sendEventImmediately(c.default.GAME_STATE_OVER,{isWin:!0})},r([h(cc.Node)],e.prototype,"btnReplay",void 0),r([h(cc.Node)],e.prototype,"btnPause",void 0),r([h(cc.Node)],e.prototype,"txtLevel",void 0),r([h(cc.Node)],e.prototype,"mapNode",void 0),r([h(cc.Node)],e.prototype,"bgNode",void 0),r([h(cc.ProgressBar)],e.prototype,"hpBar",void 0),r([h(cc.Label)],e.prototype,"hpTxt",void 0),r([p],e)}(s.default);o.default=d,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../framework/BundleMgr":"BundleMgr","../../framework/ui/UIForm":"UIForm","../../framework/utils/FrameworkEvent":"FrameworkEvent"}],gameEntry:[function(t,e,o){"use strict";cc._RF.push(e,"84e36k0/UhEprj3VbtKYlWY","gameEntry");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("./AppConfig"),c=t("./ResourceModule"),a=t("../GameDataCenter"),u=t("../utils/MoveUtil"),l=cc._decorator,p=l.ccclass,h=(l.property,function(t){function e(){var e=t.call(this)||this;return e.mConfig=new s.default,e.mResource=new c.default,e.mMoveUtil=new u.default,e}return i(e,t),e.prototype.start=function(){this.mData=new a.default,window.Lite=this,cc.game.addPersistRootNode(this.node)},Object.defineProperty(e.prototype,"myGame",{get:function(){return this.mMyGame},set:function(t){this.mMyGame=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"data",{get:function(){return this.mData},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"config",{get:function(){return this.mConfig},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"audio",{get:function(){return this.mAudio},set:function(t){this.mAudio=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ui",{get:function(){return this.mUi},set:function(t){this.mUi=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"resource",{get:function(){return this.mResource},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"moveUtil",{get:function(){return this.mMoveUtil},enumerable:!1,configurable:!0}),e.prototype.update=function(t){this.moveUtil.onUpdate(t)},r([p],e)}(cc.Component));o.default=h,cc._RF.pop()},{"../GameDataCenter":"GameDataCenter","../utils/MoveUtil":"MoveUtil","./AppConfig":"AppConfig","./ResourceModule":"ResourceModule"}],homeBase:[function(t,e,o){"use strict";cc._RF.push(e,"2047aYRcnhB/qNUJByawJ75","homeBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../framework/utils/FrameworkEvent"),c=t("../../framework/ui/UIForm"),a=t("../../framework/utils/Common"),u=cc._decorator,l=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnStar=null,e.chapterTxt=null,e.coinNum=null,e.btnSoundOn=null,e.btnSoundOff=null,e.btnMore=null,e}return i(e,t),e.prototype.onEnable=function(){},e.prototype.onShow=function(){this.addListener(),this.showAudioButton(),this.loadNextLevel(),this.btnMore.active=!0,this.showCoin(),this.showDiamod()},e.prototype.loadNextLevel=function(){},e.prototype.showAudioButton=function(){},e.prototype.starGame=function(){moosnow.event.sendEventImmediately(s.default.GAME_STATE_START,Lite.data.getCurrentLevel())},e.prototype.showCoin=function(){this.coinNum.string=""+a.default.formatMoney(Lite.data.getCoin())},e.prototype.showDiamod=function(){},e.prototype.addListener=function(){this.btnStar.on(cc.Node.EventType.TOUCH_END,this.starGame,this),this.btnSoundOn.on(cc.Node.EventType.TOUCH_END,this.onSoundChange,this),this.btnMore.on(cc.Node.EventType.TOUCH_END,this.onMore,this),moosnow.event.addListener(s.default.SKIN_CHANGE,this,this.showCoin),moosnow.event.addListener(s.default.COIN_CHANGED,this,this.showCoin),moosnow.event.addListener(s.default.DIAMOND_CHANGED,this,this.showDiamod),moosnow.event.addListener(s.default.FOLLOW_CHANGED,this,this.onFollowChanged)},e.prototype.onFollowChanged=function(){},e.prototype.removeListener=function(){this.btnStar.off(cc.Node.EventType.TOUCH_END,this.starGame,this),this.btnSoundOn.off(cc.Node.EventType.TOUCH_END,this.onSoundChange,this),this.btnMore.off(cc.Node.EventType.TOUCH_END,this.onMore,this),moosnow.event.removeListener(s.default.SKIN_CHANGE,this),moosnow.event.removeListener(s.default.COIN_CHANGED,this),moosnow.event.removeListener(s.default.DIAMOND_CHANGED,this)},e.prototype.onMore=function(){Lite.ui.showToast("\u6682\u672a\u5f00\u542f,\u656c\u8bf7\u671f\u5f85\uff01")},e.prototype.onSoundChange=function(){Lite.audio.isMute=!Lite.audio.isMute,this.btnSoundOff.active=Lite.audio.isMute,Lite.audio.isMute?Lite.audio.stopMusic():Lite.audio.playMainMusic()},e.prototype.willHide=function(e){t.prototype.willHide.call(this,e),this.removeListener()},r([p(cc.Node)],e.prototype,"btnStar",void 0),r([p(cc.Node)],e.prototype,"chapterTxt",void 0),r([p(cc.Label)],e.prototype,"coinNum",void 0),r([p(cc.Node)],e.prototype,"btnSoundOn",void 0),r([p(cc.Node)],e.prototype,"btnSoundOff",void 0),r([p(cc.Node)],e.prototype,"btnMore",void 0),r([l],e)}(c.default);o.default=h,cc._RF.pop()},{"../../framework/ui/UIForm":"UIForm","../../framework/utils/Common":"Common","../../framework/utils/FrameworkEvent":"FrameworkEvent"}],mistouchBase:[function(t,e,o){"use strict";cc._RF.push(e,"e6102X0ZB9IoY1D225xW3Wt","mistouchBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../../script/framework/ui/UIForm"),c=t("../../config/UIForms"),a=t("../../framework/utils/Common"),u=t("../../framework/utils/FrameworkEvent"),l=cc._decorator,p=l.ccclass,h=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.clickProgress=null,e.jumpBg1=null,e.jumpBg2=null,e.btnJump=null,e.logo=null,e.qianzi=null,e.logoSp=null,e.crayBtnSp=null,e.xiangzi=null,e.kaixiangzi=null,e.baoxiangBtn=null,e.cheBtn=null,e.rewardNum=200,e.btnContainer=null,e.winContainer=null,e.btnWinAgain=null,e.btnWinClose=null,e.btnWinClose2=null,e.txtReward=null,e.clickSound=null,e.winSound=null,e.hand=null,e.title=null,e.title1=null,e.title2=null,e.isMask=!0,e.step=1,e.mMaxNum=5.6,e.mCurrentNum=5.6,e.mNavigateIndex=0,e.mBannerShow=!1,e.mShowTime=0,e.preloadIdx=-1,e.mBannerClickType=2,e.isWin=!1,e}return i(e,t),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),this.winContainer.active=!1,this.btnJump.active=!0,this.mBeginPos=this.logo.position.clone(),this.mEndPos=this.mBeginPos.add(new cc.Vec3(0,50)),this.mCurrentNum=this.mMaxNum,this.mNavigateIndex=a.default.randomNumBoth(0,4),this.addListener(),this.schedule(this.subProgress,.1),moosnow.platform.hidePrestoreBanner(),this.mBannerShow=!1,this.mBannerClickType=Lite.config.getKey("mistouchNum",0),this.txtReward.string="\u83b7\u5f97\u91d1\u5e01"+a.default.formatMoney(this.rewardNum),this.step=1,this.title.spriteFrame=this.title1,this.qianzi.active=!1,this.logoSp.spriteFrame=this.xiangzi,this.crayBtnSp.spriteFrame=this.baoxiangBtn},e.prototype.willHide=function(){this.unschedule(this.subProgress),this.unschedule(this.resetProgress),this.removeListener()},e.prototype.onShow=function(){this.reset()},e.prototype.subProgress=function(){this.mCurrentNum<this.mMaxNum&&(this.mCurrentNum+=.1)},e.prototype.addListener=function(){this.isShowAppBox()?(this.logo.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.logo.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.logo.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)):(this.btnJump.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.btnJump.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.btnJump.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)),this.node.on(cc.Node.EventType.TOUCH_START,this.stopPropagation,this),this.btnWinClose2.on(cc.Node.EventType.TOUCH_START,this.onReceiveReward,this),this.btnWinClose.on(cc.Node.EventType.TOUCH_START,this.onReceiveReward,this),this.btnWinAgain.on(cc.Node.EventType.TOUCH_START,this.onReceiveAgain,this)},e.prototype.removeListener=function(){this.logo.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.logo.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.logo.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.btnJump.off(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.btnJump.off(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.btnJump.off(cc.Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this),this.node.off(cc.Node.EventType.TOUCH_END,this.stopPropagation,this),this.btnWinClose2.off(cc.Node.EventType.TOUCH_START),this.btnWinClose.off(cc.Node.EventType.TOUCH_START),this.btnWinAgain.off(cc.Node.EventType.TOUCH_START),moosnow.event.removeListener(moosnow.PLATFORM_EVENT.ON_PLATFORM_HIDE,this),moosnow.event.removeListener(u.default.ON_PLATFORM_SHOW,this),moosnow.event.removeListener(moosnow.PLATFORM_EVENT.NAVIGATE_TO_MINI,this)},e.prototype.onAnimAttackCompleted=function(){this.mAnim&&this.mAnim.play("stand")},e.prototype.onReceiveAgain=function(){this.winContainer.active=!1,Lite.data.addCoin(this.rewardNum),this.reset()},e.prototype.onReceiveReward=function(){Lite.ui.hideUIForm(c.default.MistouchForm,null),Lite.data.addCoin(this.rewardNum),this.FormData&&a.default.isFunction(this.FormData.callback)&&this.FormData.callback()},e.prototype.reset=function(){this.mAttackTime=0,this.isWin=!1,this.winContainer.active=!1,this.mCurrentNum=this.mMaxNum,moosnow.event.removeListener(moosnow.PLATFORM_EVENT.NAVIGATE_TO_MINI,this),this.btnContainer.active=!this.isShowAppBox(),this.hand.active=!1,this.isShowAppBox()?(this.hand.active=!0,this.hand.getComponent(cc.Animation).play(),this.btnContainer.active=!1,this.btnWinClose.active=!1,this.btnWinAgain.active=!0,moosnow.platform.showRandomPreStoreBanner(function(){},moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM)):(this.btnContainer.active=!0,this.btnWinClose.active=!1,this.btnWinAgain.active=!1)},e.prototype.openReward=function(){this.unschedule(this.onHideBanner),this.unschedule(this.resetProgress),this.unschedule(this.subProgress),this.isWin=!0,Lite.audio.playSound(this.winSound),this.btnJump.active=!1,this.winContainer.active=!0},e.prototype.onAnimWinCompleted=function(){this.winContainer.active=!0},e.prototype.isShowAppBox=function(){return this.FormData&&4==this.FormData.mistouchType},e.prototype.openBannerCallback=function(t){t&&(this.step>=2&&(this.unschedule(this.onHideBanner),this.unschedule(this.resetProgress),this.isShowAppBox()?moosnow.platform.hideAppBox():moosnow.platform.hideBanner(),moosnow.form.hideAd(null),this.mBannerShow=!1),this.checkStep())},e.prototype.checkStep=function(){var t=this;this.step>=2?this.openReward():(this.clickProgress.progress=1,this.mBannerShow=!1,this.reset(),this.resetProgress(),this.step++,this.scheduleOnce(function(){t.title.spriteFrame=t.title2,t.qianzi.active=!0,t.crayBtnSp.spriteFrame=t.cheBtn;var e=Lite.data.getTrying(),o=Lite.data.getCurrentSkinId(),n=t;cc.resources.load("texture/skin/"+(e||o)+"/7",cc.SpriteFrame,function(t,e){t||(n.logoSp.spriteFrame=e)})},0))},e.prototype.stopPropagation=function(t){t.stopPropagation()},e.prototype.onTouchEnd=function(){},e.prototype.checkAttack=function(){this.isWin||this.prevTouchTime&&(Date.now(),this.prevTouchTime,this.mAttackTime)},e.prototype.onTouchStart=function(){var t=this;if(!this.isWin){if(this.prevTouchTime=Date.now(),Lite.audio.playSound(this.clickSound,!1),this.hand.active=!1,this.mCurrentNum-=1.5,moosnow.event.removeListener(moosnow.PLATFORM_EVENT.NAVIGATE_TO_MINI,this),console.log("\u770b\u770b\u503c\u3002\u3002\u3002\u3002\u3002",this.mCurrentNum,this.mNavigateIndex,this.mBannerShow),this.mCurrentNum<=this.mNavigateIndex&&!this.mBannerShow){this.mShowTime=Date.now(),this.mBannerShow=!0,console.log("\u72c2\u70b9\u8fdb\u6765\u4e86\u3002\u3002\u3002\u3002\u3002\u3002\u3002\u300211111111111111111111",this.step),moosnow.event.addListener(moosnow.PLATFORM_EVENT.NAVIGATE_TO_MINI,this,function(){t.openBannerCallback(!0),moosnow.event.removeListener(moosnow.PLATFORM_EVENT.NAVIGATE_TO_MINI,t)}),this.mNavigateIndex=a.default.randomNumBoth(3,this.mMaxNum-2),this.isShowAppBox()?moosnow.platform.showAppBox(function(){t.openBannerCallback(!0)}):(console.log("\u8c03\u7528\u4e86\u663e\u793abanner\u51fd\u6570\u3002\u3002\u3002\u3002",this.step),moosnow.platform.showRandomPreStoreBanner(function(e){console.log("banner click callback ",e),t.openBannerCallback(e)},moosnow.BANNER_HORIZONTAL.CENTER,moosnow.BANNER_VERTICAL.BOTTOM));var e=this.step>=2?2:.5;1==this.mBannerClickType?(this.unschedule(this.resetProgress),this.scheduleOnce(this.resetProgress,e)):2==this.mBannerClickType&&(this.unschedule(this.onHideBanner),this.scheduleOnce(this.onHideBanner,e))}this.mCurrentNum<=0&&(moosnow.form.hideAd(null),moosnow.platform.hidePrestoreBanner(),this.mBannerShow=!1,this.checkStep())}},e.prototype.resetProgress=function(){this.mCurrentNum=this.mMaxNum,moosnow.platform.hideBanner(),moosnow.form.hideAd(null),this.mBannerShow=!1},e.prototype.onHideBanner=function(){this.isShowAppBox()?moosnow.platform.hideAppBox():moosnow.platform.hidePrestoreBanner(),moosnow.form.hideAd(null)},e.prototype.update=function(){this.checkAttack(),this.clickProgress.progress=this.mCurrentNum/this.mMaxNum},r([h(cc.ProgressBar)],e.prototype,"clickProgress",void 0),r([h(cc.SpriteFrame)],e.prototype,"jumpBg1",void 0),r([h(cc.SpriteFrame)],e.prototype,"jumpBg2",void 0),r([h(cc.Node)],e.prototype,"btnJump",void 0),r([h(cc.Node)],e.prototype,"logo",void 0),r([h(cc.Node)],e.prototype,"qianzi",void 0),r([h(cc.Sprite)],e.prototype,"logoSp",void 0),r([h(cc.Sprite)],e.prototype,"crayBtnSp",void 0),r([h(cc.SpriteFrame)],e.prototype,"xiangzi",void 0),r([h(cc.SpriteFrame)],e.prototype,"kaixiangzi",void 0),r([h(cc.SpriteFrame)],e.prototype,"baoxiangBtn",void 0),r([h(cc.SpriteFrame)],e.prototype,"cheBtn",void 0),r([h],e.prototype,"rewardNum",void 0),r([h(cc.Node)],e.prototype,"btnContainer",void 0),r([h(cc.Node)],e.prototype,"winContainer",void 0),r([h(cc.Node)],e.prototype,"btnWinAgain",void 0),r([h(cc.Node)],e.prototype,"btnWinClose",void 0),r([h(cc.Node)],e.prototype,"btnWinClose2",void 0),r([h(cc.Label)],e.prototype,"txtReward",void 0),r([h(cc.AudioClip)],e.prototype,"clickSound",void 0),r([h(cc.AudioClip)],e.prototype,"winSound",void 0),r([h(cc.Node)],e.prototype,"hand",void 0),r([h(cc.Sprite)],e.prototype,"title",void 0),r([h(cc.SpriteFrame)],e.prototype,"title1",void 0),r([h(cc.SpriteFrame)],e.prototype,"title2",void 0),r([p],e)}(s.default);o.default=d,cc._RF.pop()},{"../../../script/framework/ui/UIForm":"UIForm","../../config/UIForms":"UIForms","../../framework/utils/Common":"Common","../../framework/utils/FrameworkEvent":"FrameworkEvent"}],pauseBase:[function(t,e,o){"use strict";cc._RF.push(e,"1c140kUR55B3Lo8n6Lk1HtR","pauseBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../../config/UIForms"),c=t("../config/Bundles"),a=t("../utils/FrameworkEvent"),u=t("./UIForm"),l=cc._decorator,p=l.ccclass,h=l.property,d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnContinue=null,e.btnHome=null,e.btnRepaly=null,e.isMask=!0,e}return i(e,t),e.prototype.willShow=function(){this.btnContinue.on(cc.Node.EventType.TOUCH_END,this.onContinue,this),this.btnHome.on(cc.Node.EventType.TOUCH_END,this.onToHome,this),this.btnRepaly.on(cc.Node.EventType.TOUCH_END,this.onReplay,this),moosnow.event.addListener(a.default.GAME_TIME_OUT,this,function(){Lite.ui.hideUIForm(s.default.PauseForm,null)}),moosnow.platform.hideBanner()},e.prototype.willHide=function(){this.btnContinue.off(cc.Node.EventType.TOUCH_END,this.onContinue,this),this.btnHome.off(cc.Node.EventType.TOUCH_END,this.onToHome,this),this.btnRepaly.off(cc.Node.EventType.TOUCH_END,this.onReplay,this),moosnow.event.removeListener(a.default.GAME_TIME_OUT,this)},e.prototype.onShow=function(){moosnow.platform.pauseRecord(),this.node.zIndex=5},e.prototype.closeForm=function(t){Lite.ui.hideUIForm(s.default.PauseForm,null,t)},e.prototype.onContinue=function(){this.closeForm(function(){moosnow.event.sendEventImmediately(a.default.GAME_STATE_RESUME,null),moosnow.platform.resumeRecord()}),moosnow.event.sendEventImmediately(a.default.ADFORM_CHANGE,{})},e.prototype.onToHome=function(){Lite.audio.stopMusic(),this.closeForm(function(){moosnow.event.sendEventImmediately(a.default.GOTO_HOME,{isWin:!1}),moosnow.event.sendEventImmediately(a.default.GAME_STATE_OVER,{isWin:!1})})},e.prototype.onReplay=function(){moosnow.event.sendEventImmediately(a.default.ADFORM_CHANGE,{}),moosnow.event.sendEventImmediately(a.default.GAME_STATE_REPLAY,null),this.closeForm(function(){})},e.prototype.openNative=function(t){1==Lite.config.getKey("mx_click_switch")?Lite.ui.pushUIForm(s.default.NativeForm,{callback:function(){t()}},function(){},c.default.nativeform):t()},r([h(cc.Node)],e.prototype,"btnContinue",void 0),r([h(cc.Node)],e.prototype,"btnHome",void 0),r([h(cc.Node)],e.prototype,"btnRepaly",void 0),r([p],e)}(u.default);o.default=d,cc._RF.pop()},{"../../config/UIForms":"UIForms","../config/Bundles":"Bundles","../utils/FrameworkEvent":"FrameworkEvent","./UIForm":"UIForm"}],"physics-bound":[function(t,e){"use strict";cc._RF.push(e,"e07c26LJixPzpO6rPfCWbb0","physics-bound"),cc.Class({extends:cc.Component,properties:{size:cc.size(0,0),mouseJoint:!0},onLoad:function(){var t=this.size.width||this.node.width,e=this.size.height||this.node.height,o=new cc.Node;o.addComponent(cc.RigidBody).type=cc.RigidBodyType.Static,this.mouseJoint&&(o.addComponent(cc.MouseJoint).mouseRegion=this.node),this._addBound(o,0,e/2,t,20),this._addBound(o,0,-e/2,t,20),this._addBound(o,-t/2,0,20,e),this._addBound(o,t/2,0,20,e),o.parent=this.node},_addBound:function(t,e,o,n,i){var r=t.addComponent(cc.PhysicsBoxCollider);r.offset.x=e,r.offset.y=o,r.size.width=n,r.size.height=i}}),cc._RF.pop()},{}],shopBase:[function(t,e,o){"use strict";cc._RF.push(e,"d5c50RVGQlB0bl2Vk1FUmhj","shopBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../framework/ui/UIForm"),a=t("../../../sheets/vo/SkinCfg"),u=t("../../framework/utils/Common"),l=t("../../framework/utils/FrameworkEvent"),p=t("../../config/UIForms"),h=cc._decorator,d=h.ccclass,f=h.property,m=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.skinView=null,e.skinLayout=null,e.btnBack=null,e.btnVideo=null,e.btnCoin=null,e.isMask=!0,e}return i(e,t),e.prototype.willShow=function(){this.initSkin(),this.addListener(),this.onSkinChange(),moosnow.platform.showBanner(!1)},e.prototype.willHide=function(){this.removeListener(),moosnow.APP_PLATFORM.WX==moosnow.getAppPlatform()?(moosnow.platform.hideBanner(),moosnow.form.showAd(moosnow.AD_POSITION.BANNER|moosnow.AD_POSITION.FLOAT,function(){})):moosnow.platform.showBanner(!1)},e.prototype.initSkin=function(){var t=this;Lite.entity.hideAllEntity("skinItem"),a.SkinCfg.getAll().forEach(function(e){Lite.entity.showEntity("skinItem",t.skinLayout.node,r({},u.default.deepCopy(e)))})},e.prototype.addListener=function(){this.btnBack.on(cc.Node.EventType.TOUCH_END,this.onBack,this),this.btnVideo.on(cc.Node.EventType.TOUCH_END,this.onUnlock,this),this.btnCoin.on(cc.Node.EventType.TOUCH_END,this.onCoinUnlock,this),moosnow.event.addListener(l.default.SKIN_SELECT,this,this.onSkinChange)},e.prototype.removeListener=function(){this.btnBack.off(cc.Node.EventType.TOUCH_END,this.onBack,this),this.btnVideo.off(cc.Node.EventType.TOUCH_END,this.onUnlock,this),this.btnCoin.on(cc.Node.EventType.TOUCH_END,this.onCoinUnlock,this),moosnow.event.removeListener(l.default.SKIN_SELECT,this)},e.prototype.onSkinChange=function(){var t=Lite.data.getSelectSkin(),e=Lite.data.getUserSkinById(t);this.btnCoin.active=!e,this.btnVideo.active=!e},e.prototype.onBack=function(){Lite.ui.hideUIForm(p.default.SkinForm,null)},e.prototype.onCoinUnlock=function(){var t=Lite.data.getSelectSkin(),e=a.SkinCfg.get(t),o=Lite.data.getCoin();e.coinNum<=o?(Lite.data.setCoin(o-e.coinNum),Lite.data.saveCoin(),Lite.data.addUserSkinCoin(t),Lite.data.setCurrentSkinId(t),moosnow.event.sendEventImmediately(l.default.SKIN_CHANGE,t),this.onSkinChange()):moosnow.form.showToast("\u91d1\u5e01\u4e0d\u8db3")},e.prototype.onUnlock=function(){var t=this;moosnow.platform.showVideo(function(e){if(e==moosnow.VIDEO_STATUS.END){var o=Lite.data.getSelectSkin();Lite.data.addUserSkinVideo(o);var n=Lite.data.getUserSkinById(o);a.SkinCfg.get(o).videoNum<=n.videoNum&&(Lite.data.setCurrentSkinId(o),moosnow.event.sendEventImmediately(l.default.SKIN_CHANGE,o),t.onSkinChange())}else e==moosnow.VIDEO_STATUS.ERR?moosnow.form.showToast(moosnow.VIDEO_MSG.ERR):moosnow.form.showToast(moosnow.VIDEO_MSG.NOTEND)})},s([f(cc.ScrollView)],e.prototype,"skinView",void 0),s([f(cc.Layout)],e.prototype,"skinLayout",void 0),s([f(cc.Node)],e.prototype,"btnBack",void 0),s([f(cc.Node)],e.prototype,"btnVideo",void 0),s([f(cc.Node)],e.prototype,"btnCoin",void 0),s([d],e)}(c.default);o.default=m,cc._RF.pop()},{"../../../sheets/vo/SkinCfg":"SkinCfg","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../framework/utils/Common":"Common","../../framework/utils/FrameworkEvent":"FrameworkEvent"}],totalForm:[function(t,e,o){"use strict";cc._RF.push(e,"d02a2m1n5NDtLANi3x3IHMU","totalForm");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,o=1,n=arguments.length;o<n;o++)for(var i in e=arguments[o])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},s=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var c=t("../../framework/ui/UIForm"),a=t("../../../sheets/vo/LevelCfg"),u=t("../../framework/utils/Common"),l=t("../../config/UIForms"),p=cc._decorator,h=p.ccclass,d=p.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.checked=null,e.unchecked=null,e.btnReceive=null,e.levelCoin=null,e.isMask=!0,e.mCheckedVideo=!0,e.mLevelCoinNum=0,e.mLevelShareCoinNum=0,e}return i(e,t),e.prototype.addEvent=function(){this.unchecked.node.on(cc.Node.EventType.TOUCH_END,this.onShareChange,this),this.btnReceive.node.on(cc.Node.EventType.TOUCH_END,this.onReceive,this)},e.prototype.removeEvent=function(){this.unchecked.node.off(cc.Node.EventType.TOUCH_END,this.onShareChange,this),this.btnReceive.node.off(cc.Node.EventType.TOUCH_END,this.onReceive,this)},e.prototype.onReceive=function(){var t=this;this.mCheckedVideo?moosnow.platform.showVideo(function(e){e==moosnow.VIDEO_STATUS.END?t.openEnd(5*t.mLevelCoinNum):e==moosnow.VIDEO_STATUS.ERR?Lite.ui.showToast(moosnow.VIDEO_MSG.ERR):Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND)}):this.openEnd(this.mLevelCoinNum)},e.prototype.openEnd=function(t){Lite.ui.hideUIForm(l.default.TotalForm,null),Lite.ui.pushUIForm(l.default.EndForm,r({coin:t,level:this.FormData.level,levelShareCoinNum:this.mLevelShareCoinNum},this.FormData))},e.prototype.onShareChange=function(){this.mCheckedVideo=!this.mCheckedVideo,this.showBtn()},e.prototype.showBtn=function(){this.mCheckedVideo?this.checked.node.active=!0:this.checked.node.active=!1},e.prototype.onShow=function(){var t=a.LevelCfg.get(this.FormData.level+1);this.mLevelCoinNum=t.coin,this.mLevelShareCoinNum=t.shareCoin,this.levelCoin.string=""+u.default.formatMoney(this.mLevelCoinNum),this.addEvent(),this.showBtn(),this.mCheckedVideo=!0,this.showBtn(),moosnow.platform.stopRecord(),moosnow.platform.showBanner(!1)},e.prototype.willHide=function(){this.removeEvent(),moosnow.platform.hideBanner()},s([d(cc.Sprite)],e.prototype,"checked",void 0),s([d(cc.Sprite)],e.prototype,"unchecked",void 0),s([d(cc.Sprite)],e.prototype,"btnReceive",void 0),s([d(cc.Label)],e.prototype,"levelCoin",void 0),s([h],e)}(c.default);o.default=f,cc._RF.pop()},{"../../../sheets/vo/LevelCfg":"LevelCfg","../../config/UIForms":"UIForms","../../framework/ui/UIForm":"UIForm","../../framework/utils/Common":"Common"}],tryBase:[function(t,e,o){"use strict";cc._RF.push(e,"86e2a4UKVtPnpNiSf1JmWGi","tryBase");var n,i=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])})(t,e)},function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),r=this&&this.__decorate||function(t,e,o,n){var i,r=arguments.length,s=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(i=t[c])&&(s=(r<3?i(s):r>3?i(e,o,s):i(e,o))||s);return r>3&&s&&Object.defineProperty(e,o,s),s};Object.defineProperty(o,"__esModule",{value:!0});var s=t("../utils/Common"),c=t("./UIForm"),a=cc._decorator,u=a.ccclass,l=a.property,p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.logo=null,e.light=null,e.btnVideo=null,e.btnNext=null,e.isMask=!0,e.preloadIndex=-1,e}return i(e,t),e.prototype.willShow=function(e){t.prototype.willShow.call(this,e),moosnow.http.point("\u9875\u9762\u6253\u5f00\u6b21\u6570",{name:"\u76ae\u80a4\u8bd5\u7528\u9875"}),this.addListener(),this.showTrySkin(),this.light.stopAllActions(),this.light.runAction(cc.sequence(cc.rotateBy(3,180),cc.callFunc(function(){})).repeatForever()),this.preloadIndex=moosnow.platform.preloadBanner()},e.prototype.willHide=function(){this.removeListener()},e.prototype.changeSkin=function(){},e.prototype.showTrySkin=function(){},e.prototype.addListener=function(){this.btnNext.node.on(cc.Node.EventType.TOUCH_END,this.closeTry,this),this.btnVideo.node.on(cc.Node.EventType.TOUCH_END,this.openVideo,this)},e.prototype.removeListener=function(){this.btnNext.node.off(cc.Node.EventType.TOUCH_END,this.closeTry,this),this.btnVideo.node.off(cc.Node.EventType.TOUCH_END,this.openVideo,this)},e.prototype.closeTry=function(){var t=this;1==Lite.config.getKey("SkinForceAd",0)?moosnow.platform.showVideo(function(){t.closeTryForm()}):(Lite.data.addTrying(0),this.closeTryForm())},e.prototype.openVideo=function(){var t=this;moosnow.platform.showVideo(function(e){switch(e){case moosnow.VIDEO_STATUS.NOTEND:Lite.ui.showToast(moosnow.VIDEO_MSG.NOTEND);break;case moosnow.VIDEO_STATUS.ERR:Lite.ui.showToast(moosnow.VIDEO_MSG.ERR);break;case moosnow.VIDEO_STATUS.END:Lite.data.addTrying(t.mTrySkin.ID),Lite.data.setDailyTask(1,"num",1),t.closeTryForm()}})},e.prototype.closeTryForm=function(){Lite.ui.hideUIForm(this.node.name,null),moosnow.platform.hideBanner(),this.FormData&&s.default.isFunction(this.FormData.callback)&&this.FormData.callback()},r([l(cc.Sprite)],e.prototype,"logo",void 0),r([l(cc.Node)],e.prototype,"light",void 0),r([l(cc.Sprite)],e.prototype,"btnVideo",void 0),r([l(cc.Sprite)],e.prototype,"btnNext",void 0),r([u],e)}(c.default);o.default=p,cc._RF.pop()},{"../utils/Common":"Common","./UIForm":"UIForm"}]},{},["Entitys","PackingMapping","UIForms","ActionControl","BaseControl","BoxBoom","BoxBroken","CameraControl","GameCountdown","LevelMap","MapControl","PlayerBoom","PlayerCar","PlayerCarPart","RoleControl","SkinItem","TargetBox","TruckLoader","BUFFER","BoxType","ElevatorMove","ElevatorType","LevelAdType","PlayerCarType","ROLE_ATTACK","ROLE_MOVE","ScollType","BoxControl","DoorControl","ElevatorControl","FloorControl","GameScene","KeyboardCenter","MistouchPos","RockerControl","Rope","SuckerControl","SwitchControl","TargetBoxControl","WaitingShow","physics-bound","AD_POSITION","BundleMgr","GameDataCenter","PhysicsSetting","SiteMgr","TouchManager","Bundles","EntityData","EntityLogic","enum","ButtonEx","CheckboxEx","DelayMove","DelayShow","MaskEx","StopPropagation","AppConfig","AudioModule","BaseModule","EntityModule","GameLogic","GameState","ResourceModule","UIModule","gameEntry","LoadingBase","MainBase","ToastForm","TransitionBase","UIForm","boxBase","endBase","finishBase","gameBase","homeBase","mistouchBase","pauseBase","shopBase","totalForm","tryBase","ArrayUtil","Common","Delay","FrameworkEvent","Logger","MathUtils","MoveUtil","SheetManager","Utils3D","ConfigData","EasterEgg","LevelCfg","PrizeBox","Sheets","Sign","SignVo","SkinCfg"]);